(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var mf={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function T0(){if(Op)return Ol;Op=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:a,type:s,key:d,ref:u!==void 0?u:null,props:h}}return Ol.Fragment=e,Ol.jsx=i,Ol.jsxs=i,Ol}var Mp;function A0(){return Mp||(Mp=1,mf.exports=T0()),mf.exports}var k=A0(),gf={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function S0(){if(xp)return St;xp=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),V=Symbol.iterator;function P(C){return C===null||typeof C!="object"?null:(C=V&&C[V]||C["@@iterator"],typeof C=="function"?C:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,J={};function Z(C,X,at){this.props=C,this.context=X,this.refs=J,this.updater=at||H}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ct(){}ct.prototype=Z.prototype;function gt(C,X,at){this.props=C,this.context=X,this.refs=J,this.updater=at||H}var ft=gt.prototype=new ct;ft.constructor=gt,$(ft,Z.prototype),ft.isPureReactComponent=!0;var Ct=Array.isArray,dt={H:null,A:null,T:null,S:null},Tt=Object.prototype.hasOwnProperty;function N(C,X,at,et,nt,bt){return at=bt.ref,{$$typeof:a,type:C,key:X,ref:at!==void 0?at:null,props:bt}}function R(C,X){return N(C.type,X,void 0,void 0,void 0,C.props)}function A(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function D(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(at){return X[at]})}var O=/\/+/g;function x(C,X){return typeof C=="object"&&C!==null&&C.key!=null?D(""+C.key):X.toString(36)}function w(){}function Qt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Zt(C,X,at,et,nt){var bt=typeof C;(bt==="undefined"||bt==="boolean")&&(C=null);var At=!1;if(C===null)At=!0;else switch(bt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(C.$$typeof){case a:case e:At=!0;break;case S:return At=C._init,Zt(At(C._payload),X,at,et,nt)}}if(At)return nt=nt(C),At=et===""?"."+x(C,0):et,Ct(nt)?(at="",At!=null&&(at=At.replace(O,"$&/")+"/"),Zt(nt,X,at,"",function(re){return re})):nt!=null&&(A(nt)&&(nt=R(nt,at+(nt.key==null||C&&C.key===nt.key?"":(""+nt.key).replace(O,"$&/")+"/")+At)),X.push(nt)),1;At=0;var fe=et===""?".":et+":";if(Ct(C))for(var zt=0;zt<C.length;zt++)et=C[zt],bt=fe+x(et,zt),At+=Zt(et,X,at,bt,nt);else if(zt=P(C),typeof zt=="function")for(C=zt.call(C),zt=0;!(et=C.next()).done;)et=et.value,bt=fe+x(et,zt++),At+=Zt(et,X,at,bt,nt);else if(bt==="object"){if(typeof C.then=="function")return Zt(Qt(C),X,at,et,nt);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return At}function tt(C,X,at){if(C==null)return C;var et=[],nt=0;return Zt(C,et,"","",function(bt){return X.call(at,bt,nt++)}),et}function pt(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(at){(C._status===0||C._status===-1)&&(C._status=1,C._result=at)},function(at){(C._status===0||C._status===-1)&&(C._status=2,C._result=at)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var ut=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function qt(){}return St.Children={map:tt,forEach:function(C,X,at){tt(C,function(){X.apply(this,arguments)},at)},count:function(C){var X=0;return tt(C,function(){X++}),X},toArray:function(C){return tt(C,function(X){return X})||[]},only:function(C){if(!A(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},St.Component=Z,St.Fragment=i,St.Profiler=u,St.PureComponent=gt,St.StrictMode=s,St.Suspense=_,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dt,St.act=function(){throw Error("act(...) is not supported in production builds of React.")},St.cache=function(C){return function(){return C.apply(null,arguments)}},St.cloneElement=function(C,X,at){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var et=$({},C.props),nt=C.key,bt=void 0;if(X!=null)for(At in X.ref!==void 0&&(bt=void 0),X.key!==void 0&&(nt=""+X.key),X)!Tt.call(X,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&X.ref===void 0||(et[At]=X[At]);var At=arguments.length-2;if(At===1)et.children=at;else if(1<At){for(var fe=Array(At),zt=0;zt<At;zt++)fe[zt]=arguments[zt+2];et.children=fe}return N(C.type,nt,void 0,void 0,bt,et)},St.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},St.createElement=function(C,X,at){var et,nt={},bt=null;if(X!=null)for(et in X.key!==void 0&&(bt=""+X.key),X)Tt.call(X,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(nt[et]=X[et]);var At=arguments.length-2;if(At===1)nt.children=at;else if(1<At){for(var fe=Array(At),zt=0;zt<At;zt++)fe[zt]=arguments[zt+2];nt.children=fe}if(C&&C.defaultProps)for(et in At=C.defaultProps,At)nt[et]===void 0&&(nt[et]=At[et]);return N(C,bt,void 0,void 0,null,nt)},St.createRef=function(){return{current:null}},St.forwardRef=function(C){return{$$typeof:g,render:C}},St.isValidElement=A,St.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:pt}},St.memo=function(C,X){return{$$typeof:v,type:C,compare:X===void 0?null:X}},St.startTransition=function(C){var X=dt.T,at={};dt.T=at;try{var et=C(),nt=dt.S;nt!==null&&nt(at,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(qt,ut)}catch(bt){ut(bt)}finally{dt.T=X}},St.unstable_useCacheRefresh=function(){return dt.H.useCacheRefresh()},St.use=function(C){return dt.H.use(C)},St.useActionState=function(C,X,at){return dt.H.useActionState(C,X,at)},St.useCallback=function(C,X){return dt.H.useCallback(C,X)},St.useContext=function(C){return dt.H.useContext(C)},St.useDebugValue=function(){},St.useDeferredValue=function(C,X){return dt.H.useDeferredValue(C,X)},St.useEffect=function(C,X){return dt.H.useEffect(C,X)},St.useId=function(){return dt.H.useId()},St.useImperativeHandle=function(C,X,at){return dt.H.useImperativeHandle(C,X,at)},St.useInsertionEffect=function(C,X){return dt.H.useInsertionEffect(C,X)},St.useLayoutEffect=function(C,X){return dt.H.useLayoutEffect(C,X)},St.useMemo=function(C,X){return dt.H.useMemo(C,X)},St.useOptimistic=function(C,X){return dt.H.useOptimistic(C,X)},St.useReducer=function(C,X,at){return dt.H.useReducer(C,X,at)},St.useRef=function(C){return dt.H.useRef(C)},St.useState=function(C){return dt.H.useState(C)},St.useSyncExternalStore=function(C,X,at){return dt.H.useSyncExternalStore(C,X,at)},St.useTransition=function(){return dt.H.useTransition()},St.version="19.0.0",St}var Up;function $f(){return Up||(Up=1,gf.exports=S0()),gf.exports}var kt=$f(),pf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function b0(){if(Lp)return He;Lp=1;var a=$f();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,S){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:V==null?null:""+V,children:_,containerInfo:v,implementation:S}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(_,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,S)},He.flushSync=function(_){var v=d.T,S=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=S,s.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var S=v.as,V=g(S,v.crossOrigin),P=typeof v.integrity=="string"?v.integrity:void 0,H=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:V,integrity:P,fetchPriority:H}):S==="script"&&s.d.X(_,{crossOrigin:V,integrity:P,fetchPriority:H,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,V=g(S,v.crossOrigin);s.d.L(_,S,{crossOrigin:V,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var S=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},He.requestFormReset=function(_){s.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,S){return d.H.useFormState(_,v,S)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.0.0",He}var zp;function t_(){if(zp)return pf.exports;zp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),pf.exports=b0(),pf.exports}t_();var yf={exports:{}},Ml={},_f={exports:{}},vf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function R0(){return Bp||(Bp=1,function(a){function e(tt,pt){var ut=tt.length;tt.push(pt);t:for(;0<ut;){var qt=ut-1>>>1,C=tt[qt];if(0<u(C,pt))tt[qt]=pt,tt[ut]=C,ut=qt;else break t}}function i(tt){return tt.length===0?null:tt[0]}function s(tt){if(tt.length===0)return null;var pt=tt[0],ut=tt.pop();if(ut!==pt){tt[0]=ut;t:for(var qt=0,C=tt.length,X=C>>>1;qt<X;){var at=2*(qt+1)-1,et=tt[at],nt=at+1,bt=tt[nt];if(0>u(et,ut))nt<C&&0>u(bt,et)?(tt[qt]=bt,tt[nt]=ut,qt=nt):(tt[qt]=et,tt[at]=ut,qt=at);else if(nt<C&&0>u(bt,ut))tt[qt]=bt,tt[nt]=ut,qt=nt;else break t}}return pt}function u(tt,pt){var ut=tt.sortIndex-pt.sortIndex;return ut!==0?ut:tt.id-pt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var _=[],v=[],S=1,V=null,P=3,H=!1,$=!1,J=!1,Z=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function ft(tt){for(var pt=i(v);pt!==null;){if(pt.callback===null)s(v);else if(pt.startTime<=tt)s(v),pt.sortIndex=pt.expirationTime,e(_,pt);else break;pt=i(v)}}function Ct(tt){if(J=!1,ft(tt),!$)if(i(_)!==null)$=!0,Qt();else{var pt=i(v);pt!==null&&Zt(Ct,pt.startTime-tt)}}var dt=!1,Tt=-1,N=5,R=-1;function A(){return!(a.unstable_now()-R<N)}function D(){if(dt){var tt=a.unstable_now();R=tt;var pt=!0;try{t:{$=!1,J&&(J=!1,ct(Tt),Tt=-1),H=!0;var ut=P;try{e:{for(ft(tt),V=i(_);V!==null&&!(V.expirationTime>tt&&A());){var qt=V.callback;if(typeof qt=="function"){V.callback=null,P=V.priorityLevel;var C=qt(V.expirationTime<=tt);if(tt=a.unstable_now(),typeof C=="function"){V.callback=C,ft(tt),pt=!0;break e}V===i(_)&&s(_),ft(tt)}else s(_);V=i(_)}if(V!==null)pt=!0;else{var X=i(v);X!==null&&Zt(Ct,X.startTime-tt),pt=!1}}break t}finally{V=null,P=ut,H=!1}pt=void 0}}finally{pt?O():dt=!1}}}var O;if(typeof gt=="function")O=function(){gt(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,w=x.port2;x.port1.onmessage=D,O=function(){w.postMessage(null)}}else O=function(){Z(D,0)};function Qt(){dt||(dt=!0,O())}function Zt(tt,pt){Tt=Z(function(){tt(a.unstable_now())},pt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(tt){tt.callback=null},a.unstable_continueExecution=function(){$||H||($=!0,Qt())},a.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<tt?Math.floor(1e3/tt):5},a.unstable_getCurrentPriorityLevel=function(){return P},a.unstable_getFirstCallbackNode=function(){return i(_)},a.unstable_next=function(tt){switch(P){case 1:case 2:case 3:var pt=3;break;default:pt=P}var ut=P;P=pt;try{return tt()}finally{P=ut}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(tt,pt){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var ut=P;P=tt;try{return pt()}finally{P=ut}},a.unstable_scheduleCallback=function(tt,pt,ut){var qt=a.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?qt+ut:qt):ut=qt,tt){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ut+C,tt={id:S++,callback:pt,priorityLevel:tt,startTime:ut,expirationTime:C,sortIndex:-1},ut>qt?(tt.sortIndex=ut,e(v,tt),i(_)===null&&tt===i(v)&&(J?(ct(Tt),Tt=-1):J=!0,Zt(Ct,ut-qt))):(tt.sortIndex=C,e(_,tt),$||H||($=!0,Qt())),tt},a.unstable_shouldYield=A,a.unstable_wrapCallback=function(tt){var pt=P;return function(){var ut=P;P=pt;try{return tt.apply(this,arguments)}finally{P=ut}}}}(vf)),vf}var Pp;function w0(){return Pp||(Pp=1,_f.exports=R0()),_f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function D0(){if(jp)return Ml;jp=1;var a=w0(),e=$f(),i=t_();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),H=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),ct=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),ft=Symbol.for("react.offscreen"),Ct=Symbol.for("react.memo_cache_sentinel"),dt=Symbol.iterator;function Tt(t){return t===null||typeof t!="object"?null:(t=dt&&t[dt]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case g:return"Portal";case S:return"Profiler";case v:return"StrictMode";case J:return"Suspense";case Z:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case H:return(t.displayName||"Context")+".Provider";case P:return(t._context.displayName||"Context")+".Consumer";case $:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ct:return n=t.displayName||null,n!==null?n:R(t.type)||"Memo";case gt:n=t._payload,t=t._init;try{return R(t(n))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,O,x;function w(t){if(O===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);O=n&&n[1]||"",x=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+t+x}var Qt=!1;function Zt(t,n){if(!t||Qt)return"";Qt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var B=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){B=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){B=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),M=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===M.length)for(l=b.length-1,c=M.length-1;1<=l&&0<=c&&b[l]!==M[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==M[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==M[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Qt=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?w(r):""}function tt(t){switch(t.tag){case 26:case 27:case 5:return w(t.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return t=Zt(t.type,!1),t;case 11:return t=Zt(t.type.render,!1),t;case 1:return t=Zt(t.type,!0),t;default:return""}}function pt(t){try{var n="";do n+=tt(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ut(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function qt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function C(t){if(ut(t)!==t)throw Error(s(188))}function X(t){var n=t.alternate;if(!n){if(n=ut(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return C(c),t;if(f===l)return C(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function at(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=at(t),n!==null)return n;t=t.sibling}return null}var et=Array.isArray,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt={pending:!1,data:null,method:null,action:null},At=[],fe=-1;function zt(t){return{current:t}}function re(t){0>fe||(t.current=At[fe],At[fe]=null,fe--)}function Ft(t,n){fe++,At[fe]=t.current,t.current=n}var Ye=zt(null),si=zt(null),hn=zt(null),Ui=zt(null);function Li(t,n){switch(Ft(hn,n),Ft(si,t),Ft(Ye,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?lp(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=lp(t),n=up(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}re(Ye),Ft(Ye,n)}function ai(){re(Ye),re(si),re(hn)}function Da(t){t.memoizedState!==null&&Ft(Ui,t);var n=Ye.current,r=up(n,t.type);n!==r&&(Ft(si,t),Ft(Ye,r))}function ys(t){si.current===t&&(re(Ye),re(si)),Ui.current===t&&(re(Ui),Dl._currentValue=bt)}var _s=Object.prototype.hasOwnProperty,Nr=a.unstable_scheduleCallback,vs=a.unstable_cancelCallback,gc=a.unstable_shouldYield,Ca=a.unstable_requestPaint,We=a.unstable_now,nu=a.unstable_getCurrentPriorityLevel,ye=a.unstable_ImmediatePriority,we=a.unstable_UserBlockingPriority,li=a.unstable_NormalPriority,iu=a.unstable_LowPriority,Va=a.unstable_IdlePriority,pc=a.log,Ir=a.unstable_setDisableYieldValue,zi=null,ke=null;function Na(t){if(ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(zi,t,void 0,(t.current.flags&128)===128)}catch{}}function zn(t){if(typeof pc=="function"&&Ir(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(zi,t)}catch{}}var Ke=Math.clz32?Math.clz32:su,Ia=Math.log,ru=Math.LN2;function su(t){return t>>>=0,t===0?32:31-(Ia(t)/ru|0)|0}var Bn=128,Bi=4194304;function Nn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=Nn(r):(f&=E,f!==0?l=Nn(f):t||(y=E&~y,y!==0&&(l=Nn(y))))):(E=r&~c,E!==0?l=Nn(E):f!==0?l=Nn(f):t||(y=r&~y,y!==0&&(l=Nn(y)))),l===0?0:n!==0&&n!==l&&(n&c)===0&&(c=l&-l,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:l}function Pi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Es(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oa(){var t=Bn;return Bn<<=1,(Bn&4194176)===0&&(Bn=128),t}function ji(){var t=Bi;return Bi<<=1,(Bi&62914560)===0&&(Bi=4194304),t}function Ts(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function oe(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function au(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,M=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-Ke(r),Y=1<<G;E[G]=0,b[G]=-1;var B=M[G];if(B!==null)for(M[G]=null,G=0;G<B.length;G++){var q=B[G];q!==null&&(q.lane&=-536870913)}r&=~Y}l!==0&&ki(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function ki(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function qi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ke(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function lu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function uu(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:wp(t.type))}function Hi(t,n){var r=nt.p;try{return nt.p=t,n()}finally{nt.p=r}}var Pn=Math.random().toString(36).slice(2),De="__reactFiber$"+Pn,_e="__reactProps$"+Pn,ui="__reactContainer$"+Pn,Or="__reactEvents$"+Pn,As="__reactListeners$"+Pn,jn="__reactHandles$"+Pn,Ma="__reactResources$"+Pn,Gi="__reactMarker$"+Pn;function Mr(t){delete t[De],delete t[_e],delete t[Or],delete t[As],delete t[jn]}function In(t){var n=t[De];if(n)return n;for(var r=t.parentNode;r;){if(n=r[ui]||r[De]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=hp(t);t!==null;){if(r=t[De])return r;t=hp(t)}return n}t=r,r=t.parentNode}return null}function oi(t){if(t=t[De]||t[ui]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Fi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Qi(t){var n=t[Ma];return n||(n=t[Ma]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function te(t){t[Gi]=!0}var xa=new Set,Ss={};function rn(t,n){tn(t,n),tn(t+"Capture",n)}function tn(t,n){for(Ss[t]=n,t=0;t<n.length;t++)xa.add(n[t])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ua={},La={};function ou(t){return _s.call(La,t)?!0:_s.call(Ua,t)?!1:yc.test(t)?La[t]=!0:(Ua[t]=!0,!1)}function Yi(t,n,r){if(ou(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Ki(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function dn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cu(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _c(t){var n=cu(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function xr(t){t._valueTracker||(t._valueTracker=_c(t))}function za(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=cu(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function bs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ci=/[\n"\\]/g;function se(t){return t.replace(ci,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Xi(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Rs(t,y,Xe(n)):r!=null?Rs(t,y,Xe(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xe(E):t.removeAttribute("name")}function Ur(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Rs(t,n,r){n==="number"&&bs(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Bt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Lr(t,n,r){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Xe(r):""}function Zi(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(et(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Xe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function mn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var vc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ba(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||vc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function hu(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Ba(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Ba(t,f,n[f])}function Pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ec=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kn(t){return Tc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var gn=null;function ws(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,fi=null;function di(t){var n=oi(t);if(n&&(t=n.stateNode)){var r=t[_e]||null;t:switch(t=n.stateNode,n.type){case"input":if(Xi(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+se(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[_e]||null;if(!c)throw Error(s(90));Xi(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&za(l)}break t;case"textarea":Lr(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Bt(t,!!r.multiple,n,!1)}}}var ja=!1;function fu(t,n,r){if(ja)return t(n,r);ja=!0;try{var l=t(n);return l}finally{if(ja=!1,(hi!==null||fi!==null)&&(io(),hi&&(n=hi,t=fi,fi=hi=null,di(n),t)))for(n=0;n<t.length;n++)di(t[n])}}function zr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[_e]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var pn=!1;if(sn)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){pn=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{pn=!1}var qn=null,$i=null,mi=null;function ka(){if(mi)return mi;var t,n=$i,r=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function Hn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function qa(){return!1}function Ce(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:qa,this.isPropagationStopped=qa,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ds=Ce(Ht),Pr=D({},Ht,{view:0,detail:0}),du=Ce(Pr),Cs,Vs,Fn,jr=D({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(Cs=t.screenX-Fn.screenX,Vs=t.screenY-Fn.screenY):Vs=Cs=0,Fn=t),Cs)},movementY:function(t){return"movementY"in t?t.movementY:Vs}}),yn=Ce(jr),mu=D({},jr,{dataTransfer:0}),Ac=Ce(mu),kr=D({},Pr,{relatedTarget:0}),Ns=Ce(kr),Ha=D({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Is=Ce(Ha),gu=D({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Os=Ce(gu),Sc=D({},Ht,{data:0}),Ga=Ce(Sc),qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fa(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=yu[t])?!!n[t]:!1}function Hr(){return Fa}var _u=D({},Pr,{key:function(t){if(t.key){var n=qr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(t){return t.type==="keypress"?Hn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ms=Ce(_u),vu=D({},jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qa=Ce(vu),gi=D({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),Eu=Ce(gi),Tu=D({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Au=Ce(Tu),Su=D({},jr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xs=Ce(Su),Ze=D({},Ht,{newState:0,oldState:0}),bu=Ce(Ze),Ru=[9,13,27,32],Qn=sn&&"CompositionEvent"in window,o=null;sn&&"documentMode"in document&&(o=document.documentMode);var m=sn&&"TextEvent"in window&&!o,p=sn&&(!Qn||o&&8<o&&11>=o),T=" ",L=!1;function j(t,n){switch(t){case"keyup":return Ru.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function ve(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Qn&&j(t,n)?(t=ka(),mi=$i=qn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ve[t.type]:n==="textarea"}function pi(t,n,r,l){hi?fi?fi.push(l):fi=[l]:hi=l,n=uo(n,"onChange"),0<n.length&&(r=new Ds("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var xe=null,Yn=null;function Ya(t){np(t,0)}function wu(t){var n=Fi(t);if(za(n))return t}function Id(t,n){if(t==="change")return n}var Od=!1;if(sn){var bc;if(sn){var Rc="oninput"in document;if(!Rc){var Md=document.createElement("div");Md.setAttribute("oninput","return;"),Rc=typeof Md.oninput=="function"}bc=Rc}else bc=!1;Od=bc&&(!document.documentMode||9<document.documentMode)}function xd(){xe&&(xe.detachEvent("onpropertychange",Ud),Yn=xe=null)}function Ud(t){if(t.propertyName==="value"&&wu(Yn)){var n=[];pi(n,Yn,t,ws(t)),fu(Ya,n)}}function $v(t,n,r){t==="focusin"?(xd(),xe=n,Yn=r,xe.attachEvent("onpropertychange",Ud)):t==="focusout"&&xd()}function Jv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(Yn)}function Wv(t,n){if(t==="click")return wu(n)}function tE(t,n){if(t==="input"||t==="change")return wu(n)}function eE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:eE;function Ka(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!_s.call(n,c)||!an(t[c],n[c]))return!1}return!0}function Ld(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zd(t,n){var r=Ld(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Ld(r)}}function Bd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Bd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Pd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=bs(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=bs(t.document)}return n}function wc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function nE(t,n){var r=Pd(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&Bd(n.ownerDocument.documentElement,n)){if(l!==null&&wc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=zd(n,f);var y=zd(n,l);c&&y&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var iE=sn&&"documentMode"in document&&11>=document.documentMode,Us=null,Dc=null,Xa=null,Cc=!1;function jd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Cc||Us==null||Us!==bs(l)||(l=Us,"selectionStart"in l&&wc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xa&&Ka(Xa,l)||(Xa=l,l=uo(Dc,"onSelect"),0<l.length&&(n=new Ds("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Us)))}function Gr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ls={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionrun:Gr("Transition","TransitionRun"),transitionstart:Gr("Transition","TransitionStart"),transitioncancel:Gr("Transition","TransitionCancel"),transitionend:Gr("Transition","TransitionEnd")},Vc={},kd={};sn&&(kd=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function Fr(t){if(Vc[t])return Vc[t];if(!Ls[t])return t;var n=Ls[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in kd)return Vc[t]=n[r];return t}var qd=Fr("animationend"),Hd=Fr("animationiteration"),Gd=Fr("animationstart"),rE=Fr("transitionrun"),sE=Fr("transitionstart"),aE=Fr("transitioncancel"),Fd=Fr("transitionend"),Qd=new Map,Yd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function On(t,n){Qd.set(t,n),rn(n,[t])}var _n=[],zs=0,Nc=0;function Du(){for(var t=zs,n=Nc=zs=0;n<t;){var r=_n[n];_n[n++]=null;var l=_n[n];_n[n++]=null;var c=_n[n];_n[n++]=null;var f=_n[n];if(_n[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Kd(r,c,f)}}function Cu(t,n,r,l){_n[zs++]=t,_n[zs++]=n,_n[zs++]=r,_n[zs++]=l,Nc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ic(t,n,r,l){return Cu(t,n,r,l),Vu(t)}function Ji(t,n){return Cu(t,null,null,n),Vu(t)}function Kd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Ke(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function Vu(t){if(50<El)throw El=0,zh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Bs={},Xd=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var r=Xd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:pt(n)},Xd.set(t,n),n)}return{value:t,source:n,stack:pt(n)}}var Ps=[],js=0,Nu=null,Iu=0,En=[],Tn=0,Qr=null,yi=1,_i="";function Yr(t,n){Ps[js++]=Iu,Ps[js++]=Nu,Nu=t,Iu=n}function Zd(t,n,r){En[Tn++]=yi,En[Tn++]=_i,En[Tn++]=Qr,Qr=t;var l=yi;t=_i;var c=32-Ke(l)-1;l&=~(1<<c),r+=1;var f=32-Ke(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,yi=1<<32-Ke(n)+c|r<<c|l,_i=f+t}else yi=1<<f|r<<c|l,_i=t}function Oc(t){t.return!==null&&(Yr(t,1),Zd(t,1,0))}function Mc(t){for(;t===Nu;)Nu=Ps[--js],Ps[js]=null,Iu=Ps[--js],Ps[js]=null;for(;t===Qr;)Qr=En[--Tn],En[Tn]=null,_i=En[--Tn],En[Tn]=null,yi=En[--Tn],En[Tn]=null}var $e=null,Ue=null,Pt=!1,Mn=null,Kn=!1,xc=Error(s(519));function Kr(t){var n=Error(s(418,""));throw Ja(vn(n,t)),xc}function $d(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[De]=t,n[_e]=l,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<Al.length;r++)It(Al[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Ur(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),xr(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Zi(n,l.value,l.defaultValue,l.children),xr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||ap(n.textContent,r)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=oo),n=!0):n=!1,n||Kr(t)}function Jd(t){for($e=t.return;$e;)switch($e.tag){case 3:case 27:Kn=!0;return;case 5:case 13:Kn=!1;return;default:$e=$e.return}}function Za(t){if(t!==$e)return!1;if(!Pt)return Jd(t),Pt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||tf(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Ue&&Kr(t),Jd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Ue=Un(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Ue=null}}else Ue=$e?Un(t.stateNode.nextSibling):null;return!0}function $a(){Ue=$e=null,Pt=!1}function Ja(t){Mn===null?Mn=[t]:Mn.push(t)}var Wa=Error(s(460)),Wd=Error(s(474)),Uc={then:function(){}};function tm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ou(){}function em(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Ou,Ou),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Wa?Error(s(483)):t;default:if(typeof n.status=="string")n.then(Ou,Ou);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Wa?Error(s(483)):t}throw tl=n,Wa}}var tl=null;function nm(){if(tl===null)throw Error(s(459));var t=tl;return tl=null,t}var ks=null,el=0;function Mu(t){var n=el;return el+=1,ks===null&&(ks=[]),em(ks,t,n)}function nl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function xu(t,n){throw n.$$typeof===h?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function im(t){var n=t._init;return n(t._payload)}function rm(t){function n(U,I){if(t){var z=U.deletions;z===null?(U.deletions=[I],U.flags|=16):z.push(I)}}function r(U,I){if(!t)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function l(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function c(U,I){return U=cr(U,I),U.index=0,U.sibling=null,U}function f(U,I,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<I?(U.flags|=33554434,I):z):(U.flags|=33554434,I)):(U.flags|=1048576,I)}function y(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function E(U,I,z,F){return I===null||I.tag!==6?(I=Vh(z,U.mode,F),I.return=U,I):(I=c(I,z),I.return=U,I)}function b(U,I,z,F){var rt=z.type;return rt===_?G(U,I,z.props.children,F,z.key):I!==null&&(I.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===gt&&im(rt)===I.type)?(I=c(I,z.props),nl(I,z),I.return=U,I):(I=Ju(z.type,z.key,z.props,null,U.mode,F),nl(I,z),I.return=U,I)}function M(U,I,z,F){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=Nh(z,U.mode,F),I.return=U,I):(I=c(I,z.children||[]),I.return=U,I)}function G(U,I,z,F,rt){return I===null||I.tag!==7?(I=rs(z,U.mode,F,rt),I.return=U,I):(I=c(I,z),I.return=U,I)}function Y(U,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Vh(""+I,U.mode,z),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case d:return z=Ju(I.type,I.key,I.props,null,U.mode,z),nl(z,I),z.return=U,z;case g:return I=Nh(I,U.mode,z),I.return=U,I;case gt:var F=I._init;return I=F(I._payload),Y(U,I,z)}if(et(I)||Tt(I))return I=rs(I,U.mode,z,null),I.return=U,I;if(typeof I.then=="function")return Y(U,Mu(I),z);if(I.$$typeof===H)return Y(U,Xu(U,I),z);xu(U,I)}return null}function B(U,I,z,F){var rt=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return rt!==null?null:E(U,I,""+z,F);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case d:return z.key===rt?b(U,I,z,F):null;case g:return z.key===rt?M(U,I,z,F):null;case gt:return rt=z._init,z=rt(z._payload),B(U,I,z,F)}if(et(z)||Tt(z))return rt!==null?null:G(U,I,z,F,null);if(typeof z.then=="function")return B(U,I,Mu(z),F);if(z.$$typeof===H)return B(U,I,Xu(U,z),F);xu(U,z)}return null}function q(U,I,z,F,rt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(z)||null,E(I,U,""+F,rt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case d:return U=U.get(F.key===null?z:F.key)||null,b(I,U,F,rt);case g:return U=U.get(F.key===null?z:F.key)||null,M(I,U,F,rt);case gt:var Dt=F._init;return F=Dt(F._payload),q(U,I,z,F,rt)}if(et(F)||Tt(F))return U=U.get(z)||null,G(I,U,F,rt,null);if(typeof F.then=="function")return q(U,I,z,Mu(F),rt);if(F.$$typeof===H)return q(U,I,z,Xu(I,F),rt);xu(I,F)}return null}function st(U,I,z,F){for(var rt=null,Dt=null,lt=I,mt=I=0,Oe=null;lt!==null&&mt<z.length;mt++){lt.index>mt?(Oe=lt,lt=null):Oe=lt.sibling;var jt=B(U,lt,z[mt],F);if(jt===null){lt===null&&(lt=Oe);break}t&&lt&&jt.alternate===null&&n(U,lt),I=f(jt,I,mt),Dt===null?rt=jt:Dt.sibling=jt,Dt=jt,lt=Oe}if(mt===z.length)return r(U,lt),Pt&&Yr(U,mt),rt;if(lt===null){for(;mt<z.length;mt++)lt=Y(U,z[mt],F),lt!==null&&(I=f(lt,I,mt),Dt===null?rt=lt:Dt.sibling=lt,Dt=lt);return Pt&&Yr(U,mt),rt}for(lt=l(lt);mt<z.length;mt++)Oe=q(lt,U,mt,z[mt],F),Oe!==null&&(t&&Oe.alternate!==null&&lt.delete(Oe.key===null?mt:Oe.key),I=f(Oe,I,mt),Dt===null?rt=Oe:Dt.sibling=Oe,Dt=Oe);return t&&lt.forEach(function(yr){return n(U,yr)}),Pt&&Yr(U,mt),rt}function vt(U,I,z,F){if(z==null)throw Error(s(151));for(var rt=null,Dt=null,lt=I,mt=I=0,Oe=null,jt=z.next();lt!==null&&!jt.done;mt++,jt=z.next()){lt.index>mt?(Oe=lt,lt=null):Oe=lt.sibling;var yr=B(U,lt,jt.value,F);if(yr===null){lt===null&&(lt=Oe);break}t&&lt&&yr.alternate===null&&n(U,lt),I=f(yr,I,mt),Dt===null?rt=yr:Dt.sibling=yr,Dt=yr,lt=Oe}if(jt.done)return r(U,lt),Pt&&Yr(U,mt),rt;if(lt===null){for(;!jt.done;mt++,jt=z.next())jt=Y(U,jt.value,F),jt!==null&&(I=f(jt,I,mt),Dt===null?rt=jt:Dt.sibling=jt,Dt=jt);return Pt&&Yr(U,mt),rt}for(lt=l(lt);!jt.done;mt++,jt=z.next())jt=q(lt,U,mt,jt.value,F),jt!==null&&(t&&jt.alternate!==null&&lt.delete(jt.key===null?mt:jt.key),I=f(jt,I,mt),Dt===null?rt=jt:Dt.sibling=jt,Dt=jt);return t&&lt.forEach(function(E0){return n(U,E0)}),Pt&&Yr(U,mt),rt}function ue(U,I,z,F){if(typeof z=="object"&&z!==null&&z.type===_&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case d:t:{for(var rt=z.key;I!==null;){if(I.key===rt){if(rt=z.type,rt===_){if(I.tag===7){r(U,I.sibling),F=c(I,z.props.children),F.return=U,U=F;break t}}else if(I.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===gt&&im(rt)===I.type){r(U,I.sibling),F=c(I,z.props),nl(F,z),F.return=U,U=F;break t}r(U,I);break}else n(U,I);I=I.sibling}z.type===_?(F=rs(z.props.children,U.mode,F,z.key),F.return=U,U=F):(F=Ju(z.type,z.key,z.props,null,U.mode,F),nl(F,z),F.return=U,U=F)}return y(U);case g:t:{for(rt=z.key;I!==null;){if(I.key===rt)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){r(U,I.sibling),F=c(I,z.children||[]),F.return=U,U=F;break t}else{r(U,I);break}else n(U,I);I=I.sibling}F=Nh(z,U.mode,F),F.return=U,U=F}return y(U);case gt:return rt=z._init,z=rt(z._payload),ue(U,I,z,F)}if(et(z))return st(U,I,z,F);if(Tt(z)){if(rt=Tt(z),typeof rt!="function")throw Error(s(150));return z=rt.call(z),vt(U,I,z,F)}if(typeof z.then=="function")return ue(U,I,Mu(z),F);if(z.$$typeof===H)return ue(U,I,Xu(U,z),F);xu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(r(U,I.sibling),F=c(I,z),F.return=U,U=F):(r(U,I),F=Vh(z,U.mode,F),F.return=U,U=F),y(U)):r(U,I)}return function(U,I,z,F){try{el=0;var rt=ue(U,I,z,F);return ks=null,rt}catch(lt){if(lt===Wa)throw lt;var Dt=Rn(29,lt,null,U.mode);return Dt.lanes=F,Dt.return=U,Dt}finally{}}}var Xr=rm(!0),sm=rm(!1),qs=zt(null),Uu=zt(0);function am(t,n){t=Vi,Ft(Uu,t),Ft(qs,n),Vi=t|n.baseLanes}function Lc(){Ft(Uu,Vi),Ft(qs,qs.current)}function zc(){Vi=Uu.current,re(qs),re(Uu)}var An=zt(null),Xn=null;function Wi(t){var n=t.alternate;Ft(Te,Te.current&1),Ft(An,t),Xn===null&&(n===null||qs.current!==null||n.memoizedState!==null)&&(Xn=t)}function lm(t){if(t.tag===22){if(Ft(Te,Te.current),Ft(An,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else tr()}function tr(){Ft(Te,Te.current),Ft(An,An.current)}function vi(t){re(An),Xn===t&&(Xn=null),re(Te)}var Te=zt(0);function Lu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var lE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},uE=a.unstable_scheduleCallback,oE=a.unstable_NormalPriority,Ae={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bc(){return{controller:new lE,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&uE(oE,function(){t.controller.abort()})}var rl=null,Pc=0,Hs=0,Gs=null;function cE(t,n){if(rl===null){var r=rl=[];Pc=0,Hs=Fh(),Gs={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Pc++,n.then(um,um),n}function um(){if(--Pc===0&&rl!==null){Gs!==null&&(Gs.status="fulfilled");var t=rl;rl=null,Hs=0,Gs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function hE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var om=A.S;A.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&cE(t,n),om!==null&&om(t,n)};var Zr=zt(null);function jc(){var t=Zr.current;return t!==null?t:$t.pooledCache}function zu(t,n){n===null?Ft(Zr,Zr.current):Ft(Zr,n.pool)}function cm(){var t=jc();return t===null?null:{parent:Ae._currentValue,pool:t}}var er=0,Rt=null,Yt=null,de=null,Bu=!1,Fs=!1,$r=!1,Pu=0,sl=0,Qs=null,fE=0;function ce(){throw Error(s(321))}function kc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function qc(t,n,r,l,c,f){return er=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?Jr:nr,$r=!1,f=r(l,c),$r=!1,Fs&&(f=fm(n,r,l,c)),hm(t),f}function hm(t){A.H=Zn;var n=Yt!==null&&Yt.next!==null;if(er=0,de=Yt=Rt=null,Bu=!1,sl=0,Qs=null,n)throw Error(s(300));t===null||Ne||(t=t.dependencies,t!==null&&Ku(t)&&(Ne=!0))}function fm(t,n,r,l){Rt=t;var c=0;do{if(Fs&&(Qs=null),sl=0,Fs=!1,25<=c)throw Error(s(301));if(c+=1,de=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=Wr,f=n(r,l)}while(Fs);return f}function dE(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?al(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function Hc(){var t=Pu!==0;return Pu=0,t}function Gc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Fc(t){if(Bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bu=!1}er=0,de=Yt=Rt=null,Fs=!1,sl=Pu=0,Qs=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Rt.memoizedState=de=t:de=de.next=t,de}function me(){if(Yt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=de===null?Rt.memoizedState:de.next;if(n!==null)de=n,Yt=t;else{if(t===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},de===null?Rt.memoizedState=de=t:de=de.next=t}return de}var ju;ju=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function al(t){var n=sl;return sl+=1,Qs===null&&(Qs=[]),t=em(Qs,t,n),n=Rt,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?Jr:nr),t}function ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===H)return qe(t)}throw Error(s(438,String(t)))}function Qc(t){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ju(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=Ct;return n.index++,r}function Ei(t,n){return typeof n=="function"?n(t):n}function qu(t){var n=me();return Yc(n,Yt,t)}function Yc(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,M=n,G=!1;do{var Y=M.lane&-536870913;if(Y!==M.lane?(xt&Y)===Y:(er&Y)===Y){var B=M.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),Y===Hs&&(G=!0);else if((er&B)===B){M=M.next,B===Hs&&(G=!0);continue}else Y={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},b===null?(E=b=Y,y=f):b=b.next=Y,Rt.lanes|=B,hr|=B;Y=M.action,$r&&r(f,Y),f=M.hasEagerState?M.eagerState:r(f,Y)}else B={lane:Y,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,Rt.lanes|=Y,hr|=Y;M=M.next}while(M!==null&&M!==n);if(b===null?y=f:b.next=E,!an(f,t.memoizedState)&&(Ne=!0,G&&(r=Gs,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Kc(t){var n=me(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);an(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function dm(t,n,r){var l=Rt,c=me(),f=Pt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!an((Yt||c).memoizedState,r);if(y&&(c.memoizedState=r,Ne=!0),c=c.queue,$c(pm.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,Ys(9,gm.bind(null,l,c,r,n),{destroy:void 0},null),$t===null)throw Error(s(349));f||(er&60)!==0||mm(l,n,r)}return r}function mm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=ju(),Rt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function gm(t,n,r,l){n.value=r,n.getSnapshot=l,ym(n)&&_m(t)}function pm(t,n,r){return r(function(){ym(n)&&_m(t)})}function ym(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function _m(t){var n=Ji(t,2);n!==null&&Je(n,t,2)}function Xc(t){var n=en();if(typeof t=="function"){var r=t;if(t=r(),$r){zn(!0);try{r()}finally{zn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function vm(t,n,r,l){return t.baseState=r,Yc(t,Yt,typeof l=="function"?l:Ei)}function mE(t,n,r,l,c){if(Fu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};A.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Em(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Em(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=A.T,y={};A.T=y;try{var E=r(c,l),b=A.S;b!==null&&b(y,E),Tm(t,n,E)}catch(M){Zc(t,n,M)}finally{A.T=f}}else try{f=r(c,l),Tm(t,n,f)}catch(M){Zc(t,n,M)}}function Tm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Am(t,n,l)},function(l){return Zc(t,n,l)}):Am(t,n,r)}function Am(t,n,r){n.status="fulfilled",n.value=r,Sm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Em(t,r)))}function Zc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Sm(n),n=n.next;while(n!==l)}t.action=null}function Sm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function bm(t,n){return n}function Rm(t,n){if(Pt){var r=$t.formState;if(r!==null){t:{var l=Rt;if(Pt){if(Ue){e:{for(var c=Ue,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Un(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ue=Un(c.nextSibling),l=c.data==="F!";break t}}Kr(l)}l=!1}l&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bm,lastRenderedState:n},r.queue=l,r=Hm.bind(null,Rt,l),l.dispatch=r,l=Xc(!1),f=nh.bind(null,Rt,!1,l.queue),l=en(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=mE.bind(null,Rt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function wm(t){var n=me();return Dm(n,Yt,t)}function Dm(t,n,r){n=Yc(t,n,bm)[0],t=qu(Ei)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?al(n):n;var l=me(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(Rt.flags|=2048,Ys(9,gE.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function gE(t,n){t.action=n}function Cm(t){var n=me(),r=Yt;if(r!==null)return Dm(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ys(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=Rt.updateQueue,n===null&&(n=ju(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Vm(){return me().memoizedState}function Hu(t,n,r,l){var c=en();Rt.flags|=t,c.memoizedState=Ys(1|n,r,{destroy:void 0},l===void 0?null:l)}function Gu(t,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&kc(l,Yt.memoizedState.deps)?c.memoizedState=Ys(n,r,f,l):(Rt.flags|=t,c.memoizedState=Ys(1|n,r,f,l))}function Nm(t,n){Hu(8390656,8,t,n)}function $c(t,n){Gu(2048,8,t,n)}function Im(t,n){return Gu(4,2,t,n)}function Om(t,n){return Gu(4,4,t,n)}function Mm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xm(t,n,r){r=r!=null?r.concat([t]):null,Gu(4,4,Mm.bind(null,n,t),r)}function Jc(){}function Um(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&kc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Lm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&kc(n,l[1]))return l[0];if(l=t(),$r){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l}function Wc(t,n,r){return r===void 0||(er&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Bg(),Rt.lanes|=t,hr|=t,r)}function zm(t,n,r,l){return an(r,n)?r:qs.current!==null?(t=Wc(t,r,l),an(t,n)||(Ne=!0),t):(er&42)===0?(Ne=!0,t.memoizedState=r):(t=Bg(),Rt.lanes|=t,hr|=t,n)}function Bm(t,n,r,l,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=A.T,E={};A.T=E,nh(t,!1,n,r);try{var b=c(),M=A.S;if(M!==null&&M(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=hE(b,l);ll(t,n,G,cn(t))}else ll(t,n,l,cn(t))}catch(Y){ll(t,n,{then:function(){},status:"rejected",reason:Y},cn())}finally{nt.p=f,A.T=y}}function pE(){}function th(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=Pm(t).queue;Bm(t,c,n,bt,r===null?pE:function(){return jm(t),r(l)})}function Pm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:bt,baseState:bt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:bt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function jm(t){var n=Pm(t).next.queue;ll(t,n,{},cn())}function eh(){return qe(Dl)}function km(){return me().memoizedState}function qm(){return me().memoizedState}function yE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=sr(r);var l=ar(n,t,r);l!==null&&(Je(l,n,r),cl(l,n,r)),n={cache:Bc()},t.payload=n;return}n=n.return}}function _E(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Fu(t)?Gm(n,r):(r=Ic(t,n,r,l),r!==null&&(Je(r,t,l),Fm(r,n,l)))}function Hm(t,n,r){var l=cn();ll(t,n,r,l)}function ll(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fu(t))Gm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,an(E,y))return Cu(t,n,c,0),$t===null&&Du(),!1}catch{}finally{}if(r=Ic(t,n,c,l),r!==null)return Je(r,t,l),Fm(r,n,l),!0}return!1}function nh(t,n,r,l){if(l={lane:2,revertLane:Fh(),action:l,hasEagerState:!1,eagerState:null,next:null},Fu(t)){if(n)throw Error(s(479))}else n=Ic(t,r,l,2),n!==null&&Je(n,t,2)}function Fu(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function Gm(t,n){Fs=Bu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Fm(t,n,r){if((r&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qi(t,r)}}var Zn={readContext:qe,use:ku,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce};Zn.useCacheRefresh=ce,Zn.useMemoCache=ce,Zn.useHostTransitionStatus=ce,Zn.useFormState=ce,Zn.useActionState=ce,Zn.useOptimistic=ce;var Jr={readContext:qe,use:ku,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Nm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Hu(4194308,4,Mm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Hu(4194308,4,t,n)},useInsertionEffect:function(t,n){Hu(4,2,t,n)},useMemo:function(t,n){var r=en();n=n===void 0?null:n;var l=t();if($r){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=en();if(r!==void 0){var c=r(n);if($r){zn(!0);try{r(n)}finally{zn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=_E.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=Xc(t);var n=t.queue,r=Hm.bind(null,Rt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Jc,useDeferredValue:function(t,n){var r=en();return Wc(r,t,n)},useTransition:function(){var t=Xc(!1);return t=Bm.bind(null,Rt,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Rt,c=en();if(Pt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),$t===null)throw Error(s(349));(xt&60)!==0||mm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Nm(pm.bind(null,l,f,t),[t]),l.flags|=2048,Ys(9,gm.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=en(),n=$t.identifierPrefix;if(Pt){var r=_i,l=yi;r=(l&~(1<<32-Ke(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Pu++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=fE++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return en().memoizedState=yE.bind(null,Rt)}};Jr.useMemoCache=Qc,Jr.useHostTransitionStatus=eh,Jr.useFormState=Rm,Jr.useActionState=Rm,Jr.useOptimistic=function(t){var n=en();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=nh.bind(null,Rt,!0,r),r.dispatch=n,[t,n]};var nr={readContext:qe,use:ku,useCallback:Um,useContext:qe,useEffect:$c,useImperativeHandle:xm,useInsertionEffect:Im,useLayoutEffect:Om,useMemo:Lm,useReducer:qu,useRef:Vm,useState:function(){return qu(Ei)},useDebugValue:Jc,useDeferredValue:function(t,n){var r=me();return zm(r,Yt.memoizedState,t,n)},useTransition:function(){var t=qu(Ei)[0],n=me().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:dm,useId:km};nr.useCacheRefresh=qm,nr.useMemoCache=Qc,nr.useHostTransitionStatus=eh,nr.useFormState=wm,nr.useActionState=wm,nr.useOptimistic=function(t,n){var r=me();return vm(r,Yt,t,n)};var Wr={readContext:qe,use:ku,useCallback:Um,useContext:qe,useEffect:$c,useImperativeHandle:xm,useInsertionEffect:Im,useLayoutEffect:Om,useMemo:Lm,useReducer:Kc,useRef:Vm,useState:function(){return Kc(Ei)},useDebugValue:Jc,useDeferredValue:function(t,n){var r=me();return Yt===null?Wc(r,t,n):zm(r,Yt.memoizedState,t,n)},useTransition:function(){var t=Kc(Ei)[0],n=me().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:dm,useId:km};Wr.useCacheRefresh=qm,Wr.useMemoCache=Qc,Wr.useHostTransitionStatus=eh,Wr.useFormState=Cm,Wr.useActionState=Cm,Wr.useOptimistic=function(t,n){var r=me();return Yt!==null?vm(r,Yt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function ih(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:D({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var rh={isMounted:function(t){return(t=t._reactInternals)?ut(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=sr(l);c.payload=n,r!=null&&(c.callback=r),n=ar(t,c,l),n!==null&&(Je(n,t,l),cl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=sr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ar(t,c,l),n!==null&&(Je(n,t,l),cl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=sr(r);l.tag=2,n!=null&&(l.callback=n),n=ar(t,l,r),n!==null&&(Je(n,t,r),cl(n,t,r))}};function Qm(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ka(r,l)||!Ka(c,f):!0}function Ym(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&rh.enqueueReplaceState(n,n.state,null)}function ts(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=D({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Km(t){Qu(t)}function Xm(t){console.error(t)}function Zm(t){Qu(t)}function Yu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function $m(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function sh(t,n,r){return r=sr(r),r.tag=3,r.payload={element:null},r.callback=function(){Yu(t,n)},r}function Jm(t){return t=sr(t),t.tag=3,t}function Wm(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){$m(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){$m(n,r,l),typeof c!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function vE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ol(n,r,c,!0),r=An.current,r!==null){switch(r.tag){case 13:return Xn===null?jh():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Uc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),qh(t,l,c)),!1;case 22:return r.flags|=65536,l===Uc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),qh(t,l,c)),!1}throw Error(s(435,r.tag))}return qh(t,l,c),jh(),!1}if(Pt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==xc&&(t=Error(s(422),{cause:l}),Ja(vn(t,r)))):(l!==xc&&(n=Error(s(423),{cause:l}),Ja(vn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=vn(l,r),c=sh(t.stateNode,l,c),Eh(t,c),le!==4&&(le=2)),!1;var f=Error(s(520),{cause:l});if(f=vn(f,r),_l===null?_l=[f]:_l.push(f),le!==4&&(le=2),n===null)return!0;l=vn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=sh(r.stateNode,l,t),Eh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(fr===null||!fr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Jm(c),Wm(c,t,r,l),Eh(r,c),!1}r=r.return}while(r!==null);return!1}var tg=Error(s(461)),Ne=!1;function Le(t,n,r,l){n.child=t===null?sm(n,null,r,l):Xr(n,t.child,r,l)}function eg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ns(n),l=qc(t,n,r,y,f,c),E=Hc(),t!==null&&!Ne?(Gc(t,n,c),Ti(t,n,c)):(Pt&&E&&Oc(n),n.flags|=1,Le(t,n,l,c),n.child)}function ng(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Ch(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ig(t,n,f,l,c)):(t=Ju(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!mh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ka,r(y,l)&&t.ref===n.ref)return Ti(t,n,c)}return n.flags|=1,t=cr(f,l),t.ref=n.ref,t.return=n,n.child=t}function ig(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Ka(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,mh(t,c))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,Ti(t,n,c)}return ah(t,n,r,l,c)}function rg(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(ul(t,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=y!==null?y.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return sg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(n,y!==null?y.cachePool:null),y!==null?am(n,y):Lc(),lm(n);else return n.lanes=n.childLanes=536870912,sg(t,n,y!==null?y.baseLanes|r:r,r)}else y!==null?(zu(n,y.cachePool),am(n,y),tr(),n.memoizedState=null):(t!==null&&zu(n,null),Lc(),tr());return Le(t,n,c,r),n.child}function sg(t,n,r,l){var c=jc();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&zu(n,null),Lc(),lm(n),t!==null&&ol(t,n,l,!0),null}function ul(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function ah(t,n,r,l,c){return ns(n),r=qc(t,n,r,l,void 0,c),l=Hc(),t!==null&&!Ne?(Gc(t,n,c),Ti(t,n,c)):(Pt&&l&&Oc(n),n.flags|=1,Le(t,n,r,c),n.child)}function ag(t,n,r,l,c,f){return ns(n),n.updateQueue=null,r=fm(n,l,r,c),hm(t),l=Hc(),t!==null&&!Ne?(Gc(t,n,f),Ti(t,n,f)):(Pt&&l&&Oc(n),n.flags|=1,Le(t,n,r,f),n.child)}function lg(t,n,r,l,c){if(ns(n),n.stateNode===null){var f=Bs,y=r.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},_h(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?qe(y):Bs,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(ih(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&rh.enqueueReplaceState(f,f.state,null),fl(n,l,f,c),hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ts(r,E);f.props=b;var M=f.context,G=r.contextType;y=Bs,typeof G=="object"&&G!==null&&(y=qe(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||M!==y)&&Ym(n,f,l,y),rr=!1;var B=n.memoizedState;f.state=B,fl(n,l,f,c),hl(),M=n.memoizedState,E||B!==M||rr?(typeof Y=="function"&&(ih(n,r,Y,l),M=n.memoizedState),(b=rr||Qm(n,r,b,l,B,M,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=M),f.props=l,f.state=M,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,vh(t,n),y=n.memoizedProps,G=ts(r,y),f.props=G,Y=n.pendingProps,B=f.context,M=r.contextType,b=Bs,typeof M=="object"&&M!==null&&(b=qe(M)),E=r.getDerivedStateFromProps,(M=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||B!==b)&&Ym(n,f,l,b),rr=!1,B=n.memoizedState,f.state=B,fl(n,l,f,c),hl();var q=n.memoizedState;y!==Y||B!==q||rr||t!==null&&t.dependencies!==null&&Ku(t.dependencies)?(typeof E=="function"&&(ih(n,r,E,l),q=n.memoizedState),(G=rr||Qm(n,r,G,l,B,q,b)||t!==null&&t.dependencies!==null&&Ku(t.dependencies))?(M||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ul(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Xr(n,t.child,null,c),n.child=Xr(n,null,r,c)):Le(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ti(t,n,c),t}function ug(t,n,r,l){return $a(),n.flags|=256,Le(t,n,r,l),n.child}var lh={dehydrated:null,treeContext:null,retryLane:0};function uh(t){return{baseLanes:t,cachePool:cm()}}function oh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=wn),t}function og(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Wi(n):tr(),Pt){var E=Ue,b;if(b=E){t:{for(b=E,E=Kn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Un(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Qr!==null?{id:yi,overflow:_i}:null,retryLane:536870912},b=Rn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,$e=n,Ue=null,b=!0):b=!1}b||Kr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;vi(n)}return E=l.children,l=l.fallback,c?(tr(),c=n.mode,E=hh({mode:"hidden",children:E},c),l=rs(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=uh(r),c.childLanes=oh(t,y,r),n.memoizedState=lh,l):(Wi(n),ch(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Wi(n),n.flags&=-257,n=fh(t,n,r)):n.memoizedState!==null?(tr(),n.child=t.child,n.flags|=128,n=null):(tr(),c=l.fallback,E=n.mode,l=hh({mode:"visible",children:l.children},E),c=rs(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Xr(n,t.child,null,r),l=n.child,l.memoizedState=uh(r),l.childLanes=oh(t,y,r),n.memoizedState=lh,n=c);else if(Wi(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var M=y.dgst;y=M,l=Error(s(419)),l.stack="",l.digest=y,Ja({value:l,source:null,stack:null}),n=fh(t,n,r)}else if(Ne||ol(t,n,r,!1),y=(r&t.childLanes)!==0,Ne||y){if(y=$t,y!==null){if(l=r&-r,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane)throw b.retryLane=l,Ji(t,l),Je(y,t,l),tg}E.data==="$?"||jh(),n=fh(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=xE.bind(null,t),E._reactRetry=n,n=null):(t=b.treeContext,Ue=Un(E.nextSibling),$e=n,Pt=!0,Mn=null,Kn=!1,t!==null&&(En[Tn++]=yi,En[Tn++]=_i,En[Tn++]=Qr,yi=t.id,_i=t.overflow,Qr=n),n=ch(n,l.children),n.flags|=4096);return n}return c?(tr(),c=l.fallback,E=n.mode,b=t.child,M=b.sibling,l=cr(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&31457280,M!==null?c=cr(M,c):(c=rs(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=uh(r):(b=E.cachePool,b!==null?(M=Ae._currentValue,b=b.parent!==M?{parent:M,pool:M}:b):b=cm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=oh(t,y,r),n.memoizedState=lh,l):(Wi(n),r=t.child,t=r.sibling,r=cr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function ch(t,n){return n=hh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function hh(t,n){return Ug(t,n,0,null)}function fh(t,n,r){return Xr(n,t.child,null,r),t=ch(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function cg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ph(t.return,n,r)}function dh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function hg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Le(t,n,l.children,r),l=Te.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cg(t,r,n);else if(t.tag===19)cg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ft(Te,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Lu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),dh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Lu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}dh(n,!0,r,null,f);break;case"together":dh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ti(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),hr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ol(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=cr(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=cr(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function mh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ku(t)))}function EE(t,n,r){switch(n.tag){case 3:Li(n,n.stateNode.containerInfo),ir(n,Ae,t.memoizedState.cache),$a();break;case 27:case 5:Da(n);break;case 4:Li(n,n.stateNode.containerInfo);break;case 10:ir(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Wi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?og(t,n,r):(Wi(n),t=Ti(t,n,r),t!==null?t.sibling:null);Wi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ol(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return hg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ft(Te,Te.current),l)break;return null;case 22:case 23:return n.lanes=0,rg(t,n,r);case 24:ir(n,Ae,t.memoizedState.cache)}return Ti(t,n,r)}function fg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!mh(t,r)&&(n.flags&128)===0)return Ne=!1,EE(t,n,r);Ne=(t.flags&131072)!==0}else Ne=!1,Pt&&(n.flags&1048576)!==0&&Zd(n,Iu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Ch(l)?(t=ts(l,t),n.tag=1,n=lg(null,n,l,t,r)):(n.tag=0,n=ah(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===$){n.tag=11,n=eg(null,n,l,t,r);break t}else if(c===ct){n.tag=14,n=ng(null,n,l,t,r);break t}}throw n=R(l)||l,Error(s(306,n,""))}}return n;case 0:return ah(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ts(l,n.pendingProps),lg(t,n,l,c,r);case 3:t:{if(Li(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,vh(t,n),fl(n,f,null,r);var y=n.memoizedState;if(f=y.cache,ir(n,Ae,f),f!==c.cache&&yh(n,[Ae],r,!0),hl(),f=y.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=ug(t,n,f,r);break t}else if(f!==l){l=vn(Error(s(424)),n),Ja(l),n=ug(t,n,f,r);break t}else for(Ue=Un(n.stateNode.containerInfo.firstChild),$e=n,Pt=!0,Mn=null,Kn=!0,r=sm(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($a(),f===l){n=Ti(t,n,r);break t}Le(t,n,f,r)}n=n.child}return n;case 26:return ul(t,n),t===null?(r=gp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=co(hn.current).createElement(r),l[De]=n,l[_e]=t,ze(l,r,t),te(l),n.stateNode=l):n.memoizedState=gp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Da(n),t===null&&Pt&&(l=n.stateNode=fp(n.type,n.pendingProps,hn.current),$e=n,Kn=!0,Ue=Un(l.firstChild)),l=n.pendingProps.children,t!==null||Pt?Le(t,n,l,r):n.child=Xr(n,null,l,r),ul(t,n),n.child;case 5:return t===null&&Pt&&((c=l=Ue)&&(l=ZE(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,$e=n,Ue=Un(l.firstChild),Kn=!1,c=!0):c=!1),c||Kr(n)),Da(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,tf(c,f)?l=null:y!==null&&tf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=qc(t,n,dE,null,null,r),Dl._currentValue=c),ul(t,n),Le(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=Ue)&&(r=$E(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,$e=n,Ue=null,t=!0):t=!1),t||Kr(n)),null;case 13:return og(t,n,r);case 4:return Li(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Xr(n,null,l,r):Le(t,n,l,r),n.child;case 11:return eg(t,n,n.type,n.pendingProps,r);case 7:return Le(t,n,n.pendingProps,r),n.child;case 8:return Le(t,n,n.pendingProps.children,r),n.child;case 12:return Le(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ir(n,n.type,l.value),Le(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ns(n),c=qe(c),l=l(c),n.flags|=1,Le(t,n,l,r),n.child;case 14:return ng(t,n,n.type,n.pendingProps,r);case 15:return ig(t,n,n.type,n.pendingProps,r);case 19:return hg(t,n,r);case 22:return rg(t,n,r);case 24:return ns(n),l=qe(Ae),t===null?(c=jc(),c===null&&(c=$t,f=Bc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},_h(n),ir(n,Ae,c)):((t.lanes&r)!==0&&(vh(t,n),fl(n,null,null,r),hl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ir(n,Ae,l)):(l=f.cache,ir(n,Ae,l),l!==c.cache&&yh(n,[Ae],r,!0))),Le(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var gh=zt(null),es=null,Ai=null;function ir(t,n,r){Ft(gh,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=gh.current,re(gh)}function ph(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function yh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),ph(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),ph(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ol(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;an(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ui.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}c=c.return}t!==null&&yh(n,t,r,l),n.flags|=262144}function Ku(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ns(t){es=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return dg(es,t)}function Xu(t,n){return es===null&&ns(t),dg(t,n)}function dg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ai===null){if(t===null)throw Error(s(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return r}var rr=!1;function _h(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function sr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ar(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ne&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Vu(t),Kd(t,null,r),n}return Cu(t,l,n,r),Vu(t)}function cl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qi(t,r)}}function Eh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Th=!1;function hl(){if(Th){var t=Gs;if(t!==null)throw t}}function fl(t,n,r,l){Th=!1;var c=t.updateQueue;rr=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,M=b.next;b.next=null,y===null?f=M:y.next=M,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=M:E.next=M,G.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;y=0,G=M=b=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(xt&B)===B:(l&B)===B){B!==0&&B===Hs&&(Th=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=t,vt=E;B=n;var ue=r;switch(vt.tag){case 1:if(st=vt.payload,typeof st=="function"){Y=st.call(ue,Y,B);break t}Y=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=vt.payload,B=typeof st=="function"?st.call(ue,Y,B):st,B==null)break t;Y=D({},Y,B);break t;case 2:rr=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(M=G=q,b=Y):G=G.next=q,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);G===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=M,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),hr|=y,t.lanes=y,t.memoizedState=Y}}function mg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function gg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)mg(r[t],n)}function dl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function lr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r;try{E()}catch(M){Xt(c,b,M)}}}l=l.next}while(l!==f)}}catch(M){Xt(n,n.return,M)}}function pg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{gg(n,r)}catch(l){Xt(t,t.return,l)}}}function yg(t,n,r){r.props=ts(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function is(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Xt(t,n,f)}}function ln(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function _g(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function vg(t,n,r){try{var l=t.stateNode;FE(l,t.type,r,n),l[_e]=n}catch(c){Xt(t,t.return,c)}}function Eg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Ah(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Eg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=oo));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Sh(t,n,r),t=t.sibling;t!==null;)Sh(t,n,r),t=t.sibling}function Zu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Zu(t,n,r),t=t.sibling;t!==null;)Zu(t,n,r),t=t.sibling}var bi=!1,ae=!1,bh=!1,Tg=typeof WeakSet=="function"?WeakSet:Set,Ie=null,Ag=!1;function TE(t,n){if(t=t.containerInfo,Jh=yo,t=Pd(t),wc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,M=0,G=0,Y=t,B=null;e:for(;;){for(var q;Y!==r||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(b=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(q=Y.firstChild)!==null;)B=Y,Y=q;for(;;){if(Y===t)break e;if(B===r&&++M===c&&(E=y),B===f&&++G===l&&(b=y),(q=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=q}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wh={focusedElem:t,selectionRange:r},yo=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var st=ts(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(st,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(vt){Xt(r,r.return,vt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)rf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}return st=Ag,Ag=!1,st}function Sg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:wi(t,r),l&4&&dl(5,r);break;case 1:if(wi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Xt(r,r.return,E)}else{var c=ts(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Xt(r,r.return,E)}}l&64&&pg(r),l&512&&is(r,r.return);break;case 3:if(wi(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{gg(l,t)}catch(E){Xt(r,r.return,E)}}break;case 26:wi(t,r),l&512&&is(r,r.return);break;case 27:case 5:wi(t,r),n===null&&l&4&&_g(r),l&512&&is(r,r.return);break;case 12:wi(t,r);break;case 13:wi(t,r),l&4&&wg(t,r);break;case 22:if(c=r.memoizedState!==null||bi,!c){n=n!==null&&n.memoizedState!==null||ae;var f=bi,y=ae;bi=c,(ae=n)&&!y?ur(t,r,(r.subtreeFlags&8772)!==0):wi(t,r),bi=f,ae=y}l&512&&(r.memoizedProps.mode==="manual"?is(r,r.return):ln(r,r.return));break;default:wi(t,r)}}function bg(t){var n=t.alternate;n!==null&&(t.alternate=null,bg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Mr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ge=null,un=!1;function Ri(t,n,r){for(r=r.child;r!==null;)Rg(t,n,r),r=r.sibling}function Rg(t,n,r){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(zi,r)}catch{}switch(r.tag){case 26:ae||ln(r,n),Ri(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ae||ln(r,n);var l=ge,c=un;for(ge=r.stateNode,Ri(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Mr(r),ge=l,un=c;break;case 5:ae||ln(r,n);case 6:c=ge;var f=un;if(ge=null,Ri(t,n,r),ge=c,un=f,ge!==null)if(un)try{t=ge,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){Xt(r,n,y)}else try{ge.removeChild(r.stateNode)}catch(y){Xt(r,n,y)}break;case 18:ge!==null&&(un?(n=ge,r=r.stateNode,n.nodeType===8?nf(n.parentNode,r):n.nodeType===1&&nf(n,r),Il(n)):nf(ge,r.stateNode));break;case 4:l=ge,c=un,ge=r.stateNode.containerInfo,un=!0,Ri(t,n,r),ge=l,un=c;break;case 0:case 11:case 14:case 15:ae||lr(2,r,n),ae||lr(4,r,n),Ri(t,n,r);break;case 1:ae||(ln(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&yg(r,n,l)),Ri(t,n,r);break;case 21:Ri(t,n,r);break;case 22:ae||ln(r,n),ae=(l=ae)||r.memoizedState!==null,Ri(t,n,r),ae=l;break;default:Ri(t,n,r)}}function wg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Il(t)}catch(r){Xt(n,n.return,r)}}function AE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Tg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Tg),n;default:throw Error(s(435,t.tag))}}function Rh(t,n){var r=AE(t);n.forEach(function(l){var c=UE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function Sn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:ge=E.stateNode,un=!1;break t;case 3:ge=E.stateNode.containerInfo,un=!0;break t;case 4:ge=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(ge===null)throw Error(s(160));Rg(f,y,c),ge=null,un=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Dg(n,t),n=n.sibling}var xn=null;function Dg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(n,t),bn(t),l&4&&(lr(3,t,t.return),dl(3,t),lr(5,t,t.return));break;case 1:Sn(n,t),bn(t),l&512&&(ae||r===null||ln(r,r.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=xn;if(Sn(n,t),bn(t),l&512&&(ae||r===null||ln(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Gi]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[De]=t,te(f),l=f;break t;case"link":var y=_p("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(y=_p("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[De]=t,te(f),l=f}t.stateNode=l}else vp(c,t.type,t.stateNode);else t.stateNode=yp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?vp(c,t.type,t.stateNode):yp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&vg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var b=c.firstChild;b;){var M=b.nextSibling,G=b.nodeName;b[Gi]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=M}for(var Y=t.type,B=c.attributes;B.length;)c.removeAttributeNode(B[0]);ze(c,Y,f),c[De]=t,c[_e]=f}catch(st){Xt(t,t.return,st)}}case 5:if(Sn(n,t),bn(t),l&512&&(ae||r===null||ln(r,r.return)),t.flags&32){c=t.stateNode;try{mn(c,"")}catch(st){Xt(t,t.return,st)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,vg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(bh=!0);break;case 6:if(Sn(n,t),bn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(st){Xt(t,t.return,st)}}break;case 3:if(mo=null,c=xn,xn=ho(n.containerInfo),Sn(n,t),xn=c,bn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Il(n.containerInfo)}catch(st){Xt(t,t.return,st)}bh&&(bh=!1,Cg(t));break;case 4:l=xn,xn=ho(t.stateNode.containerInfo),Sn(n,t),bn(t),xn=l;break;case 12:Sn(n,t),bn(t);break;case 13:Sn(n,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(xh=We()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rh(t,l)));break;case 22:if(l&512&&(ae||r===null||ln(r,r.return)),b=t.memoizedState!==null,M=r!==null&&r.memoizedState!==null,G=bi,Y=ae,bi=G||b,ae=Y||M,Sn(n,t),ae=Y,bi=G,bn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=b?n._visibility&-2:n._visibility|1,b&&(n=bi||ae,r===null||M||n||Ks(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){M=r=n;try{if(c=M.stateNode,b)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=M.stateNode,E=M.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(st){Xt(M,M.return,st)}}}else if(n.tag===6){if(r===null){M=n;try{M.stateNode.nodeValue=b?"":M.memoizedProps}catch(st){Xt(M,M.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Rh(t,r))));break;case 19:Sn(n,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rh(t,l)));break;case 21:break;default:Sn(n,t),bn(t)}}function bn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(Eg(r)){var l=r;break t}r=r.return}throw Error(s(160))}switch(l.tag){case 27:var c=l.stateNode,f=Ah(t);Zu(t,f,c);break;case 5:var y=l.stateNode;l.flags&32&&(mn(y,""),l.flags&=-33);var E=Ah(t);Zu(t,E,y);break;case 3:case 4:var b=l.stateNode.containerInfo,M=Ah(t);Sh(t,M,b);break;default:throw Error(s(161))}}}catch(G){Xt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Cg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Cg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Sg(t,n.alternate,n),n=n.sibling}function Ks(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:lr(4,n,n.return),Ks(n);break;case 1:ln(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&yg(n,n.return,r),Ks(n);break;case 26:case 27:case 5:ln(n,n.return),Ks(n);break;case 22:ln(n,n.return),n.memoizedState===null&&Ks(n);break;default:Ks(n)}t=t.sibling}}function ur(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ur(c,f,r),dl(4,f);break;case 1:if(ur(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(M){Xt(l,l.return,M)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)mg(b[c],E)}catch(M){Xt(l,l.return,M)}}r&&y&64&&pg(f),is(f,f.return);break;case 26:case 27:case 5:ur(c,f,r),r&&l===null&&y&4&&_g(f),is(f,f.return);break;case 12:ur(c,f,r);break;case 13:ur(c,f,r),r&&y&4&&wg(c,f);break;case 22:f.memoizedState===null&&ur(c,f,r),is(f,f.return);break;default:ur(c,f,r)}n=n.sibling}}function wh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&il(r))}function Dh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t))}function or(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vg(t,n,r,l),n=n.sibling}function Vg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:or(t,n,r,l),c&2048&&dl(9,n);break;case 3:or(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t)));break;case 12:if(c&2048){or(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else or(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?or(t,n,r,l):ml(t,n):f._visibility&4?or(t,n,r,l):(f._visibility|=4,Xs(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&wh(n.alternate,n);break;case 24:or(t,n,r,l),c&2048&&Dh(n.alternate,n);break;default:or(t,n,r,l)}}function Xs(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,M=y.flags;switch(y.tag){case 0:case 11:case 15:Xs(f,y,E,b,c),dl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&4?Xs(f,y,E,b,c):ml(f,y):(G._visibility|=4,Xs(f,y,E,b,c)),c&&M&2048&&wh(y.alternate,y);break;case 24:Xs(f,y,E,b,c),c&&M&2048&&Dh(y.alternate,y);break;default:Xs(f,y,E,b,c)}n=n.sibling}}function ml(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:ml(r,l),c&2048&&wh(l.alternate,l);break;case 24:ml(r,l),c&2048&&Dh(l.alternate,l);break;default:ml(r,l)}n=n.sibling}}var gl=8192;function Zs(t){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)Ng(t),t=t.sibling}function Ng(t){switch(t.tag){case 26:Zs(t),t.flags&gl&&t.memoizedState!==null&&c0(xn,t.memoizedState,t.memoizedProps);break;case 5:Zs(t);break;case 3:case 4:var n=xn;xn=ho(t.stateNode.containerInfo),Zs(t),xn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=gl,gl=16777216,Zs(t),gl=n):Zs(t));break;default:Zs(t)}}function Ig(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function pl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Mg(l,t)}Ig(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Og(t),t=t.sibling}function Og(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&lr(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,$u(t)):pl(t);break;default:pl(t)}}function $u(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Mg(l,t)}Ig(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:lr(8,n,n.return),$u(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,$u(n));break;default:$u(n)}t=t.sibling}}function Mg(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:lr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(bg(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}function SE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,n,r,l){return new SE(t,n,r,l)}function Ch(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cr(t,n){var r=t.alternate;return r===null?(r=Rn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function xg(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ju(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Ch(t)&&(y=1);else if(typeof t=="string")y=u0(t,r,Ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return rs(r.children,c,f,n);case v:y=8,c|=24;break;case S:return t=Rn(12,r,n,c|2),t.elementType=S,t.lanes=f,t;case J:return t=Rn(13,r,n,c),t.elementType=J,t.lanes=f,t;case Z:return t=Rn(19,r,n,c),t.elementType=Z,t.lanes=f,t;case ft:return Ug(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V:case H:y=10;break t;case P:y=9;break t;case $:y=11;break t;case ct:y=14;break t;case gt:y=16,l=null;break t}y=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Rn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function rs(t,n,r,l){return t=Rn(7,t,l,n),t.lanes=r,t}function Ug(t,n,r,l){t=Rn(22,t,l,n),t.elementType=ft,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(s(456));if((c._pendingVisibility&2)===0){var y=Ji(f,2);y!==null&&(c._pendingVisibility|=2,Je(y,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(s(456));if((c._pendingVisibility&2)!==0){var y=Ji(f,2);y!==null&&(c._pendingVisibility&=-3,Je(y,f,2))}}};return t.stateNode=c,t}function Vh(t,n,r){return t=Rn(6,t,null,n),t.lanes=r,t}function Nh(t,n,r){return n=Rn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Di(t){t.flags|=4}function Lg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ep(n)){if(n=An.current,n!==null&&((xt&4194176)===xt?Xn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==Xn))throw tl=Uc,Wd;t.flags|=8192}}function Wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ji():536870912,t.lanes|=n,Js|=n)}function yl(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function bE(t,n,r){var l=n.pendingProps;switch(Mc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Ae),ai(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Za(n)?Di(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Mn!==null&&(Bh(Mn),Mn=null))),ee(n),null;case 26:return r=n.memoizedState,t===null?(Di(n),r!==null?(ee(n),Lg(n,r)):(ee(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Di(n),ee(n),Lg(n,r)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),ee(n),n.flags&=-16777217),null;case 27:ys(n),r=hn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}t=Ye.current,Za(n)?$d(n):(t=fp(c,l,r),n.stateNode=t,Di(n))}return ee(n),null;case 5:if(ys(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(t=Ye.current,Za(n))$d(n);else{switch(c=co(hn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[De]=n,t[_e]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=hn.current,Za(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=$e,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[De]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||ap(t.nodeValue,r)),t||Kr(n)}else t=co(t).createTextNode(l),t[De]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Za(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[De]=n}else $a(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else Mn!==null&&(Bh(Mn),Mn=null),c=!0;if(!c)return n.flags&256?(vi(n),n):(vi(n),null)}if(vi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Wu(n,n.updateQueue),ee(n),null;case 4:return ai(),t===null&&Xh(n.stateNode.containerInfo),ee(n),null;case 10:return Si(n.type),ee(n),null;case 19:if(re(Te),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)yl(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Lu(t),f!==null){for(n.flags|=128,yl(c,!1),t=f.updateQueue,n.updateQueue=t,Wu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)xg(r,t),r=r.sibling;return Ft(Te,Te.current&1|2),n.child}t=t.sibling}c.tail!==null&&We()>to&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Lu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Wu(n,t),yl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return ee(n),null}else 2*We()-c.renderingStartTime>to&&r!==536870912&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=We(),n.sibling=null,t=Te.current,Ft(Te,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return vi(n),zc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&Wu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&re(Zr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(Ae),ee(n),null;case 25:return null}throw Error(s(156,n.tag))}function RE(t,n){switch(Mc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Ae),ai(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ys(n),null;case 13:if(vi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));$a()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return re(Te),null;case 4:return ai(),null;case 10:return Si(n.type),null;case 22:case 23:return vi(n),zc(),t!==null&&re(Zr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Ae),null;case 25:return null;default:return null}}function zg(t,n){switch(Mc(n),n.tag){case 3:Si(Ae),ai();break;case 26:case 27:case 5:ys(n);break;case 4:ai();break;case 13:vi(n);break;case 19:re(Te);break;case 10:Si(n.type);break;case 22:case 23:vi(n),zc(),t!==null&&re(Zr);break;case 24:Si(Ae)}}var wE={getCacheForType:function(t){var n=qe(Ae),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},DE=typeof WeakMap=="function"?WeakMap:Map,ne=0,$t=null,Vt=null,xt=0,Jt=0,on=null,Ci=!1,$s=!1,Ih=!1,Vi=0,le=0,hr=0,ss=0,Oh=0,wn=0,Js=0,_l=null,$n=null,Mh=!1,xh=0,to=1/0,eo=null,fr=null,no=!1,as=null,vl=0,Uh=0,Lh=null,El=0,zh=null;function cn(){if((ne&2)!==0&&xt!==0)return xt&-xt;if(A.T!==null){var t=Hs;return t!==0?t:Fh()}return uu()}function Bg(){wn===0&&(wn=(xt&536870912)===0||Pt?Oa():536870912);var t=An.current;return t!==null&&(t.flags|=32),wn}function Je(t,n,r){(t===$t&&Jt===2||t.cancelPendingCommit!==null)&&(Ws(t,0),Ni(t,xt,wn,!1)),oe(t,r),((ne&2)===0||t!==$t)&&(t===$t&&((ne&2)===0&&(ss|=r),le===4&&Ni(t,xt,wn,!1)),Jn(t))}function Pg(t,n,r){if((ne&6)!==0)throw Error(s(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Pi(t,n),c=l?NE(t,n):kh(t,n,!0),f=l;do{if(c===0){$s&&!l&&Ni(t,n,0,!1);break}else if(c===6)Ni(t,n,0,!Ci);else{if(r=t.current.alternate,f&&!CE(r)){c=kh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=_l;var b=E.current.memoizedState.isDehydrated;if(b&&(Ws(E,y).flags|=256),y=kh(E,y,!1),y!==2){if(Ih&&!b){E.errorRecoveryDisabledLanes|=f,ss|=f,c=4;break t}f=$n,$n=c,f!==null&&Bh(f)}c=y}if(f=!1,c!==2)continue}}if(c===1){Ws(t,0),Ni(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Ni(l,n,wn,!Ci);break t}break;case 2:$n=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=xh+300-We(),10<f)){if(Ni(l,n,wn,!Ci),fn(l,0)!==0)break t;l.timeoutHandle=op(jg.bind(null,l,r,$n,eo,Mh,n,wn,ss,Js,Ci,2,-0,0),f);break t}jg(l,r,$n,eo,Mh,n,wn,ss,Js,Ci,0,-0,0)}}break}while(!0);Jn(t)}function Bh(t){$n===null?$n=t:$n.push.apply($n,t)}function jg(t,n,r,l,c,f,y,E,b,M,G,Y,B){var q=n.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:o0},Ng(n),n=h0(),n!==null)){t.cancelPendingCommit=n(Yg.bind(null,t,r,l,c,y,E,b,1,Y,B)),Ni(t,f,y,!M);return}Yg(t,r,l,c,y,E,b,G,Y,B)}function CE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!an(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ni(t,n,r,l){n&=~Oh,n&=~ss,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ke(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&ki(t,r,n)}function io(){return(ne&6)===0?(Tl(0),!1):!0}function Ph(){if(Vt!==null){if(Jt===0)var t=Vt.return;else t=Vt,Ai=es=null,Fc(t),ks=null,el=0,t=Vt;for(;t!==null;)zg(t.alternate,t),t=t.return;Vt=null}}function Ws(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,YE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Ph(),$t=t,Vt=r=cr(t.current,null),xt=n,Jt=0,on=null,Ci=!1,$s=Pi(t,n),Ih=!1,Js=wn=Oh=ss=hr=le=0,$n=_l=null,Mh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ke(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,Du(),r}function kg(t,n){Rt=null,A.H=Zn,n===Wa?(n=nm(),Jt=3):n===Wd?(n=nm(),Jt=4):Jt=n===tg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,Vt===null&&(le=1,Yu(t,vn(n,t.current)))}function qg(){var t=A.H;return A.H=Zn,t===null?Zn:t}function Hg(){var t=A.A;return A.A=wE,t}function jh(){le=4,Ci||(xt&4194176)!==xt&&An.current!==null||($s=!0),(hr&134217727)===0&&(ss&134217727)===0||$t===null||Ni($t,xt,wn,!1)}function kh(t,n,r){var l=ne;ne|=2;var c=qg(),f=Hg();($t!==t||xt!==n)&&(eo=null,Ws(t,n)),n=!1;var y=le;t:do try{if(Jt!==0&&Vt!==null){var E=Vt,b=on;switch(Jt){case 8:Ph(),y=6;break t;case 3:case 2:case 6:An.current===null&&(n=!0);var M=Jt;if(Jt=0,on=null,ta(t,E,b,M),r&&$s){y=0;break t}break;default:M=Jt,Jt=0,on=null,ta(t,E,b,M)}}VE(),y=le;break}catch(G){kg(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ai=es=null,ne=l,A.H=c,A.A=f,Vt===null&&($t=null,xt=0,Du()),y}function VE(){for(;Vt!==null;)Gg(Vt)}function NE(t,n){var r=ne;ne|=2;var l=qg(),c=Hg();$t!==t||xt!==n?(eo=null,to=We()+500,Ws(t,n)):$s=Pi(t,n);t:do try{if(Jt!==0&&Vt!==null){n=Vt;var f=on;e:switch(Jt){case 1:Jt=0,on=null,ta(t,n,f,1);break;case 2:if(tm(f)){Jt=0,on=null,Fg(n);break}n=function(){Jt===2&&$t===t&&(Jt=7),Jn(t)},f.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:tm(f)?(Jt=0,on=null,Fg(n)):(Jt=0,on=null,ta(t,n,f,7));break;case 5:var y=null;switch(Vt.tag){case 26:y=Vt.memoizedState;case 5:case 27:var E=Vt;if(!y||Ep(y)){Jt=0,on=null;var b=E.sibling;if(b!==null)Vt=b;else{var M=E.return;M!==null?(Vt=M,ro(M)):Vt=null}break e}}Jt=0,on=null,ta(t,n,f,5);break;case 6:Jt=0,on=null,ta(t,n,f,6);break;case 8:Ph(),le=6;break t;default:throw Error(s(462))}}IE();break}catch(G){kg(t,G)}while(!0);return Ai=es=null,A.H=l,A.A=c,ne=r,Vt!==null?0:($t=null,xt=0,Du(),le)}function IE(){for(;Vt!==null&&!gc();)Gg(Vt)}function Gg(t){var n=fg(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?ro(t):Vt=n}function Fg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ag(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=ag(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:Fc(n);default:zg(r,n),n=Vt=xg(n,Vi),n=fg(r,n,Vi)}t.memoizedProps=t.pendingProps,n===null?ro(t):Vt=n}function ta(t,n,r,l){Ai=es=null,Fc(n),ks=null,el=0;var c=n.return;try{if(vE(t,c,n,r,xt)){le=1,Yu(t,vn(r,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;le=1,Yu(t,vn(r,t.current)),Vt=null;return}n.flags&32768?(Pt||l===1?t=!0:$s||(xt&536870912)!==0?t=!1:(Ci=t=!0,(l===2||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),Qg(n,t)):ro(n)}function ro(t){var n=t;do{if((n.flags&32768)!==0){Qg(n,Ci);return}t=n.return;var r=bE(n.alternate,n,Vi);if(r!==null){Vt=r;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);le===0&&(le=5)}function Qg(t,n){do{var r=RE(t.alternate,t);if(r!==null){r.flags&=32767,Vt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=r}while(t!==null);le=6,Vt=null}function Yg(t,n,r,l,c,f,y,E,b,M){var G=A.T,Y=nt.p;try{nt.p=2,A.T=null,OE(t,n,r,l,Y,c,f,y,E,b,M)}finally{A.T=G,nt.p=Y}}function OE(t,n,r,l,c,f,y,E){do ea();while(as!==null);if((ne&6)!==0)throw Error(s(327));var b=t.finishedWork;if(l=t.finishedLanes,b===null)return null;if(t.finishedWork=null,t.finishedLanes=0,b===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var M=b.lanes|b.childLanes;if(M|=Nc,au(t,l,M,f,y,E),t===$t&&(Vt=$t=null,xt=0),(b.subtreeFlags&10256)===0&&(b.flags&10256)===0||no||(no=!0,Uh=M,Lh=r,LE(li,function(){return ea(),null})),r=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||r?(r=A.T,A.T=null,f=nt.p,nt.p=2,y=ne,ne|=4,TE(t,b),Dg(b,t),nE(Wh,t.containerInfo),yo=!!Jh,Wh=Jh=null,t.current=b,Sg(t,b.alternate,b),Ca(),ne=y,nt.p=f,A.T=r):t.current=b,no?(no=!1,as=t,vl=l):Kg(t,M),M=t.pendingLanes,M===0&&(fr=null),Na(b.stateNode),Jn(t),n!==null)for(c=t.onRecoverableError,b=0;b<n.length;b++)M=n[b],c(M.value,{componentStack:M.stack});return(vl&3)!==0&&ea(),M=t.pendingLanes,(l&4194218)!==0&&(M&42)!==0?t===zh?El++:(El=0,zh=t):El=0,Tl(0),null}function Kg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,il(n)))}function ea(){if(as!==null){var t=as,n=Uh;Uh=0;var r=lu(vl),l=A.T,c=nt.p;try{if(nt.p=32>r?32:r,A.T=null,as===null)var f=!1;else{r=Lh,Lh=null;var y=as,E=vl;if(as=null,vl=0,(ne&6)!==0)throw Error(s(331));var b=ne;if(ne|=4,Og(y.current),Vg(y,y.current,E,r),ne=b,Tl(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(zi,y)}catch{}f=!0}return f}finally{nt.p=c,A.T=l,Kg(t,n)}}return!1}function Xg(t,n,r){n=vn(r,n),n=sh(t.stateNode,n,2),t=ar(t,n,2),t!==null&&(oe(t,2),Jn(t))}function Xt(t,n,r){if(t.tag===3)Xg(t,t,r);else for(;n!==null;){if(n.tag===3){Xg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fr===null||!fr.has(l))){t=vn(r,t),r=Jm(2),l=ar(n,r,2),l!==null&&(Wm(r,l,n,t),oe(l,2),Jn(l));break}}n=n.return}}function qh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new DE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Ih=!0,c.add(r),t=ME.bind(null,t,n,r),n.then(t,t))}function ME(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(xt&r)===r&&(le===4||le===3&&(xt&62914560)===xt&&300>We()-xh?(ne&2)===0&&Ws(t,0):Oh|=r,Js===xt&&(Js=0)),Jn(t)}function Zg(t,n){n===0&&(n=ji()),t=Ji(t,n),t!==null&&(oe(t,n),Jn(t))}function xE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Zg(t,r)}function UE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Zg(t,r)}function LE(t,n){return Nr(t,n)}var so=null,na=null,Hh=!1,ao=!1,Gh=!1,ls=0;function Jn(t){t!==na&&t.next===null&&(na===null?so=na=t:na=na.next=t),ao=!0,Hh||(Hh=!0,BE(zE))}function Tl(t,n){if(!Gh&&ao){Gh=!0;do for(var r=!1,l=so;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ke(42|t)+1)-1,f&=c&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,Wg(l,f))}else f=xt,f=fn(l,l===$t?f:0),(f&3)===0||Pi(l,f)||(r=!0,Wg(l,f));l=l.next}while(r);Gh=!1}}function zE(){ao=Hh=!1;var t=0;ls!==0&&(QE()&&(t=ls),ls=0);for(var n=We(),r=null,l=so;l!==null;){var c=l.next,f=$g(l,n);f===0?(l.next=null,r===null?so=c:r.next=c,c===null&&(na=r)):(r=l,(t!==0||(f&3)!==0)&&(ao=!0)),l=c}Tl(t)}function $g(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Ke(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Es(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=xt,r=fn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&Jt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vs(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Pi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&vs(l),lu(r)){case 2:case 8:r=we;break;case 32:r=li;break;case 268435456:r=Va;break;default:r=li}return l=Jg.bind(null,t),r=Nr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&vs(l),t.callbackPriority=2,t.callbackNode=null,2}function Jg(t,n){var r=t.callbackNode;if(ea()&&t.callbackNode!==r)return null;var l=xt;return l=fn(t,t===$t?l:0),l===0?null:(Pg(t,l,n),$g(t,We()),t.callbackNode!=null&&t.callbackNode===r?Jg.bind(null,t):null)}function Wg(t,n){if(ea())return null;Pg(t,n,!0)}function BE(t){KE(function(){(ne&6)!==0?Nr(ye,t):t()})}function Fh(){return ls===0&&(ls=Oa()),ls}function tp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:kn(""+t)}function ep(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function PE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=tp((c[_e]||null).action),y=l.submitter;y&&(n=(n=y[_e]||null)?tp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ds("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ls!==0){var b=y?ep(c,y):new FormData(c);th(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?ep(c,y):new FormData(c),th(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Qh=0;Qh<Yd.length;Qh++){var Yh=Yd[Qh],jE=Yh.toLowerCase(),kE=Yh[0].toUpperCase()+Yh.slice(1);On(jE,"on"+kE)}On(qd,"onAnimationEnd"),On(Hd,"onAnimationIteration"),On(Gd,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(rE,"onTransitionRun"),On(sE,"onTransitionStart"),On(aE,"onTransitionCancel"),On(Fd,"onTransitionEnd"),tn("onMouseEnter",["mouseout","mouseover"]),tn("onMouseLeave",["mouseout","mouseover"]),tn("onPointerEnter",["pointerout","pointerover"]),tn("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function np(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,M=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=M;try{f(c)}catch(G){Qu(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,M=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=M;try{f(c)}catch(G){Qu(G)}c.currentTarget=null,f=b}}}}function It(t,n){var r=n[Or];r===void 0&&(r=n[Or]=new Set);var l=t+"__bubble";r.has(l)||(ip(n,t,2,!1),r.add(l))}function Kh(t,n,r){var l=0;n&&(l|=4),ip(r,t,l,n)}var lo="_reactListening"+Math.random().toString(36).slice(2);function Xh(t){if(!t[lo]){t[lo]=!0,xa.forEach(function(r){r!=="selectionchange"&&(qE.has(r)||Kh(r,!1,t),Kh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[lo]||(n[lo]=!0,Kh("selectionchange",!1,n))}}function ip(t,n,r,l){switch(wp(n)){case 2:var c=m0;break;case 8:c=g0;break;default:c=of}r=c.bind(null,n,r,t),c=void 0,!pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Zh(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&(b=y.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;y=y.return}for(;E!==null;){if(y=In(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}fu(function(){var M=f,G=ws(r),Y=[];t:{var B=Qd.get(t);if(B!==void 0){var q=Ds,st=t;switch(t){case"keypress":if(Hn(r)===0)break t;case"keydown":case"keyup":q=Ms;break;case"focusin":st="focus",q=Ns;break;case"focusout":st="blur",q=Ns;break;case"beforeblur":case"afterblur":q=Ns;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Eu;break;case qd:case Hd:case Gd:q=Is;break;case Fd:q=Au;break;case"scroll":case"scrollend":q=du;break;case"wheel":q=xs;break;case"copy":case"cut":case"paste":q=Os;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Qa;break;case"toggle":case"beforetoggle":q=bu}var vt=(n&4)!==0,ue=!vt&&(t==="scroll"||t==="scrollend"),U=vt?B!==null?B+"Capture":null:B;vt=[];for(var I=M,z;I!==null;){var F=I;if(z=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||z===null||U===null||(F=zr(I,U),F!=null&&vt.push(Sl(I,F,z))),ue)break;I=I.return}0<vt.length&&(B=new q(B,st,null,r,G),Y.push({event:B,listeners:vt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&r!==gn&&(st=r.relatedTarget||r.fromElement)&&(In(st)||st[ui]))break t;if((q||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,q?(st=r.relatedTarget||r.toElement,q=M,st=st?In(st):null,st!==null&&(ue=ut(st),vt=st.tag,st!==ue||vt!==5&&vt!==27&&vt!==6)&&(st=null)):(q=null,st=M),q!==st)){if(vt=yn,F="onMouseLeave",U="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(vt=Qa,F="onPointerLeave",U="onPointerEnter",I="pointer"),ue=q==null?B:Fi(q),z=st==null?B:Fi(st),B=new vt(F,I+"leave",q,r,G),B.target=ue,B.relatedTarget=z,F=null,In(G)===M&&(vt=new vt(U,I+"enter",st,r,G),vt.target=z,vt.relatedTarget=ue,F=vt),ue=F,q&&st)e:{for(vt=q,U=st,I=0,z=vt;z;z=ia(z))I++;for(z=0,F=U;F;F=ia(F))z++;for(;0<I-z;)vt=ia(vt),I--;for(;0<z-I;)U=ia(U),z--;for(;I--;){if(vt===U||U!==null&&vt===U.alternate)break e;vt=ia(vt),U=ia(U)}vt=null}else vt=null;q!==null&&rp(Y,B,q,vt,!1),st!==null&&ue!==null&&rp(Y,ue,st,vt,!0)}}t:{if(B=M?Fi(M):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var rt=Id;else if(Ee(B))if(Od)rt=tE;else{rt=Jv;var Dt=$v}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?M&&Pa(M.elementType)&&(rt=Id):rt=Wv;if(rt&&(rt=rt(t,M))){pi(Y,rt,r,G);break t}Dt&&Dt(t,B,M),t==="focusout"&&M&&B.type==="number"&&M.memoizedProps.value!=null&&Rs(B,"number",B.value)}switch(Dt=M?Fi(M):window,t){case"focusin":(Ee(Dt)||Dt.contentEditable==="true")&&(Us=Dt,Dc=M,Xa=null);break;case"focusout":Xa=Dc=Us=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,jd(Y,r,G);break;case"selectionchange":if(iE)break;case"keydown":case"keyup":jd(Y,r,G)}var lt;if(Qn)t:{switch(t){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Ot?j(t,r)&&(mt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(mt="onCompositionStart");mt&&(p&&r.locale!=="ko"&&(Ot||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Ot&&(lt=ka()):(qn=G,$i="value"in qn?qn.value:qn.textContent,Ot=!0)),Dt=uo(M,mt),0<Dt.length&&(mt=new Ga(mt,t,null,r,G),Y.push({event:mt,listeners:Dt}),lt?mt.data=lt:(lt=W(r),lt!==null&&(mt.data=lt)))),(lt=m?ve(t,r):Mt(t,r))&&(mt=uo(M,"onBeforeInput"),0<mt.length&&(Dt=new Ga("onBeforeInput","beforeinput",null,r,G),Y.push({event:Dt,listeners:mt}),Dt.data=lt)),PE(Y,t,M,r,G)}np(Y,n)})}function Sl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function uo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=zr(t,r),c!=null&&l.unshift(Sl(t,c,f)),c=zr(t,n),c!=null&&l.push(Sl(t,c,f))),t=t.return}return l}function ia(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function rp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,M=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||M===null||(b=M,c?(M=zr(r,f),M!=null&&y.unshift(Sl(r,M,b))):c||(M=zr(r,f),M!=null&&y.push(Sl(r,M,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var HE=/\r\n?/g,GE=/\u0000|\uFFFD/g;function sp(t){return(typeof t=="string"?t:""+t).replace(HE,`
`).replace(GE,"")}function ap(t,n){return n=sp(n),sp(t)===n}function oo(){}function Kt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&mn(t,""+l);break;case"className":Ki(t,"class",l);break;case"tabIndex":Ki(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(t,r,l);break;case"style":hu(t,l,f);break;case"data":if(n!=="object"){Ki(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=kn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=kn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=oo);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=kn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":It("beforetoggle",t),It("toggle",t),Yi(t,"popover",l);break;case"xlinkActuate":dn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":dn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":dn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":dn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":dn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":dn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":dn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":dn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":dn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ec.get(r)||r,Yi(t,r,l))}}function $h(t,n,r,l,c,f){switch(r){case"style":hu(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ss.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[_e]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Yi(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,y,r,null)}}c&&Kt(t,n,"srcSet",r.srcSet,r,null),l&&Kt(t,n,"src",r.src,r,null);return;case"input":It("invalid",t);var E=f=y=c=null,b=null,M=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":M=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Kt(t,n,l,G,r,null)}}Ur(t,f,E,b,M,y,c,!1),xr(t);return;case"select":It("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Kt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?Bt(t,!!l,n,!1):r!=null&&Bt(t,!!l,r,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(t,n,y,E,r,null)}Zi(t,l,c,f),xr(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,b,l,r,null)}return;case"dialog":It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)It(Al[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in r)if(r.hasOwnProperty(M)&&(l=r[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,M,l,r,null)}return;default:if(Pa(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&$h(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Kt(t,n,E,l,r,null))}function FE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,M=null,G=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(q)||Kt(t,n,q,null,l,Y)}}for(var B in l){var q=l[B];if(Y=r[B],l.hasOwnProperty(B)&&(q!=null||Y!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":M=q;break;case"defaultChecked":G=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Y&&Kt(t,n,B,q,l,Y)}}Xi(t,y,E,b,M,G,f,c);return;case"select":q=y=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Kt(t,n,c,f,l,b)}n=E,r=y,l=q,B!=null?Bt(t,!!r,B,!1):!!l!=!!r&&(n!=null?Bt(t,!!r,n,!0):Bt(t,!!r,r?[]:"",!1));return;case"textarea":q=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Kt(t,n,y,c,l,f)}Lr(t,B,q);return;case"option":for(var st in r)if(B=r[st],r.hasOwnProperty(st)&&B!=null&&!l.hasOwnProperty(st))switch(st){case"selected":t.selected=!1;break;default:Kt(t,n,st,null,l,B)}for(b in l)if(B=l[b],q=r[b],l.hasOwnProperty(b)&&B!==q&&(B!=null||q!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Kt(t,n,b,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in r)B=r[vt],r.hasOwnProperty(vt)&&B!=null&&!l.hasOwnProperty(vt)&&Kt(t,n,vt,null,l,B);for(M in l)if(B=l[M],q=r[M],l.hasOwnProperty(M)&&B!==q&&(B!=null||q!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Kt(t,n,M,B,l,q)}return;default:if(Pa(n)){for(var ue in r)B=r[ue],r.hasOwnProperty(ue)&&B!==void 0&&!l.hasOwnProperty(ue)&&$h(t,n,ue,void 0,l,B);for(G in l)B=l[G],q=r[G],!l.hasOwnProperty(G)||B===q||B===void 0&&q===void 0||$h(t,n,G,B,l,q);return}}for(var U in r)B=r[U],r.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Kt(t,n,U,null,l,B);for(Y in l)B=l[Y],q=r[Y],!l.hasOwnProperty(Y)||B===q||B==null&&q==null||Kt(t,n,Y,B,l,q)}var Jh=null,Wh=null;function co(t){return t.nodeType===9?t:t.ownerDocument}function lp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function up(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function tf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ef=null;function QE(){var t=window.event;return t&&t.type==="popstate"?t===ef?!1:(ef=t,!0):(ef=null,!1)}var op=typeof setTimeout=="function"?setTimeout:void 0,YE=typeof clearTimeout=="function"?clearTimeout:void 0,cp=typeof Promise=="function"?Promise:void 0,KE=typeof queueMicrotask=="function"?queueMicrotask:typeof cp<"u"?function(t){return cp.resolve(null).then(t).catch(XE)}:op;function XE(t){setTimeout(function(){throw t})}function nf(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Il(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Il(n)}function rf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":rf(r),Mr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function ZE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Gi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function $E(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Un(t.nextSibling),t===null))return null;return t}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function hp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function fp(t,n,r){switch(n=co(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Dn=new Map,dp=new Set;function ho(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ii=nt.d;nt.d={f:JE,r:WE,D:t0,C:e0,L:n0,m:i0,X:s0,S:r0,M:a0};function JE(){var t=Ii.f(),n=io();return t||n}function WE(t){var n=oi(t);n!==null&&n.tag===5&&n.type==="form"?jm(n):Ii.r(t)}var ra=typeof document>"u"?null:document;function mp(t,n,r){var l=ra;if(l&&typeof n=="string"&&n){var c=se(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),dp.has(c)||(dp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),te(n),l.head.appendChild(n)))}}function t0(t){Ii.D(t),mp("dns-prefetch",t,null)}function e0(t,n){Ii.C(t,n),mp("preconnect",t,n)}function n0(t,n,r){Ii.L(t,n,r);var l=ra;if(l&&t&&n){var c='link[rel="preload"][as="'+se(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+se(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+se(r.imageSizes)+'"]')):c+='[href="'+se(t)+'"]';var f=c;switch(n){case"style":f=sa(t);break;case"script":f=aa(t)}Dn.has(f)||(t=D({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Dn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(bl(f))||n==="script"&&l.querySelector(Rl(f))||(n=l.createElement("link"),ze(n,"link",t),te(n),l.head.appendChild(n)))}}function i0(t,n){Ii.m(t,n);var r=ra;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+se(l)+'"][href="'+se(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=aa(t)}if(!Dn.has(f)&&(t=D({rel:"modulepreload",href:t},n),Dn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Rl(f)))return}l=r.createElement("link"),ze(l,"link",t),te(l),r.head.appendChild(l)}}}function r0(t,n,r){Ii.S(t,n,r);var l=ra;if(l&&t){var c=Qi(l).hoistableStyles,f=sa(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(bl(f)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Dn.get(f))&&sf(t,r);var b=y=l.createElement("link");te(b),ze(b,"link",t),b._p=new Promise(function(M,G){b.onload=M,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function s0(t,n){Ii.X(t,n);var r=ra;if(r&&t){var l=Qi(r).hoistableScripts,c=aa(t),f=l.get(c);f||(f=r.querySelector(Rl(c)),f||(t=D({src:t,async:!0},n),(n=Dn.get(c))&&af(t,n),f=r.createElement("script"),te(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function a0(t,n){Ii.M(t,n);var r=ra;if(r&&t){var l=Qi(r).hoistableScripts,c=aa(t),f=l.get(c);f||(f=r.querySelector(Rl(c)),f||(t=D({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&af(t,n),f=r.createElement("script"),te(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function gp(t,n,r,l){var c=(c=hn.current)?ho(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=sa(r.href),r=Qi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=sa(r.href);var f=Qi(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(bl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Dn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Dn.set(t,r),f||l0(c,t,r,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=aa(r),r=Qi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function sa(t){return'href="'+se(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function pp(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function l0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),te(n),t.head.appendChild(n))}function aa(t){return'[src="'+se(t)+'"]'}function Rl(t){return"script[async]"+t}function yp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+se(r.href)+'"]');if(l)return n.instance=l,te(l),l;var c=D({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),te(l),ze(l,"style",c),fo(l,r.precedence,t),n.instance=l;case"stylesheet":c=sa(r.href);var f=t.querySelector(bl(c));if(f)return n.state.loading|=4,n.instance=f,te(f),f;l=pp(r),(c=Dn.get(c))&&sf(l,c),f=(t.ownerDocument||t).createElement("link"),te(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",l),n.state.loading|=4,fo(f,r.precedence,t),n.instance=f;case"script":return f=aa(r.src),(c=t.querySelector(Rl(f)))?(n.instance=c,te(c),c):(l=r,(c=Dn.get(f))&&(l=D({},r),af(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),te(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,fo(l,r.precedence,t));return n.instance}function fo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var mo=null;function _p(t,n,r){if(mo===null){var l=new Map,c=mo=new Map;c.set(r,l)}else c=mo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Gi]||f[De]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function vp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function u0(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ep(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var wl=null;function o0(){}function c0(t,n,r){if(wl===null)throw Error(s(475));var l=wl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=sa(r.href),f=t.querySelector(bl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=go.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,te(f);return}f=t.ownerDocument||t,r=pp(r),(c=Dn.get(c))&&sf(r,c),f=f.createElement("link"),te(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=go.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function h0(){if(wl===null)throw Error(s(475));var t=wl;return t.stylesheets&&t.count===0&&lf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&lf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function go(){if(this.count--,this.count===0){if(this.stylesheets)lf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var po=null;function lf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,po=new Map,n.forEach(f0,t),po=null,go.call(t))}function f0(t,n){if(!(n.state.loading&4)){var r=po.get(t);if(r)var l=r.get(null);else{r=new Map,po.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=go.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Dl={$$typeof:H,Provider:null,Consumer:null,_currentValue:bt,_currentValue2:bt,_threadCount:0};function d0(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ts(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.hiddenUpdates=Ts(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Tp(t,n,r,l,c,f,y,E,b,M,G,Y){return t=new d0(t,n,r,y,E,b,M,Y),n=1,f===!0&&(n|=24),f=Rn(3,null,null,n),t.current=f,f.stateNode=t,n=Bc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},_h(f),t}function Ap(t){return t?(t=Bs,t):Bs}function Sp(t,n,r,l,c,f){c=Ap(c),l.context===null?l.context=c:l.pendingContext=c,l=sr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ar(t,l,n),r!==null&&(Je(r,t,n),cl(r,t,n))}function bp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function uf(t,n){bp(t,n),(t=t.alternate)&&bp(t,n)}function Rp(t){if(t.tag===13){var n=Ji(t,67108864);n!==null&&Je(n,t,67108864),uf(t,67108864)}}var yo=!0;function m0(t,n,r,l){var c=A.T;A.T=null;var f=nt.p;try{nt.p=2,of(t,n,r,l)}finally{nt.p=f,A.T=c}}function g0(t,n,r,l){var c=A.T;A.T=null;var f=nt.p;try{nt.p=8,of(t,n,r,l)}finally{nt.p=f,A.T=c}}function of(t,n,r,l){if(yo){var c=cf(l);if(c===null)Zh(t,n,l,_o,r),Dp(t,l);else if(y0(c,t,n,r,l))l.stopPropagation();else if(Dp(t,l),n&4&&-1<p0.indexOf(t)){for(;c!==null;){var f=oi(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Nn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Ke(y);E.entanglements[1]|=b,y&=~b}Jn(f),(ne&6)===0&&(to=We()+500,Tl(0))}}break;case 13:E=Ji(f,2),E!==null&&Je(E,f,2),io(),uf(f,2)}if(f=cf(l),f===null&&Zh(t,n,l,_o,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Zh(t,n,l,null,r)}}function cf(t){return t=ws(t),hf(t)}var _o=null;function hf(t){if(_o=null,t=In(t),t!==null){var n=ut(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=qt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _o=t,null}function wp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nu()){case ye:return 2;case we:return 8;case li:case iu:return 32;case Va:return 268435456;default:return 32}default:return 32}}var ff=!1,dr=null,mr=null,gr=null,Cl=new Map,Vl=new Map,pr=[],p0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dp(t,n){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(n.pointerId)}}function Nl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=oi(n),n!==null&&Rp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function y0(t,n,r,l,c){switch(n){case"focusin":return dr=Nl(dr,t,n,r,l,c),!0;case"dragenter":return mr=Nl(mr,t,n,r,l,c),!0;case"mouseover":return gr=Nl(gr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Cl.set(f,Nl(Cl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Vl.set(f,Nl(Vl.get(f)||null,t,n,r,l,c)),!0}return!1}function Cp(t){var n=In(t.target);if(n!==null){var r=ut(n);if(r!==null){if(n=r.tag,n===13){if(n=qt(r),n!==null){t.blockedOn=n,Hi(t.priority,function(){if(r.tag===13){var l=cn(),c=Ji(r,l);c!==null&&Je(c,r,l),uf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=cf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);gn=l,r.target.dispatchEvent(l),gn=null}else return n=oi(r),n!==null&&Rp(n),t.blockedOn=r,!1;n.shift()}return!0}function Vp(t,n,r){vo(t)&&r.delete(n)}function _0(){ff=!1,dr!==null&&vo(dr)&&(dr=null),mr!==null&&vo(mr)&&(mr=null),gr!==null&&vo(gr)&&(gr=null),Cl.forEach(Vp),Vl.forEach(Vp)}function Eo(t,n){t.blockedOn===n&&(t.blockedOn=null,ff||(ff=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,_0)))}var To=null;function Np(t){To!==t&&(To=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){To===t&&(To=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(hf(l||r)===null)continue;break}var f=oi(r);f!==null&&(t.splice(n,3),n-=3,th(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Il(t){function n(b){return Eo(b,t)}dr!==null&&Eo(dr,t),mr!==null&&Eo(mr,t),gr!==null&&Eo(gr,t),Cl.forEach(n),Vl.forEach(n);for(var r=0;r<pr.length;r++){var l=pr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<pr.length&&(r=pr[0],r.blockedOn===null);)Cp(r),r.blockedOn===null&&pr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[_e]||null;if(typeof f=="function")y||Np(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[_e]||null)E=y.formAction;else if(hf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Np(r)}}}function df(t){this._internalRoot=t}Ao.prototype.render=df.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=cn();Sp(r,l,t,n,null,null)},Ao.prototype.unmount=df.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&ea(),Sp(t.current,2,null,t,null,null),io(),n[ui]=null}};function Ao(t){this._internalRoot=t}Ao.prototype.unstable_scheduleHydration=function(t){if(t){var n=uu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<pr.length&&n!==0&&n<pr[r].priority;r++);pr.splice(r,0,t),r===0&&Cp(t)}};var Ip=e.version;if(Ip!=="19.0.0")throw Error(s(527,Ip,"19.0.0"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=X(n),t=t!==null?at(t):null,t=t===null?null:t.stateNode,t};var v0={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:In,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{zi=So.inject(v0),ke=So}catch{}}return Ml.createRoot=function(t,n){if(!u(t))throw Error(s(299));var r=!1,l="",c=Km,f=Xm,y=Zm,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Tp(t,1,!1,null,null,r,l,c,f,y,E,null),t[ui]=n.current,Xh(t.nodeType===8?t.parentNode:t),new df(n)},Ml.hydrateRoot=function(t,n,r){if(!u(t))throw Error(s(299));var l=!1,c="",f=Km,y=Xm,E=Zm,b=null,M=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(M=r.formState)),n=Tp(t,1,!0,n,r??null,l,c,f,y,E,b,M),n.context=Ap(null),r=n.current,l=cn(),c=sr(l),c.callback=null,ar(r,c,l),n.current.lanes=l,oe(n,l),Jn(n),t[ui]=n.current,Xh(t),new Ao(n)},Ml.version="19.0.0",Ml}var kp;function C0(){if(kp)return yf.exports;kp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),yf.exports=D0(),yf.exports}var V0=C0();const N0=()=>{};var qp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let u=a.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},I0=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const u=a[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=a[i++];e[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=a[i++],d=a[i++],g=a[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},n_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<a.length;u+=3){const h=a[u],d=u+1<a.length,g=d?a[u+1]:0,_=u+2<a.length,v=_?a[u+2]:0,S=h>>2,V=(h&3)<<4|g>>4;let P=(g&15)<<2|v>>6,H=v&63;_||(H=64,d||(P=64)),s.push(i[S],i[V],i[P],i[H])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(e_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):I0(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<a.length;){const h=i[a.charAt(u++)],g=u<a.length?i[a.charAt(u)]:0;++u;const v=u<a.length?i[a.charAt(u)]:64;++u;const V=u<a.length?i[a.charAt(u)]:64;if(++u,h==null||g==null||v==null||V==null)throw new O0;const P=h<<2|g>>4;if(s.push(P),v!==64){const H=g<<4&240|v>>2;if(s.push(H),V!==64){const $=v<<6&192|V;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class O0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M0=function(a){const e=e_(a);return n_.encodeByteArray(e,!0)},Lo=function(a){return M0(a).replace(/\./g,"")},x0=function(a){try{return n_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=()=>U0().__FIREBASE_DEFAULTS__,z0=()=>{if(typeof process>"u"||typeof qp>"u")return;const a=qp.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},B0=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&x0(a[1]);return e&&JSON.parse(e)},Jf=()=>{try{return N0()||L0()||z0()||B0()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},P0=a=>{var e,i;return(i=(e=Jf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},j0=a=>{const e=P0(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},i_=()=>{var a;return(a=Jf())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Lo(JSON.stringify(i)),Lo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G0(){var a;const e=(a=Jf())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F0(){return!G0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q0(){try{return typeof indexedDB=="object"}catch{return!1}}function Y0(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="FirebaseError";class Aa extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=K0,Object.setPrototypeOf(this,Aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,r_.prototype.create)}}class r_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?X0(h,s):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Aa(u,g,s)}}function X0(a,e){return a.replace(Z0,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const Z0=/\{\$([^}]+)}/g;function zo(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const h=a[u],d=e[u];if(Hp(h)&&Hp(d)){if(!zo(h,d))return!1}else if(h!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function Hp(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(a){return a&&a._delegate?a._delegate:a}class ql{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new k0;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(W0(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(u)}return u}onInit(e,i){var s;const u=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(u))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:J0(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function J0(a){return a===us?void 0:a}function W0(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new $0(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Lt||(Lt={}));const eT={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},nT=Lt.INFO,iT={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},rT=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),u=iT[e];if(u)console[u](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class s_{constructor(e){this.name=e,this._logLevel=nT,this._logHandler=rT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const sT=(a,e)=>e.some(i=>a instanceof i);let Gp,Fp;function aT(){return Gp||(Gp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lT(){return Fp||(Fp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a_=new WeakMap,Nf=new WeakMap,l_=new WeakMap,Ef=new WeakMap,Wf=new WeakMap;function uT(a){const e=new Promise((i,s)=>{const u=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(vr(a.result)),u()},d=()=>{s(a.error),u()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&a_.set(i,a)}).catch(()=>{}),Wf.set(e,a),e}function oT(a){if(Nf.has(a))return;const e=new Promise((i,s)=>{const u=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Nf.set(a,e)}let If={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Nf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||l_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return vr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function cT(a){If=a(If)}function hT(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Tf(this),e,...i);return l_.set(s,e.sort?e.sort():[e]),vr(s)}:lT().includes(a)?function(...e){return a.apply(Tf(this),e),vr(a_.get(this))}:function(...e){return vr(a.apply(Tf(this),e))}}function fT(a){return typeof a=="function"?hT(a):(a instanceof IDBTransaction&&oT(a),sT(a,aT())?new Proxy(a,If):a)}function vr(a){if(a instanceof IDBRequest)return uT(a);if(Ef.has(a))return Ef.get(a);const e=fT(a);return e!==a&&(Ef.set(a,e),Wf.set(e,a)),e}const Tf=a=>Wf.get(a);function dT(a,e,{blocked:i,upgrade:s,blocking:u,terminated:h}={}){const d=indexedDB.open(a,e),g=vr(d);return s&&d.addEventListener("upgradeneeded",_=>{s(vr(d.result),_.oldVersion,_.newVersion,vr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const mT=["get","getKey","getAll","getAllKeys","count"],gT=["put","add","delete","clear"],Af=new Map;function Qp(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Af.get(e))return Af.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=gT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||mT.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),u&&_.done]))[0]};return Af.set(e,h),h}cT(a=>({...a,get:(e,i,s)=>Qp(e,i)||a.get(e,i,s),has:(e,i)=>!!Qp(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(yT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function yT(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Of="@firebase/app",Yp="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new s_("@firebase/app"),_T="@firebase/app-compat",vT="@firebase/analytics-compat",ET="@firebase/analytics",TT="@firebase/app-check-compat",AT="@firebase/app-check",ST="@firebase/auth",bT="@firebase/auth-compat",RT="@firebase/database",wT="@firebase/data-connect",DT="@firebase/database-compat",CT="@firebase/functions",VT="@firebase/functions-compat",NT="@firebase/installations",IT="@firebase/installations-compat",OT="@firebase/messaging",MT="@firebase/messaging-compat",xT="@firebase/performance",UT="@firebase/performance-compat",LT="@firebase/remote-config",zT="@firebase/remote-config-compat",BT="@firebase/storage",PT="@firebase/storage-compat",jT="@firebase/firestore",kT="@firebase/vertexai",qT="@firebase/firestore-compat",HT="firebase",GT="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="[DEFAULT]",FT={[Of]:"fire-core",[_T]:"fire-core-compat",[ET]:"fire-analytics",[vT]:"fire-analytics-compat",[AT]:"fire-app-check",[TT]:"fire-app-check-compat",[ST]:"fire-auth",[bT]:"fire-auth-compat",[RT]:"fire-rtdb",[wT]:"fire-data-connect",[DT]:"fire-rtdb-compat",[CT]:"fire-fn",[VT]:"fire-fn-compat",[NT]:"fire-iid",[IT]:"fire-iid-compat",[OT]:"fire-fcm",[MT]:"fire-fcm-compat",[xT]:"fire-perf",[UT]:"fire-perf-compat",[LT]:"fire-rc",[zT]:"fire-rc-compat",[BT]:"fire-gcs",[PT]:"fire-gcs-compat",[jT]:"fire-fst",[qT]:"fire-fst-compat",[kT]:"fire-vertex","fire-js":"fire-js",[HT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Map,QT=new Map,xf=new Map;function Kp(a,e){try{a.container.addComponent(e)}catch(i){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Po(a){const e=a.name;if(xf.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;xf.set(e,a);for(const i of Bo.values())Kp(i,a);for(const i of QT.values())Kp(i,a);return!0}function YT(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function KT(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new r_("app","Firebase",XT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=GT;function u_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Mf,automaticDataCollectionEnabled:!1},e),u=s.name;if(typeof u!="string"||!u)throw Er.create("bad-app-name",{appName:String(u)});if(i||(i=i_()),!i)throw Er.create("no-options");const h=Bo.get(u);if(h){if(zo(i,h.options)&&zo(s,h.config))return h;throw Er.create("duplicate-app",{appName:u})}const d=new tT(u);for(const _ of xf.values())d.addComponent(_);const g=new ZT(i,s,d);return Bo.set(u,g),g}function JT(a=Mf){const e=Bo.get(a);if(!e&&a===Mf&&i_())return u_();if(!e)throw Er.create("no-app",{appName:a});return e}function ha(a,e,i){var s;let u=(s=FT[a])!==null&&s!==void 0?s:a;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(g.join(" "));return}Po(new ql(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firebase-heartbeat-database",tA=1,Hl="firebase-heartbeat-store";let Sf=null;function o_(){return Sf||(Sf=dT(WT,tA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Hl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Er.create("idb-open",{originalErrorMessage:a.message})})),Sf}async function eA(a){try{const i=(await o_()).transaction(Hl),s=await i.objectStore(Hl).get(c_(a));return await i.done,s}catch(e){if(e instanceof Aa)Oi.warn(e.message);else{const i=Er.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(i.message)}}}async function Xp(a,e){try{const s=(await o_()).transaction(Hl,"readwrite");await s.objectStore(Hl).put(e,c_(a)),await s.done}catch(i){if(i instanceof Aa)Oi.warn(i.message);else{const s=Er.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Oi.warn(s.message)}}}function c_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=1024,iA=30;class rA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new aA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Zp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>iA){const d=lA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Oi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Zp(),{heartbeatsToSend:s,unsentEntries:u}=sA(this._heartbeatsCache.heartbeats),h=Lo(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Oi.warn(i),""}}}function Zp(){return new Date().toISOString().substring(0,10)}function sA(a,e=nA){const i=[];let s=a.slice();for(const u of a){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),$p(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),$p(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class aA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Q0()?Y0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await eA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Xp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Xp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function $p(a){return Lo(JSON.stringify({version:2,heartbeats:a})).length}function lA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(a){Po(new ql("platform-logger",e=>new pT(e),"PRIVATE")),Po(new ql("heartbeat",e=>new rA(e),"PRIVATE")),ha(Of,Yp,a),ha(Of,Yp,"esm2017"),ha("fire-js","")}uA("");var oA="firebase",cA="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ha(oA,cA,"app");var Jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tr,h_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function A(){}A.prototype=R.prototype,N.D=R.prototype,N.prototype=new A,N.prototype.constructor=N,N.C=function(D,O,x){for(var w=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)w[Qt-2]=arguments[Qt];return R.prototype[O].apply(D,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(N,R,A){A||(A=0);var D=Array(16);if(typeof R=="string")for(var O=0;16>O;++O)D[O]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(O=0;16>O;++O)D[O]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=N.g[0],A=N.g[1],O=N.g[2];var x=N.g[3],w=R+(x^A&(O^x))+D[0]+3614090360&4294967295;R=A+(w<<7&4294967295|w>>>25),w=x+(O^R&(A^O))+D[1]+3905402710&4294967295,x=R+(w<<12&4294967295|w>>>20),w=O+(A^x&(R^A))+D[2]+606105819&4294967295,O=x+(w<<17&4294967295|w>>>15),w=A+(R^O&(x^R))+D[3]+3250441966&4294967295,A=O+(w<<22&4294967295|w>>>10),w=R+(x^A&(O^x))+D[4]+4118548399&4294967295,R=A+(w<<7&4294967295|w>>>25),w=x+(O^R&(A^O))+D[5]+1200080426&4294967295,x=R+(w<<12&4294967295|w>>>20),w=O+(A^x&(R^A))+D[6]+2821735955&4294967295,O=x+(w<<17&4294967295|w>>>15),w=A+(R^O&(x^R))+D[7]+4249261313&4294967295,A=O+(w<<22&4294967295|w>>>10),w=R+(x^A&(O^x))+D[8]+1770035416&4294967295,R=A+(w<<7&4294967295|w>>>25),w=x+(O^R&(A^O))+D[9]+2336552879&4294967295,x=R+(w<<12&4294967295|w>>>20),w=O+(A^x&(R^A))+D[10]+4294925233&4294967295,O=x+(w<<17&4294967295|w>>>15),w=A+(R^O&(x^R))+D[11]+2304563134&4294967295,A=O+(w<<22&4294967295|w>>>10),w=R+(x^A&(O^x))+D[12]+1804603682&4294967295,R=A+(w<<7&4294967295|w>>>25),w=x+(O^R&(A^O))+D[13]+4254626195&4294967295,x=R+(w<<12&4294967295|w>>>20),w=O+(A^x&(R^A))+D[14]+2792965006&4294967295,O=x+(w<<17&4294967295|w>>>15),w=A+(R^O&(x^R))+D[15]+1236535329&4294967295,A=O+(w<<22&4294967295|w>>>10),w=R+(O^x&(A^O))+D[1]+4129170786&4294967295,R=A+(w<<5&4294967295|w>>>27),w=x+(A^O&(R^A))+D[6]+3225465664&4294967295,x=R+(w<<9&4294967295|w>>>23),w=O+(R^A&(x^R))+D[11]+643717713&4294967295,O=x+(w<<14&4294967295|w>>>18),w=A+(x^R&(O^x))+D[0]+3921069994&4294967295,A=O+(w<<20&4294967295|w>>>12),w=R+(O^x&(A^O))+D[5]+3593408605&4294967295,R=A+(w<<5&4294967295|w>>>27),w=x+(A^O&(R^A))+D[10]+38016083&4294967295,x=R+(w<<9&4294967295|w>>>23),w=O+(R^A&(x^R))+D[15]+3634488961&4294967295,O=x+(w<<14&4294967295|w>>>18),w=A+(x^R&(O^x))+D[4]+3889429448&4294967295,A=O+(w<<20&4294967295|w>>>12),w=R+(O^x&(A^O))+D[9]+568446438&4294967295,R=A+(w<<5&4294967295|w>>>27),w=x+(A^O&(R^A))+D[14]+3275163606&4294967295,x=R+(w<<9&4294967295|w>>>23),w=O+(R^A&(x^R))+D[3]+4107603335&4294967295,O=x+(w<<14&4294967295|w>>>18),w=A+(x^R&(O^x))+D[8]+1163531501&4294967295,A=O+(w<<20&4294967295|w>>>12),w=R+(O^x&(A^O))+D[13]+2850285829&4294967295,R=A+(w<<5&4294967295|w>>>27),w=x+(A^O&(R^A))+D[2]+4243563512&4294967295,x=R+(w<<9&4294967295|w>>>23),w=O+(R^A&(x^R))+D[7]+1735328473&4294967295,O=x+(w<<14&4294967295|w>>>18),w=A+(x^R&(O^x))+D[12]+2368359562&4294967295,A=O+(w<<20&4294967295|w>>>12),w=R+(A^O^x)+D[5]+4294588738&4294967295,R=A+(w<<4&4294967295|w>>>28),w=x+(R^A^O)+D[8]+2272392833&4294967295,x=R+(w<<11&4294967295|w>>>21),w=O+(x^R^A)+D[11]+1839030562&4294967295,O=x+(w<<16&4294967295|w>>>16),w=A+(O^x^R)+D[14]+4259657740&4294967295,A=O+(w<<23&4294967295|w>>>9),w=R+(A^O^x)+D[1]+2763975236&4294967295,R=A+(w<<4&4294967295|w>>>28),w=x+(R^A^O)+D[4]+1272893353&4294967295,x=R+(w<<11&4294967295|w>>>21),w=O+(x^R^A)+D[7]+4139469664&4294967295,O=x+(w<<16&4294967295|w>>>16),w=A+(O^x^R)+D[10]+3200236656&4294967295,A=O+(w<<23&4294967295|w>>>9),w=R+(A^O^x)+D[13]+681279174&4294967295,R=A+(w<<4&4294967295|w>>>28),w=x+(R^A^O)+D[0]+3936430074&4294967295,x=R+(w<<11&4294967295|w>>>21),w=O+(x^R^A)+D[3]+3572445317&4294967295,O=x+(w<<16&4294967295|w>>>16),w=A+(O^x^R)+D[6]+76029189&4294967295,A=O+(w<<23&4294967295|w>>>9),w=R+(A^O^x)+D[9]+3654602809&4294967295,R=A+(w<<4&4294967295|w>>>28),w=x+(R^A^O)+D[12]+3873151461&4294967295,x=R+(w<<11&4294967295|w>>>21),w=O+(x^R^A)+D[15]+530742520&4294967295,O=x+(w<<16&4294967295|w>>>16),w=A+(O^x^R)+D[2]+3299628645&4294967295,A=O+(w<<23&4294967295|w>>>9),w=R+(O^(A|~x))+D[0]+4096336452&4294967295,R=A+(w<<6&4294967295|w>>>26),w=x+(A^(R|~O))+D[7]+1126891415&4294967295,x=R+(w<<10&4294967295|w>>>22),w=O+(R^(x|~A))+D[14]+2878612391&4294967295,O=x+(w<<15&4294967295|w>>>17),w=A+(x^(O|~R))+D[5]+4237533241&4294967295,A=O+(w<<21&4294967295|w>>>11),w=R+(O^(A|~x))+D[12]+1700485571&4294967295,R=A+(w<<6&4294967295|w>>>26),w=x+(A^(R|~O))+D[3]+2399980690&4294967295,x=R+(w<<10&4294967295|w>>>22),w=O+(R^(x|~A))+D[10]+4293915773&4294967295,O=x+(w<<15&4294967295|w>>>17),w=A+(x^(O|~R))+D[1]+2240044497&4294967295,A=O+(w<<21&4294967295|w>>>11),w=R+(O^(A|~x))+D[8]+1873313359&4294967295,R=A+(w<<6&4294967295|w>>>26),w=x+(A^(R|~O))+D[15]+4264355552&4294967295,x=R+(w<<10&4294967295|w>>>22),w=O+(R^(x|~A))+D[6]+2734768916&4294967295,O=x+(w<<15&4294967295|w>>>17),w=A+(x^(O|~R))+D[13]+1309151649&4294967295,A=O+(w<<21&4294967295|w>>>11),w=R+(O^(A|~x))+D[4]+4149444226&4294967295,R=A+(w<<6&4294967295|w>>>26),w=x+(A^(R|~O))+D[11]+3174756917&4294967295,x=R+(w<<10&4294967295|w>>>22),w=O+(R^(x|~A))+D[2]+718787259&4294967295,O=x+(w<<15&4294967295|w>>>17),w=A+(x^(O|~R))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+x&4294967295}s.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var A=R-this.blockSize,D=this.B,O=this.h,x=0;x<R;){if(O==0)for(;x<=A;)u(this,N,x),x+=this.blockSize;if(typeof N=="string"){for(;x<R;)if(D[O++]=N.charCodeAt(x++),O==this.blockSize){u(this,D),O=0;break}}else for(;x<R;)if(D[O++]=N[x++],O==this.blockSize){u(this,D),O=0;break}}this.h=O,this.o+=R},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var A=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=A&255,A/=256;for(this.u(N),N=Array(16),R=A=0;4>R;++R)for(var D=0;32>D;D+=8)N[A++]=this.g[R]>>>D&255;return N};function h(N,R){var A=g;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=R(N)}function d(N,R){this.h=R;for(var A=[],D=!0,O=N.length-1;0<=O;O--){var x=N[O]|0;D&&x==R||(A[O]=x,D=!1)}this.g=A}var g={};function _(N){return-128<=N&&128>N?h(N,function(R){return new d([R|0],0>R?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return V;if(0>N)return Z(v(-N));for(var R=[],A=1,D=0;N>=A;D++)R[D]=N/A|0,A*=4294967296;return new d(R,0)}function S(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return Z(S(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(R,8)),D=V,O=0;O<N.length;O+=8){var x=Math.min(8,N.length-O),w=parseInt(N.substring(O,O+x),R);8>x?(x=v(Math.pow(R,x)),D=D.j(x).add(v(w))):(D=D.j(A),D=D.add(v(w)))}return D}var V=_(0),P=_(1),H=_(16777216);a=d.prototype,a.m=function(){if(J(this))return-Z(this).m();for(var N=0,R=1,A=0;A<this.g.length;A++){var D=this.i(A);N+=(0<=D?D:4294967296+D)*R,R*=4294967296}return N},a.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(J(this))return"-"+Z(this).toString(N);for(var R=v(Math.pow(N,6)),A=this,D="";;){var O=Ct(A,R).g;A=ct(A,O.j(R));var x=((0<A.g.length?A.g[0]:A.h)>>>0).toString(N);if(A=O,$(A))return x+D;for(;6>x.length;)x="0"+x;D=x+D}},a.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function J(N){return N.h==-1}a.l=function(N){return N=ct(this,N),J(N)?-1:$(N)?0:1};function Z(N){for(var R=N.g.length,A=[],D=0;D<R;D++)A[D]=~N.g[D];return new d(A,~N.h).add(P)}a.abs=function(){return J(this)?Z(this):this},a.add=function(N){for(var R=Math.max(this.g.length,N.g.length),A=[],D=0,O=0;O<=R;O++){var x=D+(this.i(O)&65535)+(N.i(O)&65535),w=(x>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);D=w>>>16,x&=65535,w&=65535,A[O]=w<<16|x}return new d(A,A[A.length-1]&-2147483648?-1:0)};function ct(N,R){return N.add(Z(R))}a.j=function(N){if($(this)||$(N))return V;if(J(this))return J(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(J(N))return Z(this.j(Z(N)));if(0>this.l(H)&&0>N.l(H))return v(this.m()*N.m());for(var R=this.g.length+N.g.length,A=[],D=0;D<2*R;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var O=0;O<N.g.length;O++){var x=this.i(D)>>>16,w=this.i(D)&65535,Qt=N.i(O)>>>16,Zt=N.i(O)&65535;A[2*D+2*O]+=w*Zt,gt(A,2*D+2*O),A[2*D+2*O+1]+=x*Zt,gt(A,2*D+2*O+1),A[2*D+2*O+1]+=w*Qt,gt(A,2*D+2*O+1),A[2*D+2*O+2]+=x*Qt,gt(A,2*D+2*O+2)}for(D=0;D<R;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=R;D<2*R;D++)A[D]=0;return new d(A,0)};function gt(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function ft(N,R){this.g=N,this.h=R}function Ct(N,R){if($(R))throw Error("division by zero");if($(N))return new ft(V,V);if(J(N))return R=Ct(Z(N),R),new ft(Z(R.g),Z(R.h));if(J(R))return R=Ct(N,Z(R)),new ft(Z(R.g),R.h);if(30<N.g.length){if(J(N)||J(R))throw Error("slowDivide_ only works with positive integers.");for(var A=P,D=R;0>=D.l(N);)A=dt(A),D=dt(D);var O=Tt(A,1),x=Tt(D,1);for(D=Tt(D,2),A=Tt(A,2);!$(D);){var w=x.add(D);0>=w.l(N)&&(O=O.add(A),x=w),D=Tt(D,1),A=Tt(A,1)}return R=ct(N,O.j(R)),new ft(O,R)}for(O=V;0<=N.l(R);){for(A=Math.max(1,Math.floor(N.m()/R.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),x=v(A),w=x.j(R);J(w)||0<w.l(N);)A-=D,x=v(A),w=x.j(R);$(x)&&(x=P),O=O.add(x),N=ct(N,w)}return new ft(O,N)}a.A=function(N){return Ct(this,N).h},a.and=function(N){for(var R=Math.max(this.g.length,N.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)&N.i(D);return new d(A,this.h&N.h)},a.or=function(N){for(var R=Math.max(this.g.length,N.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)|N.i(D);return new d(A,this.h|N.h)},a.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)^N.i(D);return new d(A,this.h^N.h)};function dt(N){for(var R=N.g.length+1,A=[],D=0;D<R;D++)A[D]=N.i(D)<<1|N.i(D-1)>>>31;return new d(A,N.h)}function Tt(N,R){var A=R>>5;R%=32;for(var D=N.g.length-A,O=[],x=0;x<D;x++)O[x]=0<R?N.i(x+A)>>>R|N.i(x+A+1)<<32-R:N.i(x+A);return new d(O,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,h_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,Tr=d}).apply(typeof Jp<"u"?Jp:typeof self<"u"?self:typeof window<"u"?window:{});var bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var f_,xl,d_,No,Uf,m_,g_,p_;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof bo=="object"&&bo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var p=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in p))break t;p=p[L]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,L={next:function(){if(!T&&p<o.length){var j=p++;return{value:m(j,o[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function S(o,m,p){return o.call.apply(o.bind,arguments)}function V(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function P(o,m,p){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:V,P.apply(null,arguments)}function H(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function $(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,L,j){for(var W=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)W[Ot-2]=arguments[Ot];return m.prototype[L].apply(T,W)}}function J(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function Z(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const L=o.length||0,j=T.length||0;o.length=L+j;for(let W=0;W<j;W++)o[L+W]=T[W]}else o.push(T)}}class ct{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function gt(o){return/^[\s\xa0]*$/.test(o)}function ft(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function Ct(o){return Ct[" "](o),o}Ct[" "]=function(){};var dt=ft().indexOf("Gecko")!=-1&&!(ft().toLowerCase().indexOf("webkit")!=-1&&ft().indexOf("Edge")==-1)&&!(ft().indexOf("Trident")!=-1||ft().indexOf("MSIE")!=-1)&&ft().indexOf("Edge")==-1;function Tt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function N(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function R(o){const m={};for(const p in o)m[p]=o[p];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(o,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)o[p]=T[p];for(let j=0;j<A.length;j++)p=A[j],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function O(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function x(o){g.setTimeout(()=>{throw o},0)}function w(){var o=qt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Qt{constructor(){this.h=this.g=null}add(m,p){const T=Zt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var Zt=new ct(()=>new tt,o=>o.reset());class tt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,ut=!1,qt=new Qt,C=()=>{const o=g.Promise.resolve(void 0);pt=()=>{o.then(X)}};var X=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(p){x(p)}var m=Zt;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ut=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var nt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function bt(o,m){if(et.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(dt){t:{try{Ct(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:At[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&bt.aa.h.call(this)}}$(bt,et);var At={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),zt=0;function re(o,m,p,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++zt,this.da=this.fa=!1}function Ft(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Ye(o){this.src=o,this.g={},this.h=0}Ye.prototype.add=function(o,m,p,T,L){var j=o.toString();o=this.g[j],o||(o=this.g[j]=[],this.h++);var W=hn(o,m,T,L);return-1<W?(m=o[W],p||(m.fa=!1)):(m=new re(m,this.src,j,!!T,L),m.fa=p,o.push(m)),m};function si(o,m){var p=m.type;if(p in o.g){var T=o.g[p],L=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=L)&&Array.prototype.splice.call(T,L,1),j&&(Ft(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function hn(o,m,p,T){for(var L=0;L<o.length;++L){var j=o[L];if(!j.da&&j.listener==m&&j.capture==!!p&&j.ha==T)return L}return-1}var Ui="closure_lm_"+(1e6*Math.random()|0),Li={};function ai(o,m,p,T,L){if(Array.isArray(m)){for(var j=0;j<m.length;j++)ai(o,m[j],p,T,L);return null}return p=nu(p),o&&o[fe]?o.K(m,p,v(T)?!!T.capture:!1,L):Da(o,m,p,!1,T,L)}function Da(o,m,p,T,L,j){if(!m)throw Error("Invalid event type");var W=v(L)?!!L.capture:!!L,Ot=Ca(o);if(Ot||(o[Ui]=Ot=new Ye(o)),p=Ot.add(m,p,T,W,j),p.proxy)return p;if(T=ys(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)nt||(L=W),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(vs(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ys(){function o(p){return m.call(o.src,o.listener,p)}const m=gc;return o}function _s(o,m,p,T,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)_s(o,m[j],p,T,L);else T=v(T)?!!T.capture:!!T,p=nu(p),o&&o[fe]?(o=o.i,m=String(m).toString(),m in o.g&&(j=o.g[m],p=hn(j,p,T,L),-1<p&&(Ft(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete o.g[m],o.h--)))):o&&(o=Ca(o))&&(m=o.g[m.toString()],o=-1,m&&(o=hn(m,p,T,L)),(p=-1<o?m[o]:null)&&Nr(p))}function Nr(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[fe])si(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(vs(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ca(m))?(si(p,o),p.h==0&&(p.src=null,m[Ui]=null)):Ft(o)}}}function vs(o){return o in Li?Li[o]:Li[o]="on"+o}function gc(o,m){if(o.da)o=!0;else{m=new bt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&Nr(o),o=p.call(T,m)}return o}function Ca(o){return o=o[Ui],o instanceof Ye?o:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function nu(o){return typeof o=="function"?o:(o[We]||(o[We]=function(m){return o.handleEvent(m)}),o[We])}function ye(){at.call(this),this.i=new Ye(this),this.M=this,this.F=null}$(ye,at),ye.prototype[fe]=!0,ye.prototype.removeEventListener=function(o,m,p,T){_s(this,o,m,p,T)};function we(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new et(m,o);else if(m instanceof et)m.target=m.target||o;else{var L=m;m=new et(T,o),D(m,L)}if(L=!0,p)for(var j=p.length-1;0<=j;j--){var W=m.g=p[j];L=li(W,T,!0,m)&&L}if(W=m.g=o,L=li(W,T,!0,m)&&L,L=li(W,T,!1,m)&&L,p)for(j=0;j<p.length;j++)W=m.g=p[j],L=li(W,T,!1,m)&&L}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Ft(p[T]);delete o.g[m],o.h--}}this.F=null},ye.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},ye.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function li(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,j=0;j<m.length;++j){var W=m[j];if(W&&!W.da&&W.capture==p){var Ot=W.listener,ve=W.ha||W.src;W.fa&&si(o.i,W),L=Ot.call(ve,T)!==!1&&L}}return L&&!T.defaultPrevented}function iu(o,m,p){if(typeof o=="function")p&&(o=P(o,p));else if(o&&typeof o.handleEvent=="function")o=P(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function Va(o){o.g=iu(()=>{o.g=null,o.i&&(o.i=!1,Va(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class pc extends at{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Va(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ir(o){at.call(this),this.h=o,this.g={}}$(Ir,at);var zi=[];function ke(o){Tt(o.g,function(m,p){this.g.hasOwnProperty(p)&&Nr(m)},o),o.g={}}Ir.prototype.N=function(){Ir.aa.N.call(this),ke(this)},Ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Na=g.JSON.stringify,zn=g.JSON.parse,Ke=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Ia(){}Ia.prototype.h=null;function ru(o){return o.h||(o.h=o.i())}function su(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){et.call(this,"d")}$(Bi,et);function Nn(){et.call(this,"c")}$(Nn,et);var fn={},Pi=null;function Es(){return Pi=Pi||new ye}fn.La="serverreachability";function Oa(o){et.call(this,fn.La,o)}$(Oa,et);function ji(o){const m=Es();we(m,new Oa(m))}fn.STAT_EVENT="statevent";function Ts(o,m){et.call(this,fn.STAT_EVENT,o),this.stat=m}$(Ts,et);function oe(o){const m=Es();we(m,new Ts(m,o))}fn.Ma="timingevent";function au(o,m){et.call(this,fn.Ma,o),this.size=m}$(au,et);function ki(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function qi(){this.g=!0}qi.prototype.xa=function(){this.g=!1};function lu(o,m,p,T,L,j){o.info(function(){if(o.g)if(j)for(var W="",Ot=j.split("&"),ve=0;ve<Ot.length;ve++){var Mt=Ot[ve].split("=");if(1<Mt.length){var Ve=Mt[0];Mt=Mt[1];var Ee=Ve.split("_");W=2<=Ee.length&&Ee[1]=="type"?W+(Ve+"="+Mt+"&"):W+(Ve+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+W})}function uu(o,m,p,T,L,j,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+j+" "+W})}function Hi(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+De(o,p)+(T?" "+T:"")})}function Pn(o,m){o.info(function(){return"TIMEOUT: "+m})}qi.prototype.info=function(){};function De(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return Na(p)}catch{return m}}var _e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Or;function As(){}$(As,Ia),As.prototype.g=function(){return new XMLHttpRequest},As.prototype.i=function(){return{}},Or=new As;function jn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Ir(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ma}function Ma(){this.i=null,this.g="",this.h=!1}var Gi={},Mr={};function In(o,m,p){o.L=1,o.v=Lr(se(m)),o.m=p,o.P=!0,oi(o,null)}function oi(o,m){o.F=Date.now(),te(o),o.A=se(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),fi(p.i,"t",T),o.C=0,p=o.j.J,o.h=new Ma,o.g=Au(o.j,p?m:null,!o.m),0<o.O&&(o.M=new pc(P(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(zi[0]=L.toString()),L=zi);for(var j=0;j<L.length;j++){var W=ai(p,L[j],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.H?R(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),ji(),lu(o.i,o.u,o.A,o.l,o.R,o.m)}jn.prototype.ca=function(o){o=o.target;const m=this.M;m&&yn(o)==3?m.j():this.Y(o)},jn.prototype.Y=function(o){try{if(o==this.g)t:{const Ee=yn(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||mu(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=pi?ji(3):ji(2)),Ss(this);var p=this.g.Z();this.X=p;e:if(Fi(this)){var T=mu(this.g);o="";var L=T.length,j=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),rn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(j&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,uu(this.i,this.u,this.A,this.l,this.R,Ee,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,ve=this.g;if((Ot=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gt(Ot)){var Mt=Ot;break e}}Mt=null}if(p=Mt)Hi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sn(this,p);else{this.o=!1,this.s=3,oe(12),tn(this),rn(this);break t}}if(this.P){p=!0;let xe;for(;!this.J&&this.C<W.length;)if(xe=Qi(this,W),xe==Mr){Ee==4&&(this.s=4,oe(14),p=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==Gi){this.s=4,oe(15),Hi(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else Hi(this.i,this.l,xe,null),sn(this,xe);if(Fi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||W.length!=0||this.h.h||(this.s=1,oe(16),p=!1),this.o=this.o&&p,!p)Hi(this.i,this.l,W,"[Invalid Chunked Response]"),tn(this),rn(this);else if(0<W.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Hr(Ve),Ve.M=!0,oe(11))}}else Hi(this.i,this.l,W,null),sn(this,W);Ee==4&&tn(this),this.o&&!this.J&&(Ee==4?vu(this.j,this):(this.o=!1,te(this)))}else Ac(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),tn(this),rn(this)}}}catch{}finally{}};function Fi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Qi(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Mr:(p=Number(m.substring(p,T)),isNaN(p)?Gi:(T+=1,T+p>m.length?Mr:(m=m.slice(T,T+p),o.C=T+p,m)))}jn.prototype.cancel=function(){this.J=!0,tn(this)};function te(o){o.S=Date.now()+o.I,xa(o,o.I)}function xa(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ki(P(o.ba,o),m)}function Ss(o){o.B&&(g.clearTimeout(o.B),o.B=null)}jn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Pn(this.i,this.A),this.L!=2&&(ji(),oe(17)),tn(this),this.s=2,rn(this)):xa(this,this.S-o)};function rn(o){o.j.G==0||o.J||vu(o.j,o)}function tn(o){Ss(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,ke(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function sn(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Yi(p.h,o))){if(!o.K&&Yi(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Ms(p),Is(p);else break t;Fa(p),oe(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=ki(P(p.Za,p),6e3));if(1>=ou(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else gi(p,11)}else if((o.K||p.g==o)&&Ms(p),!gt(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Mt=L[m];if(p.T=Mt[0],Mt=Mt[1],p.G==2)if(Mt[0]=="c"){p.K=Mt[1],p.ia=Mt[2];const Ve=Mt[3];Ve!=null&&(p.la=Ve,p.j.info("VER="+p.la));const Ee=Mt[4];Ee!=null&&(p.Aa=Ee,p.j.info("SVER="+p.Aa));const pi=Mt[5];pi!=null&&typeof pi=="number"&&0<pi&&(T=1.5*pi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const xe=o.g;if(xe){const Yn=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var j=T.h;j.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ki(j,j.h),j.h=null))}if(T.D){const Ya=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Ya&&(T.ya=Ya,Bt(T.I,T.D,Ya))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var W=o;if(T.qa=Tu(T,T.J?T.ia:null,T.W),W.K){dn(T.h,W);var Ot=W,ve=T.L;ve&&(Ot.I=ve),Ot.B&&(Ss(Ot),te(Ot)),T.g=W}else yu(T);0<p.i.length&&Os(p)}else Mt[0]!="stop"&&Mt[0]!="close"||gi(p,7);else p.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?gi(p,7):Ha(p):Mt[0]!="noop"&&p.l&&p.l.ta(Mt),p.v=0)}}ji(4)}catch{}}var yc=class{constructor(o,m){this.g=o,this.map=m}};function Ua(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function La(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ou(o){return o.h?1:o.g?o.g.size:0}function Yi(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Ki(o,m){o.g?o.g.add(m):o.h=m}function dn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Ua.prototype.cancel=function(){if(this.i=Xe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Xe(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return J(o.i)}function cu(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function _c(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function xr(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=_c(o),T=cu(o),L=T.length,j=0;j<L;j++)m.call(void 0,T[j],p&&p[j],o)}var za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bs(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),L=null;if(0<=T){var j=o[p].substring(0,T);L=o[p].substring(T+1)}else j=o[p];m(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ci(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof ci){this.h=o.h,Xi(this,o.j),this.o=o.o,this.g=o.g,Ur(this,o.s),this.l=o.l;var m=o.i,p=new kn;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Rs(this,p),this.m=o.m}else o&&(m=String(o).match(za))?(this.h=!1,Xi(this,m[1]||"",!0),this.o=Zi(m[2]||""),this.g=Zi(m[3]||"",!0),Ur(this,m[4]),this.l=Zi(m[5]||"",!0),Rs(this,m[6]||"",!0),this.m=Zi(m[7]||"")):(this.h=!1,this.i=new kn(null,this.h))}ci.prototype.toString=function(){var o=[],m=this.j;m&&o.push(mn(m,Ba,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(mn(m,Ba,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(mn(p,p.charAt(0)=="/"?Pa:hu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",mn(p,Tc)),o.join("")};function se(o){return new ci(o)}function Xi(o,m,p){o.j=p?Zi(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Ur(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Rs(o,m,p){m instanceof kn?(o.i=m,ja(o.i,o.h)):(p||(m=mn(m,Ec)),o.i=new kn(m,o.h))}function Bt(o,m,p){o.i.set(m,p)}function Lr(o){return Bt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Zi(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function mn(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,vc),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function vc(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ba=/[#\/\?@]/g,hu=/[#\?:]/g,Pa=/[#\?]/g,Ec=/[#\?@]/g,Tc=/#/g;function kn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function gn(o){o.g||(o.g=new Map,o.h=0,o.i&&bs(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=kn.prototype,a.add=function(o,m){gn(this),this.i=null,o=di(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function ws(o,m){gn(o),m=di(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function hi(o,m){return gn(o),m=di(o,m),o.g.has(m)}a.forEach=function(o,m){gn(this),this.g.forEach(function(p,T){p.forEach(function(L){o.call(m,L,T,this)},this)},this)},a.na=function(){gn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=o[T];for(let j=0;j<L.length;j++)p.push(m[T])}return p},a.V=function(o){gn(this);let m=[];if(typeof o=="string")hi(this,o)&&(m=m.concat(this.g.get(di(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},a.set=function(o,m){return gn(this),this.i=null,o=di(this,o),hi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},a.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function fi(o,m,p){ws(o,m),0<p.length&&(o.i=null,o.g.set(di(o,m),J(p)),o.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const j=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var L=j;W[T]!==""&&(L+="="+encodeURIComponent(String(W[T]))),o.push(L)}}return this.i=o.join("&")};function di(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function ja(o,m){m&&!o.j&&(gn(o),o.i=null,o.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(ws(this,T),fi(this,L,p))},o)),o.j=m}function fu(o,m){const p=new qi;if(g.Image){const T=new Image;T.onload=H(pn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=H(pn,p,"TestLoadImage: error",!1,m,T),T.onabort=H(pn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=H(pn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function zr(o,m){const p=new qi,T=new AbortController,L=setTimeout(()=>{T.abort(),pn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(j=>{clearTimeout(L),j.ok?pn(p,"TestPingServer: ok",!0,m):pn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),pn(p,"TestPingServer: error",!1,m)})}function pn(o,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Br(){this.g=new Ke}function qn(o,m,p){const T=p||"";try{xr(o,function(L,j){let W=L;v(L)&&(W=Na(L)),m.push(T+j+"="+encodeURIComponent(W))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function $i(o){this.l=o.Ub||null,this.j=o.eb||!1}$($i,Ia),$i.prototype.g=function(){return new mi(this.l,this.j)},$i.prototype.i=function(o){return function(){return o}}({});function mi(o,m){ye.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(mi,ye),a=mi.prototype,a.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Gn(this)},a.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},a.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ka(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function ka(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}a.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Hn(this):Gn(this),this.readyState==3&&ka(this)}},a.Ra=function(o){this.g&&(this.response=this.responseText=o,Hn(this))},a.Qa=function(o){this.g&&(this.response=o,Hn(this))},a.ga=function(){this.g&&Hn(this)};function Hn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Gn(o)}a.setRequestHeader=function(o,m){this.u.append(o,m)},a.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Gn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function qa(o){let m="";return Tt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ce(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=qa(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Bt(o,m,p))}function Ht(o){ye.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(Ht,ye);var Ds=/^https?$/i,Pr=["POST","PUT"];a=Ht.prototype,a.Ha=function(o){this.J=o},a.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Or.g(),this.v=this.o?ru(this.o):ru(Or),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(j){du(this,j);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())p.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),L=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Pr,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of p)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jr(this),this.u=!0,this.g.send(o),this.u=!1}catch(j){du(this,j)}};function du(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Cs(o),Fn(o)}function Cs(o){o.A||(o.A=!0,we(o,"complete"),we(o,"error"))}a.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,we(this,"complete"),we(this,"abort"),Fn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),Ht.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Vs(this):this.bb())},a.bb=function(){Vs(this)};function Vs(o){if(o.h&&typeof d<"u"&&(!o.v[1]||yn(o)!=4||o.Z()!=2)){if(o.u&&yn(o)==4)iu(o.Ea,0,o);else if(we(o,"readystatechange"),yn(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=W===0){var L=String(o.D).match(za)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Ds.test(L?L.toLowerCase():"")}p=T}if(p)we(o,"complete"),we(o,"success");else{o.m=6;try{var j=2<yn(o)?o.g.statusText:""}catch{j=""}o.l=j+" ["+o.Z()+"]",Cs(o)}}finally{Fn(o)}}}}function Fn(o,m){if(o.g){jr(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||we(o,"ready");try{p.onreadystatechange=T}catch{}}}function jr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}a.isActive=function(){return!!this.g};function yn(o){return o.g?o.g.readyState:0}a.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),zn(m)}};function mu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ac(o){const m={};o=(o.g&&2<=yn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(gt(o[T]))continue;var p=O(o[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=m[L]||[];m[L]=j,j.push(p)}N(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function kr(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Ns(o){this.Aa=0,this.i=[],this.j=new qi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kr("baseRetryDelayMs",5e3,o),this.cb=kr("retryDelaySeedMs",1e4,o),this.Wa=kr("forwardChannelMaxRetries",2,o),this.wa=kr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Ua(o&&o.concurrentRequestLimit),this.Da=new Br,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ns.prototype,a.la=8,a.G=1,a.connect=function(o,m,p,T){oe(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Tu(this,null,this.W),Os(this)};function Ha(o){if(gu(o),o.G==3){var m=o.U++,p=se(o.I);if(Bt(p,"SID",o.K),Bt(p,"RID",m),Bt(p,"TYPE","terminate"),qr(o,p),m=new jn(o,o.j,m),m.L=2,m.v=Lr(se(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Au(m.j,null),m.g.ea(m.v)),m.F=Date.now(),te(m)}Eu(o)}function Is(o){o.g&&(Hr(o),o.g.cancel(),o.g=null)}function gu(o){Is(o),o.u&&(g.clearTimeout(o.u),o.u=null),Ms(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Os(o){if(!La(o.h)&&!o.s){o.s=!0;var m=o.Ga;pt||C(),ut||(pt(),ut=!0),qt.add(m,o),o.B=0}}function Sc(o,m){return ou(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ki(P(o.Ga,o,m),Qa(o,o.B)),o.B++,!0)}a.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new jn(this,this.j,o);let j=this.o;if(this.S&&(j?(j=R(j),D(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=pu(this,L,m),p=se(this.I),Bt(p,"RID",o),Bt(p,"CVER",22),this.D&&Bt(p,"X-HTTP-Session-Id",this.D),qr(this,p),j&&(this.O?m="headers="+encodeURIComponent(String(qa(j)))+"&"+m:this.m&&Ce(p,this.m,j)),Ki(this.h,L),this.Ua&&Bt(p,"TYPE","init"),this.P?(Bt(p,"$req",m),Bt(p,"SID","null"),L.T=!0,In(L,p,null)):In(L,p,m),this.G=2}}else this.G==3&&(o?Ga(this,o):this.i.length==0||La(this.h)||Ga(this))};function Ga(o,m){var p;m?p=m.l:p=o.U++;const T=se(o.I);Bt(T,"SID",o.K),Bt(T,"RID",p),Bt(T,"AID",o.T),qr(o,T),o.m&&o.o&&Ce(T,o.m,o.o),p=new jn(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=pu(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ki(o.h,p),In(p,T,m)}function qr(o,m){o.H&&Tt(o.H,function(p,T){Bt(m,T,p)}),o.l&&xr({},function(p,T){Bt(m,T,p)})}function pu(o,m,p){p=Math.min(o.i.length,p);var T=o.l?P(o.l.Na,o.l,o):null;t:{var L=o.i;let j=-1;for(;;){const W=["count="+p];j==-1?0<p?(j=L[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let Ot=!0;for(let ve=0;ve<p;ve++){let Mt=L[ve].g;const Ve=L[ve].map;if(Mt-=j,0>Mt)j=Math.max(0,L[ve].g-100),Ot=!1;else try{qn(Ve,W,"req"+Mt+"_")}catch{T&&T(Ve)}}if(Ot){T=W.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function yu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;pt||C(),ut||(pt(),ut=!0),qt.add(m,o),o.v=0}}function Fa(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ki(P(o.Fa,o),Qa(o,o.v)),o.v++,!0)}a.Fa=function(){if(this.u=null,_u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ki(P(this.ab,this),o)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),Is(this),_u(this))};function Hr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function _u(o){o.g=new jn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=se(o.qa);Bt(m,"RID","rpc"),Bt(m,"SID",o.K),Bt(m,"AID",o.T),Bt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Bt(m,"TO",o.ja),Bt(m,"TYPE","xmlhttp"),qr(o,m),o.m&&o.o&&Ce(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=Lr(se(m)),p.m=null,p.P=!0,oi(p,o)}a.Za=function(){this.C!=null&&(this.C=null,Is(this),Fa(this),oe(19))};function Ms(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function vu(o,m){var p=null;if(o.g==m){Ms(o),Hr(o),o.g=null;var T=2}else if(Yi(o.h,m))p=m.D,dn(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=Es(),we(T,new au(T,p)),Os(o)}else yu(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Sc(o,m)||T==2&&Fa(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),L){case 1:gi(o,5);break;case 4:gi(o,10);break;case 3:gi(o,6);break;default:gi(o,2)}}}function Qa(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function gi(o,m){if(o.j.info("Error code "+m),m==2){var p=P(o.fb,o),T=o.Xa;const L=!T;T=new ci(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Xi(T,"https"),Lr(T),L?fu(T.toString(),p):zr(T.toString(),p)}else oe(2);o.G=0,o.l&&o.l.sa(m),Eu(o),gu(o)}a.fb=function(o){o?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function Eu(o){if(o.G=0,o.ka=[],o.l){const m=Xe(o.h);(m.length!=0||o.i.length!=0)&&(Z(o.ka,m),Z(o.ka,o.i),o.h.i.length=0,J(o.i),o.i.length=0),o.l.ra()}}function Tu(o,m,p){var T=p instanceof ci?se(p):new ci(p);if(T.g!="")m&&(T.g=m+"."+T.g),Ur(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var j=new ci(null);T&&Xi(j,T),m&&(j.g=m),L&&Ur(j,L),p&&(j.l=p),T=j}return p=o.D,m=o.ya,p&&m&&Bt(T,p,m),Bt(T,"VER",o.la),qr(o,T),T}function Au(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Ht(new $i({eb:p})):new Ht(o.pa),m.Ha(o.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}a=Su.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function xs(){}xs.prototype.g=function(o,m){return new Ze(o,m)};function Ze(o,m){ye.call(this),this.g=new Ns(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!gt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!gt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Qn(this)}$(Ze,ye),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Ha(this.g)},Ze.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Na(o),o=p);m.i.push(new yc(m.Ya++,o)),m.G==3&&Os(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Ha(this.g),delete this.g,Ze.aa.N.call(this)};function bu(o){Bi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}$(bu,Bi);function Ru(){Nn.call(this),this.status=1}$(Ru,Nn);function Qn(o){this.g=o}$(Qn,Su),Qn.prototype.ua=function(){we(this.g,"a")},Qn.prototype.ta=function(o){we(this.g,new bu(o))},Qn.prototype.sa=function(o){we(this.g,new Ru)},Qn.prototype.ra=function(){we(this.g,"b")},xs.prototype.createWebChannel=xs.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,p_=function(){return new xs},g_=function(){return Es()},m_=fn,Uf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,No=_e,ui.COMPLETE="complete",d_=ui,su.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",ye.prototype.listen=ye.prototype.K,xl=su,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,f_=Ht}).apply(typeof bo<"u"?bo:typeof self<"u"?self:typeof window<"u"?window:{});const Wp="@firebase/firestore",ty="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new s_("@firebase/firestore");function la(){return hs.logLevel}function it(a,...e){if(hs.logLevel<=Lt.DEBUG){const i=e.map(td);hs.debug(`Firestore (${Sa}): ${a}`,...i)}}function Mi(a,...e){if(hs.logLevel<=Lt.ERROR){const i=e.map(td);hs.error(`Firestore (${Sa}): ${a}`,...i)}}function ga(a,...e){if(hs.logLevel<=Lt.WARN){const i=e.map(td);hs.warn(`Firestore (${Sa}): ${a}`,...i)}}function td(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(a="Unexpected state"){const e=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: `+a;throw Mi(e),new Error(e)}function Gt(a,e){a||yt()}function Et(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Aa{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class fA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class dA{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0);let s=this.i;const u=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let h=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new cs,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},g=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new cs)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new y_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string"),new Fe(e)}}class mA{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class gA{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new mA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ey{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,KT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0);const s=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ey(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Gt(typeof i.token=="string"),this.R=i.token,new ey(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=yA(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+=e.charAt(u[h]%62))}return s}}function wt(a,e){return a<e?-1:a>e?1:0}function Lf(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),u=e.codePointAt(i);if(s!==u){if(s<128&&u<128)return wt(s,u);{const h=__(),d=_A(h.encode(ny(a,i)),h.encode(ny(e,i)));return d!==0?d:wt(s,u)}}i+=s>65535?2:1}return wt(a.length,e.length)}function ny(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function _A(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return wt(a[i],e[i]);return wt(a.length,e.length)}function pa(a,e,i){return a.length===e.length&&a.every((s,u)=>i(s,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=-62135596800,ry=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(e){return be.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*ry);return new be(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<iy)throw new ot(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ry}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-iy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new be(0,0))}static max(){return new _t(new be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="__name__";class Wn{constructor(e,i,s){i===void 0?i=0:i>e.length&&yt(),s===void 0?s=e.length-i:s>e.length-i&&yt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const h=Wn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return wt(e.length,i.length)}static compareSegments(e,i){const s=Wn.isNumericId(e),u=Wn.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):Lf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}}class Wt extends Wn{construct(e,i,s){return new Wt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ot(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const vA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends Wn{construct(e,i,s){return new Pe(e,i,s)}static isValidIdentifier(e){return vA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sy}static keyField(){return new Pe([sy])}static fromServerFormat(e){const i=[];let s="",u=0;const h=()=>{if(s.length===0)throw new ot(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new ot(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ot(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(s+=g,u++):(h(),u++)}if(h(),d)throw new ot(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(Wt.fromString(e))}static fromName(e){return new ht(Wt.fromString(e).popFirst(5))}static empty(){return new ht(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=-1;function EA(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,u=_t.fromTimestamp(s===1e9?new be(i+1,0):new be(i,s));return new Sr(u,ht.empty(),e)}function TA(a){return new Sr(a.readTime,a.key,Gl)}class Sr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Sr(_t.min(),ht.empty(),Gl)}static max(){return new Sr(_t.max(),ht.empty(),Gl)}}function AA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=ht.comparator(a.documentKey,e.documentKey),i!==0?i:wt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(a){if(a.code!==K.FAILED_PRECONDITION||a.message!==SA)throw a;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Q((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.reject(i)}static resolve(e){return new Q((i,s)=>{i(e)})}static reject(e){return new Q((i,s)=>{s(e)})}static waitFor(e){return new Q((i,s)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},_=>s(_))}),d=!0,h===u&&i()})}static or(e){let i=Q.resolve(!1);for(const s of e)i=i.next(u=>u?Q.resolve(u):s());return i}static forEach(e,i){const s=[];return e.forEach((u,h)=>{s.push(i.call(this,u,h))}),this.waitFor(s)}static mapArray(e,i){return new Q((s,u)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(S=>{d[v]=S,++g,g===h&&s(d)},S=>u(S))}})}static doWhile(e,i){return new Q((s,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):s()};h()})}}function RA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ra(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Jo.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=-1;function Wo(a){return a==null}function jo(a){return a===0&&1/a==-1/0}function wA(a){return typeof a=="number"&&Number.isInteger(a)&&!jo(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="";function DA(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=ay(e)),e=CA(a.get(i),e);return ay(e)}function CA(a,e){let i=e;const s=a.length;for(let u=0;u<s;u++){const h=a.charAt(u);switch(h){case"\0":i+="";break;case E_:i+="";break;default:i+=h}}return i}function ay(a){return a+E_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function ds(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function T_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ro(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ro(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ro(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ro(this.root,e,this.comparator,!0)}}class Ro{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,s,u,h){this.key=e,this.value=i,this.color=s??Be.RED,this.left=u??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,h){return new Be(e??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,s),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Be.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(e,i,s,u,h){return this}insert(e,i,s){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new uy(this.data.getIterator())}getIteratorFrom(e){return new uy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class uy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new Ln([])}unionWith(e){let i=new Re(Pe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Ln(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return pa(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new A_("Invalid base64 string: "+h):h}}(e);return new je(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const VA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(a){if(Gt(!!a),typeof a=="string"){let e=0;const i=VA.exec(a);if(Gt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:he(a.seconds),nanos:he(a.nanos)}}function he(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Rr(a){return typeof a=="string"?je.fromBase64String(a):je.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="server_timestamp",b_="__type__",R_="__previous_value__",w_="__local_write_time__";function nd(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[b_])===null||i===void 0?void 0:i.stringValue)===S_}function tc(a){const e=a.mapValue.fields[R_];return nd(e)?tc(e):e}function Fl(a){const e=br(a.mapValue.fields[w_].timestampValue);return new be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,i,s,u,h,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const ko="(default)";class Ql{constructor(e,i){this.projectId=e,this.database=i||ko}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===ko}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="__type__",IA="__max__",wo={mapValue:{}},C_="__vector__",qo="value";function wr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?nd(a)?4:MA(a)?9007199254740991:OA(a)?10:11:yt()}function ii(a,e){if(a===e)return!0;const i=wr(a);if(i!==wr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Fl(a).isEqual(Fl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=br(u.timestampValue),g=br(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(u,h){return Rr(u.bytesValue).isEqual(Rr(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(u,h){return he(u.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(u.geoPointValue.longitude)===he(h.geoPointValue.longitude)}(a,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return he(u.integerValue)===he(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=he(u.doubleValue),g=he(h.doubleValue);return d===g?jo(d)===jo(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return pa(a.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(ly(d)!==ly(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ii(d[_],g[_])))return!1;return!0}(a,e);default:return yt()}}function Yl(a,e){return(a.values||[]).find(i=>ii(i,e))!==void 0}function ya(a,e){if(a===e)return 0;const i=wr(a),s=wr(e);if(i!==s)return wt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return wt(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=he(h.integerValue||h.doubleValue),_=he(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(a,e);case 3:return oy(a.timestampValue,e.timestampValue);case 4:return oy(Fl(a),Fl(e));case 5:return Lf(a.stringValue,e.stringValue);case 6:return function(h,d){const g=Rr(h),_=Rr(d);return g.compareTo(_)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const S=wt(g[v],_[v]);if(S!==0)return S}return wt(g.length,_.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=wt(he(h.latitude),he(d.latitude));return g!==0?g:wt(he(h.longitude),he(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return cy(a.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,S;const V=h.fields||{},P=d.fields||{},H=(g=V[qo])===null||g===void 0?void 0:g.arrayValue,$=(_=P[qo])===null||_===void 0?void 0:_.arrayValue,J=wt(((v=H==null?void 0:H.values)===null||v===void 0?void 0:v.length)||0,((S=$==null?void 0:$.values)===null||S===void 0?void 0:S.length)||0);return J!==0?J:cy(H,$)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===wo.mapValue&&d===wo.mapValue)return 0;if(h===wo.mapValue)return 1;if(d===wo.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},S=Object.keys(v);_.sort(),S.sort();for(let V=0;V<_.length&&V<S.length;++V){const P=Lf(_[V],S[V]);if(P!==0)return P;const H=ya(g[_[V]],v[S[V]]);if(H!==0)return H}return wt(_.length,S.length)}(a.mapValue,e.mapValue);default:throw yt()}}function oy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return wt(a,e);const i=br(a),s=br(e),u=wt(i.seconds,s.seconds);return u!==0?u:wt(i.nanos,s.nanos)}function cy(a,e){const i=a.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=ya(i[u],s[u]);if(h)return h}return wt(i.length,s.length)}function _a(a){return zf(a)}function zf(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=br(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Rr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return ht.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=zf(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of s)h?h=!1:u+=",",u+=`${d}:${zf(i.fields[d])}`;return u+"}"}(a.mapValue):yt()}function Io(a){switch(wr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tc(a);return e?16+Io(e):16;case 5:return 2*a.stringValue.length;case 6:return Rr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((u,h)=>u+Io(h),0)}(a.arrayValue);case 10:case 11:return function(s){let u=0;return ds(s.fields,(h,d)=>{u+=h.length+Io(d)}),u}(a.mapValue);default:throw yt()}}function Bf(a){return!!a&&"integerValue"in a}function id(a){return!!a&&"arrayValue"in a}function hy(a){return!!a&&"nullValue"in a}function fy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Oo(a){return!!a&&"mapValue"in a}function OA(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[D_])===null||i===void 0?void 0:i.stringValue)===C_}function Bl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return ds(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Bl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Bl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function MA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===IA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Oo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(i)}setAll(e){let i=Pe.emptyPath(),s={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,u),s={},u=[],i=g.popLast()}d?s[g.lastSegment()]=Bl(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(e){const i=this.field(e.popLast());Oo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];Oo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){ds(i,(u,h)=>e[u]=h);for(const u of s)delete e[u]}clone(){return new Cn(Bl(this.value))}}function V_(a){const e=[];return ds(a.fields,(i,s)=>{const u=new Pe([i]);if(Oo(s)){const h=V_(s.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,s,u,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Qe(e,0,_t.min(),_t.min(),_t.min(),Cn.empty(),0)}static newFoundDocument(e,i,s,u){return new Qe(e,1,i,_t.min(),s,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,_t.min(),_t.min(),Cn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,_t.min(),_t.min(),Cn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,i){this.position=e,this.inclusive=i}}function dy(a,e,i){let s=0;for(let u=0;u<a.position.length;u++){const h=e[u],d=a.position[u];if(h.field.isKeyField()?s=ht.comparator(ht.fromName(d.referenceValue),i.key):s=ya(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function my(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ii(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,i="asc"){this.field=e,this.dir=i}}function xA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{}class Se extends N_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new LA(e,i,s):i==="array-contains"?new PA(e,s):i==="in"?new jA(e,s):i==="not-in"?new kA(e,s):i==="array-contains-any"?new qA(e,s):new Se(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new zA(e,s):new BA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ya(i,this.value)):i!==null&&wr(this.value)===wr(i)&&this.matchesComparison(ya(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends N_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ri(e,i)}matches(e){return I_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function I_(a){return a.op==="and"}function O_(a){return UA(a)&&I_(a)}function UA(a){for(const e of a.filters)if(e instanceof ri)return!1;return!0}function Pf(a){if(a instanceof Se)return a.field.canonicalString()+a.op.toString()+_a(a.value);if(O_(a))return a.filters.map(e=>Pf(e)).join(",");{const e=a.filters.map(i=>Pf(i)).join(",");return`${a.op}(${e})`}}function M_(a,e){return a instanceof Se?function(s,u){return u instanceof Se&&s.op===u.op&&s.field.isEqual(u.field)&&ii(s.value,u.value)}(a,e):a instanceof ri?function(s,u){return u instanceof ri&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce((h,d,g)=>h&&M_(d,u.filters[g]),!0):!1}(a,e):void yt()}function x_(a){return a instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${_a(i.value)}`}(a):a instanceof ri?function(i){return i.op.toString()+" {"+i.getFilters().map(x_).join(" ,")+"}"}(a):"Filter"}class LA extends Se{constructor(e,i,s){super(e,i,s),this.key=ht.fromName(s.referenceValue)}matches(e){const i=ht.comparator(e.key,this.key);return this.matchesComparison(i)}}class zA extends Se{constructor(e,i){super(e,"in",i),this.keys=U_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class BA extends Se{constructor(e,i){super(e,"not-in",i),this.keys=U_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function U_(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ht.fromName(s.referenceValue))}class PA extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return id(i)&&Yl(i.arrayValue,this.value)}}class jA extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Yl(this.value.arrayValue,i)}}class kA extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Yl(this.value.arrayValue,i)}}class qA extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!id(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Yl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,i=null,s=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function gy(a,e=null,i=[],s=[],u=null,h=null,d=null){return new HA(a,e,i,s,u,h,d)}function rd(a){const e=Et(a);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Pf(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),Wo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>_a(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>_a(s)).join(",")),e.le=i}return e.le}function sd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!xA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!M_(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!my(a.startAt,e.startAt)&&my(a.endAt,e.endAt)}function jf(a){return ht.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i=null,s=[],u=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function GA(a,e,i,s,u,h,d,g){return new ec(a,e,i,s,u,h,d,g)}function ad(a){return new ec(a)}function py(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function FA(a){return a.collectionGroup!==null}function Pl(a){const e=Et(a);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(Pe.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Go(h,s))}),i.has(Pe.keyField().canonicalString())||e.he.push(new Go(Pe.keyField(),s))}return e.he}function ti(a){const e=Et(a);return e.Pe||(e.Pe=QA(e,Pl(a))),e.Pe}function QA(a,e){if(a.limitType==="F")return gy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Go(u.field,h)});const i=a.endAt?new Ho(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Ho(a.startAt.position,a.startAt.inclusive):null;return gy(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function kf(a,e,i){return new ec(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function nc(a,e){return sd(ti(a),ti(e))&&a.limitType===e.limitType}function L_(a){return`${rd(ti(a))}|lt:${a.limitType}`}function ua(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>x_(u)).join(", ")}]`),Wo(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>_a(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>_a(u)).join(",")),`Target(${s})`}(ti(a))}; limitType=${a.limitType})`}function ic(a,e){return e.isFoundDocument()&&function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ht.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,u){for(const h of Pl(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0}(a,e)&&function(s,u){return!(s.startAt&&!function(d,g,_){const v=dy(d,g,_);return d.inclusive?v<=0:v<0}(s.startAt,Pl(s),u)||s.endAt&&!function(d,g,_){const v=dy(d,g,_);return d.inclusive?v>=0:v>0}(s.endAt,Pl(s),u))}(a,e)}function YA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function z_(a){return(e,i)=>{let s=!1;for(const u of Pl(a)){const h=KA(u,e,i);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function KA(a,e,i){const s=a.field.isKeyField()?ht.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?ya(_,v):yt()}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,(i,s)=>{for(const[u,h]of s)e(u,h)})}isEmpty(){return T_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=new ie(ht.comparator);function xi(){return XA}const B_=new ie(ht.comparator);function Ul(...a){let e=B_;for(const i of a)e=e.insert(i.key,i);return e}function P_(a){let e=B_;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function os(){return jl()}function j_(){return jl()}function jl(){return new ms(a=>a.toString(),(a,e)=>a.isEqual(e))}const ZA=new ie(ht.comparator),$A=new Re(ht.comparator);function Nt(...a){let e=$A;for(const i of a)e=e.add(i);return e}const JA=new Re(wt);function WA(){return JA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jo(e)?"-0":e}}function k_(a){return{integerValue:""+a}}function tS(a,e){return wA(e)?k_(e):ld(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this._=void 0}}function eS(a,e,i){return a instanceof Fo?function(u,h){const d={fields:{[b_]:{stringValue:S_},[w_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&nd(h)&&(h=tc(h)),h&&(d.fields[R_]=h),{mapValue:d}}(i,e):a instanceof Kl?H_(a,e):a instanceof Xl?G_(a,e):function(u,h){const d=q_(u,h),g=yy(d)+yy(u.Ie);return Bf(d)&&Bf(u.Ie)?k_(g):ld(u.serializer,g)}(a,e)}function nS(a,e,i){return a instanceof Kl?H_(a,e):a instanceof Xl?G_(a,e):i}function q_(a,e){return a instanceof Qo?function(s){return Bf(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class Fo extends rc{}class Kl extends rc{constructor(e){super(),this.elements=e}}function H_(a,e){const i=F_(e);for(const s of a.elements)i.some(u=>ii(u,s))||i.push(s);return{arrayValue:{values:i}}}class Xl extends rc{constructor(e){super(),this.elements=e}}function G_(a,e){let i=F_(e);for(const s of a.elements)i=i.filter(u=>!ii(u,s));return{arrayValue:{values:i}}}class Qo extends rc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function yy(a){return he(a.integerValue||a.doubleValue)}function F_(a){return id(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function iS(a,e){return a.field.isEqual(e.field)&&function(s,u){return s instanceof Kl&&u instanceof Kl||s instanceof Xl&&u instanceof Xl?pa(s.elements,u.elements,ii):s instanceof Qo&&u instanceof Qo?ii(s.Ie,u.Ie):s instanceof Fo&&u instanceof Fo}(a.transform,e.transform)}class rS{constructor(e,i){this.version=e,this.transformResults=i}}class ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mo(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class sc{}function Q_(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new ud(a.key,ei.none()):new $l(a.key,a.data,ei.none());{const i=a.data,s=Cn.empty();let u=new Re(Pe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),u=u.add(h)}return new gs(a.key,s,new Ln(u.toArray()),ei.none())}}function sS(a,e,i){a instanceof $l?function(u,h,d){const g=u.value.clone(),_=vy(u.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof gs?function(u,h,d){if(!Mo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=vy(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(Y_(u)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(a,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function kl(a,e,i,s){return a instanceof $l?function(h,d,g,_){if(!Mo(h.precondition,d))return g;const v=h.value.clone(),S=Ey(h.fieldTransforms,_,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(a,e,i,s):a instanceof gs?function(h,d,g,_){if(!Mo(h.precondition,d))return g;const v=Ey(h.fieldTransforms,_,d),S=d.data;return S.setAll(Y_(h)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(V=>V.field))}(a,e,i,s):function(h,d,g){return Mo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function aS(a,e){let i=null;for(const s of a.fieldTransforms){const u=e.data.field(s.field),h=q_(s.transform,u||null);h!=null&&(i===null&&(i=Cn.empty()),i.set(s.field,h))}return i||null}function _y(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&pa(s,u,(h,d)=>iS(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class $l extends sc{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class gs extends sc{constructor(e,i,s,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Y_(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function vy(a,e,i){const s=new Map;Gt(a.length===i.length);for(let u=0;u<i.length;u++){const h=a[u],d=h.transform,g=e.data.field(h.field);s.set(h.field,nS(d,g,i[u]))}return s}function Ey(a,e,i){const s=new Map;for(const u of a){const h=u.transform,d=i.data.field(u.field);s.set(u.field,eS(h,d,e))}return s}class ud extends sc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lS extends sc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&sS(h,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=kl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=kl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=j_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const _=Q_(d,g);_!==null&&s.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Nt())}isEqual(e){return this.batchId===e.batchId&&pa(this.mutations,e.mutations,(i,s)=>_y(i,s))&&pa(this.baseMutations,e.baseMutations,(i,s)=>_y(i,s))}}class od{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){Gt(e.mutations.length===s.length);let u=function(){return ZA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,s[d].version);return new od(e,i,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Ut;function hS(a){switch(a){case K.OK:return yt();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return yt()}}function K_(a){if(a===void 0)return Mi("GRPC error has no .code"),K.UNKNOWN;switch(a){case pe.OK:return K.OK;case pe.CANCELLED:return K.CANCELLED;case pe.UNKNOWN:return K.UNKNOWN;case pe.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case pe.INTERNAL:return K.INTERNAL;case pe.UNAVAILABLE:return K.UNAVAILABLE;case pe.UNAUTHENTICATED:return K.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case pe.NOT_FOUND:return K.NOT_FOUND;case pe.ALREADY_EXISTS:return K.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return K.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case pe.ABORTED:return K.ABORTED;case pe.OUT_OF_RANGE:return K.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return K.UNIMPLEMENTED;case pe.DATA_LOSS:return K.DATA_LOSS;default:return yt()}}(Ut=pe||(pe={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=new Tr([4294967295,4294967295],0);function Ty(a){const e=__().encode(a),i=new h_;return i.update(e),new Uint8Array(i.digest())}function Ay(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Tr([i,s],0),new Tr([u,h],0)]}class cd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ll(`Invalid padding: ${i}`);if(s<0)throw new Ll(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Tr.fromNumber(this.Ee)}Ae(e,i,s){let u=e.add(i.multiply(Tr.fromNumber(s)));return u.compare(fS)===1&&(u=new Tr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=Ty(e),[s,u]=Ay(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,u,h);if(!this.Re(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new cd(h,u,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=Ty(e),[s,u]=Ay(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,u,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i,s,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new ac(_t.min(),u,new ie(wt),xi(),Nt())}}class Jl{constructor(e,i,s,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Jl(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,i,s,u){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=u}}class X_{constructor(e,i){this.targetId=e,this.ge=i}}class Z_{constructor(e,i,s=je.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class Sy{constructor(){this.pe=0,this.ye=by(),this.we=je.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Nt(),i=Nt(),s=Nt();return this.ye.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:yt()}}),new Jl(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=by()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class dS{constructor(e){this.ke=e,this.qe=new Map,this.Qe=xi(),this.$e=Do(),this.Ue=Do(),this.Ke=new ie(wt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:yt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,s=e.ge.count,u=this.Xe(i);if(u){const h=u.target;if(jf(h))if(s===0){const d=new ht(h.path);this.ze(i,d,Qe.newNoDocument(d,_t.min()))}else Gt(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(e),_=g?this.nt(g,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=Rr(s).toUint8Array()}catch(_){if(_ instanceof A_)return ga("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new cd(d,u,h)}catch(_){return ga(_ instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ee===0?null:g}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let u=0;return s.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&jf(g.target)){const _=new ht(g.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Qe.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let s=Nt();this.Ue.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const u=new ac(e,i,this.Ke,this.Qe,s);return this.Qe=xi(),this.$e=Do(),this.Ue=Do(),this.Ke=new ie(wt),u}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new Sy,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new Re(wt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Re(wt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Sy),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Do(){return new ie(ht.comparator)}function by(){return new ie(ht.comparator)}const mS={asc:"ASCENDING",desc:"DESCENDING"},gS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pS={and:"AND",or:"OR"};class yS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function qf(a,e){return a.useProto3Json||Wo(e)?e:{value:e}}function Yo(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $_(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function _S(a,e){return Yo(a,e.toTimestamp())}function ni(a){return Gt(!!a),_t.fromTimestamp(function(i){const s=br(i);return new be(s.seconds,s.nanos)}(a))}function hd(a,e){return Hf(a,e).canonicalString()}function Hf(a,e){const i=function(u){return new Wt(["projects",u.projectId,"databases",u.database])}(a).child("documents");return e===void 0?i:i.child(e)}function J_(a){const e=Wt.fromString(a);return Gt(iv(e)),e}function Gf(a,e){return hd(a.databaseId,e.path)}function bf(a,e){const i=J_(e);if(i.get(1)!==a.databaseId.projectId)throw new ot(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ot(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ht(tv(i))}function W_(a,e){return hd(a.databaseId,e)}function vS(a){const e=J_(a);return e.length===4?Wt.emptyPath():tv(e)}function Ff(a){return new Wt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function tv(a){return Gt(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function Ry(a,e,i){return{name:Gf(a,e),fields:i.value.mapValue.fields}}function ES(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:yt()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,S){return v.useProto3Json?(Gt(S===void 0||typeof S=="string"),je.fromBase64String(S||"")):(Gt(S===void 0||S instanceof Buffer||S instanceof Uint8Array),je.fromUint8Array(S||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const S=v.code===void 0?K.UNKNOWN:K_(v.code);return new ot(S,v.message||"")}(d);i=new Z_(s,u,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=bf(a,s.document.name),h=ni(s.document.updateTime),d=s.document.createTime?ni(s.document.createTime):_t.min(),g=new Cn({mapValue:{fields:s.document.fields}}),_=Qe.newFoundDocument(u,h,d,g),v=s.targetIds||[],S=s.removedTargetIds||[];i=new xo(v,S,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=bf(a,s.document),h=s.readTime?ni(s.readTime):_t.min(),d=Qe.newNoDocument(u,h),g=s.removedTargetIds||[];i=new xo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=bf(a,s.document),h=s.removedTargetIds||[];i=new xo([],h,u,null)}else{if(!("filter"in e))return yt();{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,d=new cS(u,h),g=s.targetId;i=new X_(g,d)}}return i}function TS(a,e){let i;if(e instanceof $l)i={update:Ry(a,e.key,e.value)};else if(e instanceof ud)i={delete:Gf(a,e.key)};else if(e instanceof gs)i={update:Ry(a,e.key,e.data),updateMask:NS(e.fieldMask)};else{if(!(e instanceof lS))return yt();i={verify:Gf(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof Fo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Kl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Xl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Qo)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw yt()}(0,s))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:_S(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt()}(a,e.precondition)),i}function AS(a,e){return a&&a.length>0?(Gt(e!==void 0),a.map(i=>function(u,h){let d=u.updateTime?ni(u.updateTime):ni(h);return d.isEqual(_t.min())&&(d=ni(h)),new rS(d,u.transformResults||[])}(i,e))):[]}function SS(a,e){return{documents:[W_(a,e.path)]}}function bS(a,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=W_(a,u);const h=function(v){if(v.length!==0)return nv(ri.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(S=>function(P){return{field:oa(P.field),direction:DS(P.dir)}}(S))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=qf(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:u}}function RS(a){let e=vS(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Gt(s===1);const S=i.from[0];S.allDescendants?u=S.collectionId:e=e.child(S.collectionId)}let h=[];i.where&&(h=function(V){const P=ev(V);return P instanceof ri&&O_(P)?P.getFilters():[P]}(i.where));let d=[];i.orderBy&&(d=function(V){return V.map(P=>function($){return new Go(ca($.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(P))}(i.orderBy));let g=null;i.limit&&(g=function(V){let P;return P=typeof V=="object"?V.value:V,Wo(P)?null:P}(i.limit));let _=null;i.startAt&&(_=function(V){const P=!!V.before,H=V.values||[];return new Ho(H,P)}(i.startAt));let v=null;return i.endAt&&(v=function(V){const P=!V.before,H=V.values||[];return new Ho(H,P)}(i.endAt)),GA(e,u,d,h,g,"F",_,v)}function wS(a,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function ev(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ca(i.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=ca(i.unaryFilter.field);return Se.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ca(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ca(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(a):a.fieldFilter!==void 0?function(i){return Se.create(ca(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return ri.create(i.compositeFilter.filters.map(s=>ev(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return yt()}}(i.compositeFilter.op))}(a):yt()}function DS(a){return mS[a]}function CS(a){return gS[a]}function VS(a){return pS[a]}function oa(a){return{fieldPath:a.canonicalString()}}function ca(a){return Pe.fromServerFormat(a.fieldPath)}function nv(a){return a instanceof Se?function(i){if(i.op==="=="){if(fy(i.value))return{unaryFilter:{field:oa(i.field),op:"IS_NAN"}};if(hy(i.value))return{unaryFilter:{field:oa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(fy(i.value))return{unaryFilter:{field:oa(i.field),op:"IS_NOT_NAN"}};if(hy(i.value))return{unaryFilter:{field:oa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oa(i.field),op:CS(i.op),value:i.value}}}(a):a instanceof ri?function(i){const s=i.getFilters().map(u=>nv(u));return s.length===1?s[0]:{compositeFilter:{op:VS(i.op),filters:s}}}(a):yt()}function NS(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function iv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,i,s,u,h=_t.min(),d=_t.min(),g=je.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.Tt=e}}function OS(a){const e=RS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?kf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.Tn=new xS}addToCollectionParentIndex(e,i){return this.Tn.add(i),Q.resolve()}getCollectionParents(e,i){return Q.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Q.resolve()}deleteFieldIndex(e,i){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,i){return Q.resolve()}getDocumentsMatchingTarget(e,i){return Q.resolve(null)}getIndexType(e,i){return Q.resolve(0)}getFieldIndexes(e,i){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,i){return Q.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,i){return Q.resolve(Sr.min())}updateCollectionGroup(e,i,s){return Q.resolve()}updateIndexEntries(e,i){return Q.resolve()}}class xS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new Re(Wt.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Re(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rv=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(rv,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new va(0)}static Kn(){return new va(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="LruGarbageCollector",US=1048576;function Cy([a,e],[i,s]){const u=wt(a,i);return u===0?wt(e,s):u}class LS{constructor(e){this.Hn=e,this.buffer=new Re(Cy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Cy(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class zS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){it(Dy,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ra(i)?it(Dy,"Ignoring IndexedDB error during garbage collection: ",i):await ba(i)}await this.er(3e5)})}}class BS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return Q.resolve(Jo.ae);const s=new LS(i);return this.tr.forEachTarget(e,u=>s.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>s.Zn(u))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(wy)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wy):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,u,h,d,g,_,v;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),u=this.params.maximumSequenceNumbersToCollect):u=V,d=Date.now(),this.nthSequenceNumber(e,u))).next(V=>(s=V,g=Date.now(),this.removeTargets(e,s,i))).next(V=>(h=V,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(V=>(v=Date.now(),la()<=Lt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${V} documents in `+(v-_)+`ms
Total Duration: ${v-S}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:V})))}}function PS(a,e){return new BS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.changes=new ms(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Q.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(s!==null&&kl(s.mutation,u,Ln.empty(),be.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Nt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Nt()){const u=os();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,s).next(h=>{let d=Ul();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=os();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Nt()))}populateOverlays(e,i,s){const u=[];return s.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,u){let h=xi();const d=jl(),g=function(){return jl()}();return i.forEach((_,v)=>{const S=s.get(v.key);u.has(v.key)&&(S===void 0||S.mutation instanceof gs)?h=h.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),kl(S.mutation,v,S.mutation.getFieldMask(),be.now())):d.set(v.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,S)=>d.set(v,S)),i.forEach((v,S)=>{var V;return g.set(v,new kS(S,(V=d.get(v))!==null&&V!==void 0?V:null))}),g))}recalculateAndSaveOverlays(e,i){const s=jl();let u=new ie((d,g)=>d-g),h=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let S=s.get(_)||Ln.empty();S=g.applyToLocalView(v,S),s.set(_,S);const V=(u.get(g.batchId)||Nt()).add(_);u=u.insert(g.batchId,V)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,S=_.value,V=j_();S.forEach(P=>{if(!h.has(P)){const H=Q_(i.get(P),s.get(P));H!==null&&V.set(P,H),h=h.add(P)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,V))}return Q.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,u){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):FA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-h.size):Q.resolve(os());let g=Gl,_=h;return d.next(v=>Q.forEach(v,(S,V)=>(g<V.largestBatchId&&(g=V.largestBatchId),h.get(S)?Q.resolve():this.remoteDocumentCache.getEntry(e,S).next(P=>{_=_.insert(S,P)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Nt())).next(S=>({batchId:g,changes:P_(S)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ht(i)).next(s=>{let u=Ul();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const h=i.collectionGroup;let d=Ul();return this.indexManager.getCollectionParents(e,h).next(g=>Q.forEach(g,_=>{const v=function(V,P){return new ec(P,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,s,u).next(S=>{S.forEach((V,P)=>{d=d.insert(V,P)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,u))).next(d=>{h.forEach((_,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,Qe.newInvalidDocument(S)))});let g=Ul();return d.forEach((_,v)=>{const S=h.get(_);S!==void 0&&kl(S.mutation,v,Ln.empty(),be.now()),ic(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Q.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ni(u.createTime)}}(i)),Q.resolve()}getNamedQuery(e,i){return Q.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:OS(u.bundledQuery),readTime:ni(u.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.overlays=new ie(ht.comparator),this.Rr=new Map}getOverlay(e,i){return Q.resolve(this.overlays.get(i))}getOverlays(e,i){const s=os();return Q.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&s.set(u,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((u,h)=>{this.Et(e,i,h)}),Q.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.Rr.get(s);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(s)),Q.resolve()}getOverlaysForCollection(e,i,s){const u=os(),h=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>s&&u.set(_.getKey(),_)}return Q.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let h=new ie((v,S)=>v-S);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let S=h.get(v.largestBatchId);S===null&&(S=os(),h=h.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const g=os(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,S)=>g.set(v,S)),!(g.size()>=u)););return Q.resolve(g)}Et(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(s.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new oS(i,s));let h=this.Rr.get(i);h===void 0&&(h=Nt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this.Vr=new Re(Me.mr),this.gr=new Re(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Me(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Me(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new ht(new Wt([])),s=new Me(i,e),u=new Me(i,e+1),h=[];return this.gr.forEachInRange([s,u],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ht(new Wt([])),s=new Me(i,e),u=new Me(i,e+1);let h=Nt();return this.gr.forEachInRange([s,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Me(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Me{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ht.comparator(e.key,i.key)||wt(e.Cr,i.Cr)}static pr(e,i){return wt(e.Cr,i.Cr)||ht.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Re(Me.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new uS(h,i,s,u);this.mutationQueue.push(d);for(const g of u)this.Mr=this.Mr.add(new Me(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(e,i){return Q.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.Nr(s),h=u<0?0:u;return Q.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?ed:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Me(i,0),u=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([s,u],d=>{const g=this.Or(d.Cr);h.push(g)}),Q.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Re(wt);return i.forEach(u=>{const h=new Me(u,0),d=new Me(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{s=s.add(g.Cr)})}),Q.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let h=s;ht.isDocumentKey(h)||(h=h.child(""));const d=new Me(new ht(h),0);let g=new Re(wt);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===u&&(g=g.add(_.Cr)),!0)},d),Q.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(s=>{const u=this.Or(s);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){Gt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Q.forEach(i.mutations,u=>{const h=new Me(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Me(i,0),u=this.Mr.firstAfterOrEqual(s);return Q.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.kr=e,this.docs=function(){return new ie(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Q.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let s=xi();return i.forEach(u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():Qe.newInvalidDocument(u))}),Q.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let h=xi();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:S}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||AA(TA(S),s)<=0||(u.has(S.key)||ic(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return Q.resolve(h)}getAllFromCollectionGroup(e,i,s,u){yt()}qr(e,i){return Q.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new KS(this)}getSize(e){return Q.resolve(this.size)}}class KS extends jS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(s)}),Q.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.persistence=e,this.Qr=new ms(i=>rd(i),sd),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.$r=0,this.Ur=new fd,this.targetCount=0,this.Kr=va.Un()}forEachTarget(e,i){return this.Qr.forEach((s,u)=>i(u)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),Q.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new va(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Q.resolve()}updateTargetData(e,i){return this.zn(i),Q.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,i,s){let u=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),Q.waitFor(h).next(()=>u)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return Q.resolve(s)}addMatchingKeys(e,i,s){return this.Ur.yr(i,s),Q.resolve()}removeMatchingKeys(e,i,s){this.Ur.Sr(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),Q.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),Q.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Ur.vr(i);return Q.resolve(s)}containsKey(e,i){return Q.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Jo(0),this.zr=!1,this.zr=!0,this.jr=new FS,this.referenceDelegate=e(this),this.Hr=new XS(this),this.indexManager=new MS,this.remoteDocumentCache=function(u){return new YS(u)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new IS(i),this.Yr=new HS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new GS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new QS(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){it("MemoryPersistence","Starting transaction:",e);const u=new ZS(this.Gr.next());return this.referenceDelegate.Zr(),s(u).next(h=>this.referenceDelegate.Xr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}ei(e,i){return Q.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class ZS extends bA{constructor(e){super(),this.currentSequenceNumber=e}}class dd{constructor(e){this.persistence=e,this.ti=new fd,this.ni=null}static ri(e){return new dd(e)}get ii(){if(this.ni)return this.ni;throw yt()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),Q.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Q.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(u=>this.ii.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.ii.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,s=>{const u=ht.fromPath(s);return this.si(e,u).next(h=>{h||i.removeEntry(u,_t.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Q.or([()=>Q.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Ko{constructor(e,i){this.persistence=e,this.oi=new ms(s=>DA(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=PS(this,i)}static ri(e,i){return new Ko(e,i)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(u=>s+u))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return Q.forEach(this.oi,(s,u)=>this.ar(e,s,u).next(h=>h?Q.resolve():i(u)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(g=>{g||(s++,h.removeEntry(d,_t.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),Q.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Io(e.data.value)),i}ar(e,i,s){return Q.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return Q.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=u}static Yi(e,i){let s=Nt(),u=Nt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new md(e,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return F0()?8:RA(H0())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,u){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,u,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new $S;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,s,u){return s.documentReadCount<this.es?(la()<=Lt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",ua(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(la()<=Lt.DEBUG&&it("QueryEngine","Query:",ua(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.ts*u?(la()<=Lt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",ua(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):Q.resolve())}rs(e,i){if(py(i))return Q.resolve(null);let s=ti(i);return this.indexManager.getIndexType(e,s).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=kf(i,null,"F"),s=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Nt(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(_=>{const v=this.cs(i,g);return this.ls(i,v,d,_.readTime)?this.rs(e,kf(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,s,u){return py(i)||u.isEqual(_t.min())?Q.resolve(null):this.ns.getDocuments(e,s).next(h=>{const d=this.cs(i,h);return this.ls(i,d,s,u)?Q.resolve(null):(la()<=Lt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ua(i)),this.hs(e,d,i,EA(u,Gl)).next(g=>g))})}cs(e,i){let s=new Re(z_(e));return i.forEach((u,h)=>{ic(e,h)&&(s=s.add(h))}),s}ls(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}_s(e,i,s){return la()<=Lt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",ua(i)),this.ns.getDocumentsMatchingQuery(e,i,Sr.min(),s)}hs(e,i,s,u){return this.ns.getDocumentsMatchingQuery(e,s,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="LocalStore",WS=3e8;class t1{constructor(e,i,s,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new ie(wt),this.Is=new ms(h=>rd(h),sd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function e1(a,e,i,s){return new t1(a,e,i,s)}async function av(a,e){const i=Et(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(h=>(u=h,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let _=Nt();for(const v of u){d.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}for(const v of h){g.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(s,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function n1(a,e){const i=Et(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,_,v,S){const V=v.batch,P=V.keys();let H=Q.resolve();return P.forEach($=>{H=H.next(()=>S.getEntry(_,$)).next(J=>{const Z=v.docVersions.get($);Gt(Z!==null),J.version.compareTo(Z)<0&&(V.applyToRemoteDocument(J,v),J.isValidDocument()&&(J.setReadTime(v.commitVersion),S.addEntry(J)))})}),H.next(()=>g.mutationQueue.removeMutationBatch(_,V))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let _=Nt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(s,u))})}function lv(a){const e=Et(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function i1(a,e){const i=Et(a),s=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const g=[];e.targetChanges.forEach((S,V)=>{const P=u.get(V);if(!P)return;g.push(i.Hr.removeMatchingKeys(h,S.removedDocuments,V).next(()=>i.Hr.addMatchingKeys(h,S.addedDocuments,V)));let H=P.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(V)!==null?H=H.withResumeToken(je.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):S.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(S.resumeToken,s)),u=u.insert(V,H),function(J,Z,ct){return J.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=WS?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0}(P,H,S)&&g.push(i.Hr.updateTargetData(h,H))});let _=xi(),v=Nt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))}),g.push(r1(h,d,e.documentUpdates).next(S=>{_=S.Vs,v=S.fs})),!s.isEqual(_t.min())){const S=i.Hr.getLastRemoteSnapshotVersion(h).next(V=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(S)}return Q.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=u,h))}function r1(a,e,i){let s=Nt(),u=Nt();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=xi();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(g)),_.isNoDocument()&&_.version.isEqual(_t.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):it(gd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:u}})}function s1(a,e){const i=Et(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ed),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function a1(a,e){const i=Et(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Hr.getTargetData(s,e).next(h=>h?(u=h,Q.resolve(u)):i.Hr.allocateTargetId(s).next(d=>(u=new _r(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.Ts.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function Qf(a,e,i){const s=Et(a),u=s.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Ra(d))throw d;it(gd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(u.target)}function Vy(a,e,i){const s=Et(a);let u=_t.min(),h=Nt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,S){const V=Et(_),P=V.Is.get(S);return P!==void 0?Q.resolve(V.Ts.get(P)):V.Hr.getTargetData(v,S)}(s,d,ti(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?u:_t.min(),i?h:Nt())).next(g=>(l1(s,YA(e),g),{documents:g,gs:h})))}function l1(a,e,i){let s=a.Es.get(e)||_t.min();i.forEach((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Es.set(e,s)}class Ny{constructor(){this.activeTargetIds=WA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u1{constructor(){this.ho=new Ny,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ny,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="ConnectivityMonitor";class Oy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){it(Iy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){it(Iy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co=null;function Yf(){return Co===null?Co=function(){return 268435456+Math.round(2147483648*Math.random())}():Co++,"0x"+Co.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="RestConnection",c1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h1{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${u}`,this.wo=this.databaseId.database===ko?`project_id=${s}`:`project_id=${s}&database_id=${u}`}So(e,i,s,u,h){const d=Yf(),g=this.bo(e,i.toUriEncodedString());it(Rf,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,u,h),this.vo(e,g,_,s).then(v=>(it(Rf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw ga(Rf,`RPC '${e}' ${d} failed with error: `,v,"url: ",g,"request:",s),v})}Co(e,i,s,u,h,d){return this.So(e,i,s,u,h)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),s&&s.headers.forEach((u,h)=>e[h]=u)}bo(e,i){const s=c1[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class d1 extends h1{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,u){const h=Yf();return new Promise((d,g)=>{const _=new f_;_.setWithCredentials(!0),_.listenOnce(d_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case No.NO_ERROR:const S=_.getResponseJson();it(Ge,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),d(S);break;case No.TIMEOUT:it(Ge,`RPC '${e}' ${h} timed out`),g(new ot(K.DEADLINE_EXCEEDED,"Request time out"));break;case No.HTTP_ERROR:const V=_.getStatus();if(it(Ge,`RPC '${e}' ${h} failed with status:`,V,"response text:",_.getResponseText()),V>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const H=P==null?void 0:P.error;if(H&&H.status&&H.message){const $=function(Z){const ct=Z.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ct)>=0?ct:K.UNKNOWN}(H.status);g(new ot($,H.message))}else g(new ot(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ot(K.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{it(Ge,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(u);it(Ge,`RPC '${e}' ${h} sending request:`,u),_.send(i,"POST",v,s,15)})}Wo(e,i,s){const u=Yf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=p_(),g=g_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const S=h.join("");it(Ge,`Creating RPC '${e}' stream ${u}: ${S}`,_);const V=d.createWebChannel(S,_);let P=!1,H=!1;const $=new f1({Fo:Z=>{H?it(Ge,`Not sending because RPC '${e}' stream ${u} is closed:`,Z):(P||(it(Ge,`Opening RPC '${e}' stream ${u} transport.`),V.open(),P=!0),it(Ge,`RPC '${e}' stream ${u} sending:`,Z),V.send(Z))},Mo:()=>V.close()}),J=(Z,ct,gt)=>{Z.listen(ct,ft=>{try{gt(ft)}catch(Ct){setTimeout(()=>{throw Ct},0)}})};return J(V,xl.EventType.OPEN,()=>{H||(it(Ge,`RPC '${e}' stream ${u} transport opened.`),$.Qo())}),J(V,xl.EventType.CLOSE,()=>{H||(H=!0,it(Ge,`RPC '${e}' stream ${u} transport closed`),$.Uo())}),J(V,xl.EventType.ERROR,Z=>{H||(H=!0,ga(Ge,`RPC '${e}' stream ${u} transport errored:`,Z),$.Uo(new ot(K.UNAVAILABLE,"The operation could not be completed")))}),J(V,xl.EventType.MESSAGE,Z=>{var ct;if(!H){const gt=Z.data[0];Gt(!!gt);const ft=gt,Ct=(ft==null?void 0:ft.error)||((ct=ft[0])===null||ct===void 0?void 0:ct.error);if(Ct){it(Ge,`RPC '${e}' stream ${u} received error:`,Ct);const dt=Ct.status;let Tt=function(A){const D=pe[A];if(D!==void 0)return K_(D)}(dt),N=Ct.message;Tt===void 0&&(Tt=K.INTERNAL,N="Unknown error status: "+dt+" with message "+Ct.message),H=!0,$.Uo(new ot(Tt,N)),V.close()}else it(Ge,`RPC '${e}' stream ${u} received:`,gt),$.Ko(gt)}}),J(g,m_.STAT_EVENT,Z=>{Z.stat===Uf.PROXY?it(Ge,`RPC '${e}' stream ${u} detected buffering proxy`):Z.stat===Uf.NOPROXY&&it(Ge,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{$.$o()},0),$}}function wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(a){return new yS(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,i,s=1e3,u=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=u,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-s);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="PersistentStream";class ov{constructor(e,i,s,u,h,d,g,_){this.Ti=e,this.n_=s,this.r_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new uv(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.i_===i&&this.V_(s,u)},s=>{e(()=>{const u=new ot(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(u)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{s(()=>this.m_(u))}),this.stream.onMessage(u=>{s(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return it(My,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(it(My,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class m1 extends ov{constructor(e,i,s,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=ES(this.serializer,e),s=function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?ni(d.readTime):_t.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=Ff(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=jf(_)?{documents:SS(h,_)}:{query:bS(h,_).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=$_(h,d.resumeToken);const v=qf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=Yo(h,d.snapshotVersion.toTimestamp());const v=qf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const s=wS(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=Ff(this.serializer),i.removeTarget=e,this.I_(i)}}class g1 extends ov{constructor(e,i,s,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=AS(e.writeResults,e.commitTime),s=ni(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=Ff(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>TS(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{}class y1 extends p1{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new ot(K.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,Hf(i,s),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(K.UNKNOWN,h.toString())})}Co(e,i,s,u,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,Hf(i,s),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(K.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class _1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Mi(i),this.N_=!1):it("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="RemoteStore";class v1{constructor(e,i,s,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{s.enqueueAndForget(async()=>{ps(this)&&(it(fs,"Restarting streams for network reachability change."),await async function(_){const v=Et(_);v.W_.add(4),await Wl(v),v.j_.set("Unknown"),v.W_.delete(4),await uc(v)}(this))})}),this.j_=new _1(s,u)}}async function uc(a){if(ps(a))for(const e of a.G_)await e(!0)}async function Wl(a){for(const e of a.G_)await e(!1)}function cv(a,e){const i=Et(a);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),vd(i)?_d(i):wa(i).c_()&&yd(i,e))}function pd(a,e){const i=Et(a),s=wa(i);i.K_.delete(e),s.c_()&&hv(i,e),i.K_.size===0&&(s.c_()?s.P_():ps(i)&&i.j_.set("Unknown"))}function yd(a,e){if(a.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}wa(a).y_(e)}function hv(a,e){a.H_.Ne(e),wa(a).w_(e)}function _d(a){a.H_=new dS({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>a.K_.get(e)||null,it:()=>a.datastore.serializer.databaseId}),wa(a).start(),a.j_.B_()}function vd(a){return ps(a)&&!wa(a).u_()&&a.K_.size>0}function ps(a){return Et(a).W_.size===0}function fv(a){a.H_=void 0}async function E1(a){a.j_.set("Online")}async function T1(a){a.K_.forEach((e,i)=>{yd(a,e)})}async function A1(a,e){fv(a),vd(a)?(a.j_.q_(e),_d(a)):a.j_.set("Unknown")}async function S1(a,e,i){if(a.j_.set("Online"),e instanceof Z_&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.K_.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.K_.delete(g),u.H_.removeTarget(g))}(a,e)}catch(s){it(fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Xo(a,s)}else if(e instanceof xo?a.H_.We(e):e instanceof X_?a.H_.Ze(e):a.H_.je(e),!i.isEqual(_t.min()))try{const s=await lv(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const S=h.K_.get(v);S&&h.K_.set(v,S.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const S=h.K_.get(_);if(!S)return;h.K_.set(_,S.withResumeToken(je.EMPTY_BYTE_STRING,S.snapshotVersion)),hv(h,_);const V=new _r(S.target,_,v,S.sequenceNumber);yd(h,V)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){it(fs,"Failed to raise snapshot:",s),await Xo(a,s)}}async function Xo(a,e,i){if(!Ra(e))throw e;a.W_.add(1),await Wl(a),a.j_.set("Offline"),i||(i=()=>lv(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{it(fs,"Retrying IndexedDB access"),await i(),a.W_.delete(1),await uc(a)})}function dv(a,e){return e().catch(i=>Xo(a,i,e))}async function oc(a){const e=Et(a),i=Dr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:ed;for(;b1(e);)try{const u=await s1(e.localStore,s);if(u===null){e.U_.length===0&&i.P_();break}s=u.batchId,R1(e,u)}catch(u){await Xo(e,u)}mv(e)&&gv(e)}function b1(a){return ps(a)&&a.U_.length<10}function R1(a,e){a.U_.push(e);const i=Dr(a);i.c_()&&i.S_&&i.b_(e.mutations)}function mv(a){return ps(a)&&!Dr(a).u_()&&a.U_.length>0}function gv(a){Dr(a).start()}async function w1(a){Dr(a).C_()}async function D1(a){const e=Dr(a);for(const i of a.U_)e.b_(i.mutations)}async function C1(a,e,i){const s=a.U_.shift(),u=od.from(s,e,i);await dv(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),await oc(a)}async function V1(a,e){e&&Dr(a).S_&&await async function(s,u){if(function(d){return hS(d)&&d!==K.ABORTED}(u.code)){const h=s.U_.shift();Dr(s).h_(),await dv(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,u)),await oc(s)}}(a,e),mv(a)&&gv(a)}async function xy(a,e){const i=Et(a);i.asyncQueue.verifyOperationInProgress(),it(fs,"RemoteStore received new credentials");const s=ps(i);i.W_.add(3),await Wl(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await uc(i)}async function N1(a,e){const i=Et(a);e?(i.W_.delete(2),await uc(i)):e||(i.W_.add(2),await Wl(i),i.j_.set("Unknown"))}function wa(a){return a.J_||(a.J_=function(i,s,u){const h=Et(i);return h.M_(),new m1(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(a.datastore,a.asyncQueue,{xo:E1.bind(null,a),No:T1.bind(null,a),Lo:A1.bind(null,a),p_:S1.bind(null,a)}),a.G_.push(async e=>{e?(a.J_.h_(),vd(a)?_d(a):a.j_.set("Unknown")):(await a.J_.stop(),fv(a))})),a.J_}function Dr(a){return a.Y_||(a.Y_=function(i,s,u){const h=Et(i);return h.M_(),new g1(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:w1.bind(null,a),Lo:V1.bind(null,a),D_:D1.bind(null,a),v_:C1.bind(null,a)}),a.G_.push(async e=>{e?(a.Y_.h_(),await oc(a)):(await a.Y_.stop(),a.U_.length>0&&(it(fs,`Stopping write stream with ${a.U_.length} pending writes`),a.U_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,i,s,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,h){const d=Date.now()+s,g=new Ed(e,i,d,u,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Td(a,e){if(Mi("AsyncQueue",`${e}: ${a}`),Ra(a))return new ot(K.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{static emptySet(e){return new fa(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ht.comparator(i.key,s.key):(i,s)=>ht.comparator(i.key,s.key),this.keyedMap=Ul(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof fa)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new fa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(){this.Z_=new ie(ht.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):yt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ea{constructor(e,i,s,u,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ea(e,i,fa.emptySet(i),d,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class O1{constructor(){this.queries=Ly(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const u=Et(i),h=u.queries;u.queries=Ly(),h.forEach((d,g)=>{for(const _ of g.ta)_.onError(s)})})(this,new ot(K.ABORTED,"Firestore shutting down"))}}function Ly(){return new ms(a=>L_(a),nc)}async function M1(a,e){const i=Et(a);let s=3;const u=e.query;let h=i.queries.get(u);h?!h.na()&&e.ra()&&(s=2):(h=new I1,s=e.ra()?0:1);try{switch(s){case 0:h.ea=await i.onListen(u,!0);break;case 1:h.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=Td(d,`Initialization of query '${ua(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&Ad(i)}async function x1(a,e){const i=Et(a),s=e.query;let u=3;const h=i.queries.get(s);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?u=e.ra()?0:1:!h.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function U1(a,e){const i=Et(a);let s=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(u)&&(s=!0);d.ea=u}}s&&Ad(i)}function L1(a,e,i){const s=Et(a),u=s.queries.get(e);if(u)for(const h of u.ta)h.onError(i);s.queries.delete(e)}function Ad(a){a.ia.forEach(e=>{e.next()})}var Kf,zy;(zy=Kf||(Kf={}))._a="default",zy.Cache="cache";class z1{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new Ea(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Kf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e){this.key=e}}class yv{constructor(e){this.key=e}}class B1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=z_(e),this.wa=new fa(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new Uy,u=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((S,V)=>{const P=u.get(S),H=ic(this.query,V)?V:null,$=!!P&&this.mutatedKeys.has(P.key),J=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Z=!1;P&&H?P.data.isEqual(H.data)?$!==J&&(s.track({type:3,doc:H}),Z=!0):this.va(P,H)||(s.track({type:2,doc:H}),Z=!0,(_&&this.ya(H,_)>0||v&&this.ya(H,v)<0)&&(g=!0)):!P&&H?(s.track({type:0,doc:H}),Z=!0):P&&!H&&(s.track({type:1,doc:P}),Z=!0,(_||v)&&(g=!0)),Z&&(H?(d=d.add(H),h=J?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),s.track({type:1,doc:S})}return{wa:d,Da:s,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((S,V)=>function(H,$){const J=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return J(H)-J($)}(S.type,V.type)||this.ya(S.doc,V.doc)),this.Ca(s),u=u!=null&&u;const g=i&&!u?this.Fa():[],_=this.pa.size===0&&this.current&&!u?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new Ea(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Uy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Nt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new yv(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new pv(s))}),i}Oa(e){this.fa=e.gs,this.pa=Nt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return Ea.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Sd="SyncEngine";class P1{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class j1{constructor(e){this.key=e,this.Ba=!1}}class k1{constructor(e,i,s,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new ms(g=>L_(g),nc),this.qa=new Map,this.Qa=new Set,this.$a=new ie(ht.comparator),this.Ua=new Map,this.Ka=new fd,this.Wa={},this.Ga=new Map,this.za=va.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function q1(a,e,i=!0){const s=Sv(a);let u;const h=s.ka.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Na()):u=await _v(s,e,i,!0),u}async function H1(a,e){const i=Sv(a);await _v(i,e,!0,!1)}async function _v(a,e,i,s){const u=await a1(a.localStore,ti(e)),h=u.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await G1(a,e,h,d==="current",u.resumeToken)),a.isPrimaryClient&&i&&cv(a.remoteStore,u),g}async function G1(a,e,i,s,u){a.Ha=(V,P,H)=>async function(J,Z,ct,gt){let ft=Z.view.ba(ct);ft.ls&&(ft=await Vy(J.localStore,Z.query,!1).then(({documents:N})=>Z.view.ba(N,ft)));const Ct=gt&&gt.targetChanges.get(Z.targetId),dt=gt&&gt.targetMismatches.get(Z.targetId)!=null,Tt=Z.view.applyChanges(ft,J.isPrimaryClient,Ct,dt);return Py(J,Z.targetId,Tt.Ma),Tt.snapshot}(a,V,P,H);const h=await Vy(a.localStore,e,!0),d=new B1(e,h.gs),g=d.ba(h.documents),_=Jl.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",u),v=d.applyChanges(g,a.isPrimaryClient,_);Py(a,i,v.Ma);const S=new P1(e,i,d);return a.ka.set(e,S),a.qa.has(i)?a.qa.get(i).push(e):a.qa.set(i,[e]),v.snapshot}async function F1(a,e,i){const s=Et(a),u=s.ka.get(e),h=s.qa.get(u.targetId);if(h.length>1)return s.qa.set(u.targetId,h.filter(d=>!nc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await Qf(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&pd(s.remoteStore,u.targetId),Xf(s,u.targetId)}).catch(ba)):(Xf(s,u.targetId),await Qf(s.localStore,u.targetId,!0))}async function Q1(a,e){const i=Et(a),s=i.ka.get(e),u=i.qa.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),pd(i.remoteStore,s.targetId))}async function Y1(a,e,i){const s=tb(a);try{const u=await function(d,g){const _=Et(d),v=be.now(),S=g.reduce((H,$)=>H.add($.key),Nt());let V,P;return _.persistence.runTransaction("Locally write mutations","readwrite",H=>{let $=xi(),J=Nt();return _.ds.getEntries(H,S).next(Z=>{$=Z,$.forEach((ct,gt)=>{gt.isValidDocument()||(J=J.add(ct))})}).next(()=>_.localDocuments.getOverlayedDocuments(H,$)).next(Z=>{V=Z;const ct=[];for(const gt of g){const ft=aS(gt,V.get(gt.key).overlayedDocument);ft!=null&&ct.push(new gs(gt.key,ft,V_(ft.value.mapValue),ei.exists(!0)))}return _.mutationQueue.addMutationBatch(H,v,ct,g)}).next(Z=>{P=Z;const ct=Z.applyToLocalDocumentSet(V,J);return _.documentOverlayCache.saveOverlays(H,Z.batchId,ct)})}).then(()=>({batchId:P.batchId,changes:P_(V)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(d,g,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new ie(wt)),v=v.insert(g,_),d.Wa[d.currentUser.toKey()]=v}(s,u.batchId,i),await tu(s,u.changes),await oc(s.remoteStore)}catch(u){const h=Td(u,"Failed to persist write");i.reject(h)}}async function vv(a,e){const i=Et(a);try{const s=await i1(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Ua.get(h);d&&(Gt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?Gt(d.Ba):u.removedDocuments.size>0&&(Gt(d.Ba),d.Ba=!1))}),await tu(i,s,e)}catch(s){await ba(s)}}function By(a,e,i){const s=Et(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const _=Et(d);_.onlineState=g;let v=!1;_.queries.forEach((S,V)=>{for(const P of V.ta)P.sa(g)&&(v=!0)}),v&&Ad(_)}(s.eventManager,e),u.length&&s.La.p_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function K1(a,e,i){const s=Et(a);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Ua.get(e),h=u&&u.key;if(h){let d=new ie(ht.comparator);d=d.insert(h,Qe.newNoDocument(h,_t.min()));const g=Nt().add(h),_=new ac(_t.min(),new Map,new ie(wt),d,g);await vv(s,_),s.$a=s.$a.remove(h),s.Ua.delete(e),bd(s)}else await Qf(s.localStore,e,!1).then(()=>Xf(s,e,i)).catch(ba)}async function X1(a,e){const i=Et(a),s=e.batch.batchId;try{const u=await n1(i.localStore,e);Tv(i,s,null),Ev(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await tu(i,u)}catch(u){await ba(u)}}async function Z1(a,e,i){const s=Et(a);try{const u=await function(d,g){const _=Et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let S;return _.mutationQueue.lookupMutationBatch(v,g).next(V=>(Gt(V!==null),S=V.keys(),_.mutationQueue.removeMutationBatch(v,V))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,S,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S)).next(()=>_.localDocuments.getDocuments(v,S))})}(s.localStore,e);Tv(s,e,i),Ev(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await tu(s,u)}catch(u){await ba(u)}}function Ev(a,e){(a.Ga.get(e)||[]).forEach(i=>{i.resolve()}),a.Ga.delete(e)}function Tv(a,e,i){const s=Et(a);let u=s.Wa[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),s.Wa[s.currentUser.toKey()]=u}}function Xf(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.qa.get(e))a.ka.delete(s),i&&a.La.Ja(s,i);a.qa.delete(e),a.isPrimaryClient&&a.Ka.br(e).forEach(s=>{a.Ka.containsKey(s)||Av(a,s)})}function Av(a,e){a.Qa.delete(e.path.canonicalString());const i=a.$a.get(e);i!==null&&(pd(a.remoteStore,i),a.$a=a.$a.remove(e),a.Ua.delete(i),bd(a))}function Py(a,e,i){for(const s of i)s instanceof pv?(a.Ka.addReference(s.key,e),$1(a,s)):s instanceof yv?(it(Sd,"Document no longer in limbo: "+s.key),a.Ka.removeReference(s.key,e),a.Ka.containsKey(s.key)||Av(a,s.key)):yt()}function $1(a,e){const i=e.key,s=i.path.canonicalString();a.$a.get(i)||a.Qa.has(s)||(it(Sd,"New document in limbo: "+i),a.Qa.add(s),bd(a))}function bd(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const e=a.Qa.values().next().value;a.Qa.delete(e);const i=new ht(Wt.fromString(e)),s=a.za.next();a.Ua.set(s,new j1(i)),a.$a=a.$a.insert(i,s),cv(a.remoteStore,new _r(ti(ad(i.path)),s,"TargetPurposeLimboResolution",Jo.ae))}}async function tu(a,e,i){const s=Et(a),u=[],h=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,_)=>{d.push(s.Ha(_,e,i).then(v=>{var S;if((v||i)&&s.isPrimaryClient){const V=v?!v.fromCache:(S=i==null?void 0:i.targetChanges.get(_.targetId))===null||S===void 0?void 0:S.current;s.sharedClientState.updateQueryState(_.targetId,V?"current":"not-current")}if(v){u.push(v);const V=md.Yi(_.targetId,v);h.push(V)}}))}),await Promise.all(d),s.La.p_(u),await async function(_,v){const S=Et(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>Q.forEach(v,P=>Q.forEach(P.Hi,H=>S.persistence.referenceDelegate.addReference(V,P.targetId,H)).next(()=>Q.forEach(P.Ji,H=>S.persistence.referenceDelegate.removeReference(V,P.targetId,H)))))}catch(V){if(!Ra(V))throw V;it(gd,"Failed to update sequence numbers: "+V)}for(const V of v){const P=V.targetId;if(!V.fromCache){const H=S.Ts.get(P),$=H.snapshotVersion,J=H.withLastLimboFreeSnapshotVersion($);S.Ts=S.Ts.insert(P,J)}}}(s.localStore,h))}async function J1(a,e){const i=Et(a);if(!i.currentUser.isEqual(e)){it(Sd,"User change. New user:",e.toKey());const s=await av(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(_=>{_.reject(new ot(K.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await tu(i,s.Rs)}}function W1(a,e){const i=Et(a),s=i.Ua.get(e);if(s&&s.Ba)return Nt().add(s.key);{let u=Nt();const h=i.qa.get(e);if(!h)return u;for(const d of h){const g=i.ka.get(d);u=u.unionWith(g.view.Sa)}return u}}function Sv(a){const e=Et(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=vv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K1.bind(null,e),e.La.p_=U1.bind(null,e.eventManager),e.La.Ja=L1.bind(null,e.eventManager),e}function tb(a){const e=Et(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=X1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z1.bind(null,e),e}class Zo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return e1(this.persistence,new JS,e.initialUser,this.serializer)}Xa(e){return new sv(dd.ri,this.serializer)}Za(e){return new u1}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zo.provider={build:()=>new Zo};class eb extends Zo{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Gt(this.persistence.referenceDelegate instanceof Ko);const s=this.persistence.referenceDelegate.garbageCollector;return new zS(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new sv(s=>Ko.ri(s,i),this.serializer)}}class Zf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>By(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=J1.bind(null,this.syncEngine),await N1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new O1}()}createDatastore(e){const i=lc(e.databaseInfo.databaseId),s=function(h){return new d1(h)}(e.databaseInfo);return function(h,d,g,_){return new y1(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,u,h,d,g){return new v1(s,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>By(this.syncEngine,i,0),function(){return Oy.D()?new Oy:new o1}())}createSyncEngine(e,i){return function(u,h,d,g,_,v,S){const V=new k1(u,h,d,g,_,v);return S&&(V.ja=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=Et(u);it(fs,"RemoteStore shutting down."),h.W_.add(5),await Wl(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Zf.provider={build:()=>new Zf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="FirestoreClient";class ib{constructor(e,i,s,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Fe.UNAUTHENTICATED,this.clientId=v_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{it(Cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(it(Cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Td(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Df(a,e){a.asyncQueue.verifyOperationInProgress(),it(Cr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async u=>{s.isEqual(u)||(await av(e.localStore,u),s=u)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function jy(a,e){a.asyncQueue.verifyOperationInProgress();const i=await rb(a);it(Cr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>xy(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,u)=>xy(e.remoteStore,u)),a._onlineComponents=e}async function rb(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){it(Cr,"Using user provided OfflineComponentProvider");try{await Df(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;ga("Error using user provided cache. Falling back to memory cache: "+i),await Df(a,new Zo)}}else it(Cr,"Using default OfflineComponentProvider"),await Df(a,new eb(void 0));return a._offlineComponents}async function bv(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(it(Cr,"Using user provided OnlineComponentProvider"),await jy(a,a._uninitializedComponentsProvider._online)):(it(Cr,"Using default OnlineComponentProvider"),await jy(a,new Zf))),a._onlineComponents}function sb(a){return bv(a).then(e=>e.syncEngine)}async function ky(a){const e=await bv(a),i=e.eventManager;return i.onListen=q1.bind(null,e.syncEngine),i.onUnlisten=F1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=H1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Q1.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(a,e,i){if(!i)throw new ot(K.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function ab(a,e,i,s){if(e===!0&&s===!0)throw new ot(K.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Hy(a){if(!ht.isDocumentKey(a))throw new ot(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Gy(a){if(ht.isDocumentKey(a))throw new ot(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Rd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":yt()}function da(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ot(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Rd(a);throw new ot(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="firestore.googleapis.com",Fy=!0;class Qy{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ot(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Dv,this.ssl=Fy}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:Fy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<US)throw new ot(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ab("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ot(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ot(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ot(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,u){return s.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new hA;switch(s.type){case"firstParty":return new gA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=qy.get(i);s&&(it("ComponentProvider","Removing Datastore"),qy.delete(i),s.terminate())}(this),Promise.resolve()}}function lb(a,e,i,s={}){var u;const h=(a=da(a,cc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:a._getEmulatorOptions()}),g=`${e}:${i}`;h.host!==Dv&&h.host!==g&&ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:s});if(!zo(_,d)&&(a._setSettings(_),s.mockUserToken)){let v,S;if(typeof s.mockUserToken=="string")v=s.mockUserToken,S=Fe.MOCK_USER;else{v=q0(s.mockUserToken,(u=a._app)===null||u===void 0?void 0:u.options.projectId);const V=s.mockUserToken.sub||s.mockUserToken.user_id;if(!V)throw new ot(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Fe(V)}a._authCredentials=new fA(new y_(v,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new hc(this.firestore,e,this._query)}}class Vn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class Ar extends hc{constructor(e,i,s){super(e,i,ad(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new ht(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function Cv(a,e,...i){if(a=ma(a),wv("collection","path",e),a instanceof cc){const s=Wt.fromString(e,...i);return Gy(s),new Ar(a,null,s)}{if(!(a instanceof Vn||a instanceof Ar))throw new ot(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return Gy(s),new Ar(a.firestore,null,s)}}function Vv(a,e,...i){if(a=ma(a),arguments.length===1&&(e=v_.newId()),wv("doc","path",e),a instanceof cc){const s=Wt.fromString(e,...i);return Hy(s),new Vn(a,null,new ht(s))}{if(!(a instanceof Vn||a instanceof Ar))throw new ot(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return Hy(s),new Vn(a.firestore,a instanceof Ar?a.converter:null,new ht(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="AsyncQueue";class Ky{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new uv(this,"async_queue_retry"),this.Su=()=>{const s=wf();s&&it(Yy,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=wf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=wf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new cs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ra(e))throw e;it(Yy,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const u=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Mi("INTERNAL UNHANDLED ERROR: ",u),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=Ed.createAndSchedule(this,e,i,s,h=>this.Fu(h));return this.fu.push(u),u}Du(){this.gu&&yt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}function Xy(a){return function(i,s){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of s)if(h in u&&typeof u[h]=="function")return!0;return!1}(a,["next","error","complete"])}class Zl extends cc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new Ky,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ky(e),this._firestoreClient=void 0,await e}}}function ub(a,e){const i=typeof a=="object"?a:JT(),s=typeof a=="string"?a:ko,u=YT(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=j0("firestore");h&&lb(u,...h)}return u}function Nv(a){if(a._terminated)throw new ot(K.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||ob(a),a._firestoreClient}function ob(a){var e,i,s;const u=a._freezeSettings(),h=function(g,_,v,S){return new NA(g,_,v,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,Rv(S.experimentalLongPollingOptions),S.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,u);a._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=u.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),a._firestoreClient=new ib(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ta(je.fromBase64String(e))}catch(i){throw new ot(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ta(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=/^__.*__$/;class hb{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new gs(e,this.data,this.fieldMask,i,this.fieldTransforms):new $l(e,this.data,i,this.fieldTransforms)}}function Ov(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class Vd{constructor(e,i,s,u,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Vd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:s,Qu:!1});return u.$u(e),u}Uu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:s,Qu:!1});return u.Bu(),u}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return $o(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Ov(this.Lu)&&cb.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class fb{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||lc(e)}ju(e,i,s,u=!1){return new Vd({Lu:e,methodName:i,zu:s,path:Pe.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function db(a){const e=a._freezeSettings(),i=lc(a._databaseId);return new fb(a._databaseId,!!e.ignoreUndefinedProperties,i)}function mb(a,e,i,s,u,h={}){const d=a.ju(h.merge||h.mergeFields?2:0,e,i,u);Lv("Data must be an object, but it was:",d,s);const g=xv(s,d);let _,v;if(h.merge)_=new Ln(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const V of h.mergeFields){const P=gb(e,V,i);if(!d.contains(P))throw new ot(K.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);yb(S,P)||S.push(P)}_=new Ln(S),v=d.fieldTransforms.filter(V=>_.covers(V.field))}else _=null,v=d.fieldTransforms;return new hb(new Cn(g),_,v)}function Mv(a,e){if(Uv(a=ma(a)))return Lv("Unsupported field value:",e,a),xv(a,e);if(a instanceof Iv)return function(s,u){if(!Ov(u.Lu))throw u.Wu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,u){const h=[];let d=0;for(const g of s){let _=Mv(g,u.Ku(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,u){if((s=ma(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return tS(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=be.fromDate(s);return{timestampValue:Yo(u.serializer,h)}}if(s instanceof be){const h=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yo(u.serializer,h)}}if(s instanceof Dd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ta)return{bytesValue:$_(u.serializer,s._byteString)};if(s instanceof Vn){const h=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw u.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:hd(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Cd)return function(d,g){return{mapValue:{fields:{[D_]:{stringValue:C_},[qo]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return ld(g.serializer,v)})}}}}}}(s,u);throw u.Wu(`Unsupported field value: ${Rd(s)}`)}(a,e)}function xv(a,e){const i={};return T_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(a,(s,u)=>{const h=Mv(u,e.qu(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function Uv(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof be||a instanceof Dd||a instanceof Ta||a instanceof Vn||a instanceof Iv||a instanceof Cd)}function Lv(a,e,i){if(!Uv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const s=Rd(i);throw s==="an object"?e.Wu(a+" a custom object"):e.Wu(a+" "+s)}}function gb(a,e,i){if((e=ma(e))instanceof wd)return e._internalPath;if(typeof e=="string")return zv(a,e);throw $o("Field path arguments must be of type string or ",a,!1,void 0,i)}const pb=new RegExp("[~\\*/\\[\\]]");function zv(a,e,i){if(e.search(pb)>=0)throw $o(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new wd(...e.split("."))._internalPath}catch{throw $o(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function $o(a,e,i,s,u){const h=s&&!s.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${s}`),d&&(_+=` in document ${u}`),_+=")"),new ot(K.INVALID_ARGUMENT,g+a+_)}function yb(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,i,s,u,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _b(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Pv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class _b extends Bv{data(){return super.data()}}function Pv(a,e){return typeof e=="string"?zv(a,e):e instanceof wd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ot(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eb{convertValue(e,i="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ds(e,(u,h)=>{s[u]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,u;const h=(u=(s=(i=e.fields)===null||i===void 0?void 0:i[qo].arrayValue)===null||s===void 0?void 0:s.values)===null||u===void 0?void 0:u.map(d=>he(d.doubleValue));return new Cd(h)}convertGeoPoint(e){return new Dd(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=tc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const i=br(e);return new be(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Wt.fromString(e);Gt(iv(s));const u=new Ql(s.get(1),s.get(3)),h=new ht(s.popFirst(5));return u.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jv extends Bv{constructor(e,i,s,u,h,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Uo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Pv("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Uo extends jv{data(e={}){return super.data(e)}}class Ab{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new zl(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Uo(this._firestore,this._userDataWriter,s.key,s,new zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const _=new Uo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new zl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Uo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new zl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,S=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:Sb(g.type),doc:_,oldIndex:v,newIndex:S}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Sb(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}class kv extends Eb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ta(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,i)}}function bb(a){return qv(da(a.firestore,Zl),[new ud(a._key,ei.none())])}function Rb(a,e){const i=da(a.firestore,Zl),s=Vv(a),u=Tb(a.converter,e);return qv(i,[mb(db(a.firestore),"addDoc",s._key,u,a.converter!==null,{}).toMutation(s._key,ei.exists(!1))]).then(()=>s)}function wb(a,...e){var i,s,u;a=ma(a);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||Xy(e[d])||(h=e[d],d++);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(Xy(e[d])){const V=e[d];e[d]=(i=V.next)===null||i===void 0?void 0:i.bind(V),e[d+1]=(s=V.error)===null||s===void 0?void 0:s.bind(V),e[d+2]=(u=V.complete)===null||u===void 0?void 0:u.bind(V)}let _,v,S;if(a instanceof Vn)v=da(a.firestore,Zl),S=ad(a._key.path),_={next:V=>{e[d]&&e[d](Db(v,a,V))},error:e[d+1],complete:e[d+2]};else{const V=da(a,hc);v=da(V.firestore,Zl),S=V._query;const P=new kv(v);_={next:H=>{e[d]&&e[d](new Ab(v,P,V,H))},error:e[d+1],complete:e[d+2]},vb(a._query)}return function(P,H,$,J){const Z=new nb(J),ct=new z1(H,Z,$);return P.asyncQueue.enqueueAndForget(async()=>M1(await ky(P),ct)),()=>{Z.su(),P.asyncQueue.enqueueAndForget(async()=>x1(await ky(P),ct))}}(Nv(v),S,g,_)}function qv(a,e){return function(s,u){const h=new cs;return s.asyncQueue.enqueueAndForget(async()=>Y1(await sb(s),u,h)),h.promise}(Nv(a),e)}function Db(a,e,i){const s=i.docs.get(e._key),u=new kv(a);return new jv(a,u,e._key,s,new zl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){Sa=u})($T),Po(new ql("firestore",(s,{instanceIdentifier:u,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Zl(new dA(s.getProvider("auth-internal")),new pA(d,s.getProvider("app-check-internal")),function(v,S){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ot(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(v.options.projectId,S)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ha(Wp,ty,e),ha(Wp,ty,"esm2017")})();const Cb={apiKey:"AIzaSyBmlQLmhILO0TAFQB8DoJJlPX6RSUmT1Ew",authDomain:"streamingfavorites.firebaseapp.com",projectId:"streamingfavorites",storageBucket:"streamingfavorites.firebasestorage.app",messagingSenderId:"865694929254",appId:"1:865694929254:web:81b81f15520789a43d78a7"},Vb=u_(Cb),Nd=ub(Vb),Hv=kt.createContext(null);function eu(){return kt.useContext(Hv)}const Cf="a72f214656f9a04a19376eea6da71a47",Nb={streamingList:[]};function Ib(a,e){switch(e.type){case"DELETE":return{...a,streamingList:a.streamingList.filter(i=>i.id!==e.id)};case"SET_ALL":return{...a,streamingList:e.payload};default:return a}}function Ob({children:a}){const[e,i]=kt.useReducer(Ib,Nb),[s,u]=kt.useState(""),[h,d]=kt.useState(""),[g,_]=kt.useState(""),[v,S]=kt.useState([]),[V,P]=kt.useState("Select Type"),[H,$]=kt.useState(""),[J,Z]=kt.useState(!0);async function ct(ft,Ct,dt){if(!ft.trim())return[];try{const N=await(await fetch(`https://api.themoviedb.org/3/search/${Ct}?query=${encodeURIComponent(ft)}${dt.trim()?Ct==="movie"?`&year=${dt}`:`&first_air_date_year=${dt}`:""}&api_key=${Cf}`)).json();return await Promise.all(N.results.map(async A=>{const O=await(await fetch(`https://api.themoviedb.org/3/${Ct}/${A.id}?api_key=${Cf}`)).json();return{id:A.id,title:Ct==="movie"?A.title:A.name,mediaType:Ct,poster:A.poster_path?`https://image.tmdb.org/t/p/w200${A.poster_path}`:"",genres:O.genres?O.genres.flatMap(x=>x.name.split(" & ")).map(x=>x==="Science Fiction"?"Sci-Fi":x).slice(0,2):[]}}))}catch(Tt){return console.error("Error fetching titles",Tt),[]}}async function gt(ft,Ct){var dt,Tt,N,R;try{const D=await(await fetch(`https://api.themoviedb.org/3/${Ct}/${ft}/watch/providers?api_key=${Cf}`)).json(),O=((Tt=(dt=D.results)==null?void 0:dt.US)==null?void 0:Tt.flatrate)||((R=(N=D.results)==null?void 0:N.US)==null?void 0:R.buy)||[],x=new Set,w=O.sort((Qt,Zt)=>Qt.provider_name.length-Zt.provider_name.length).filter(Qt=>{const Zt=Qt.provider_name.replace(/\b(Basic with ads|with ads|Amazon Channel|through Prime Video|via Apple TV|on Spectrum|Spectrum|Apple TV Plus Amazon Channel)\b/gi,"").trim();return!Zt||x.has(Zt)||/spectrum|Apple TV Plus Amazon Channel/i.test(Qt.provider_name)?!1:(x.add(Zt),!0)}).slice(0,2).map(Qt=>({id:Qt.provider_id,name:Qt.provider_name,logo:`https://image.tmdb.org/t/p/w45${Qt.logo_path}`}));return console.log("Formatted Providers:",w),w}catch(A){return console.error("Error fetching streaming providers:",A),[]}}return kt.useEffect(()=>{const ft=wb(Cv(Nd,"streamingItems"),Ct=>{const dt=Ct.docs.map(Tt=>{const N=Tt.data();return{name:N.title,user:N.user,comment:N.comment,mediaType:N.mediaType,poster:N.poster,genres:N.genres||[],providers:N.providers||[],id:Tt.id}});i({type:"SET_ALL",payload:dt}),Z(!1)});return()=>ft()},[]),k.jsx(Hv.Provider,{value:{streamingList:e.streamingList,dispatch:i,newItemName:s,setNewItemName:u,newUserName:h,setNewUserName:d,newComment:g,setNewComment:_,newYearInput:H,setNewYearInput:$,searchedTitles:v,fetchTitles:ct,selectedMediaType:V,setSelectedMediaType:P,fetchStreamingProviders:gt,isLoading:J},children:a})}const Gv=kt.createContext(null);function Vr(){return kt.useContext(Gv)}const Mb=["All Genres","Action","Adventure","Animation","Comedy","Drama","Family","Fantasy","Horror","Mystery","Romance","Sci-Fi","Thriller"],xb=["Browse All","Movies","TV Shows"],Ub=["All Services","Amazon Prime Video","Apple TV+","Disney Plus","Max","Hulu","Netflix","YouTube","Other"],Zy=["All Users"],Lb=["All Ratings","<50%","50-60%","61-70%","71-80%","81-90%","91-100%"];function zb({children:a}){const{streamingList:e}=eu(),[i,s]=kt.useState("All Genres"),[u,h]=kt.useState("Browse All"),[d,g]=kt.useState("All Services"),[_,v]=kt.useState("All Users"),[S,V]=kt.useState("All Ratings"),[P,H]=kt.useState(Zy);return kt.useEffect(()=>{const $=Array.from(new Set(e.map(J=>J.user).filter(Boolean))).sort();H(["All Users",...$])},[e]),k.jsx(Gv.Provider,{value:{selectedGenre:i,setSelectedGenre:s,selectedBrowseBy:u,setSelectedBrowseBy:h,initialGenreList:Mb,initialBrowseByList:xb,selectedService:d,setSelectedService:g,initialUserList:Zy,selectedUser:_,setSelectedUser:v,initialServiceList:Ub,initialRatingsList:Lb,selectedRating:S,setSelectedRating:V,updatedUserList:P,setUpdatedUserList:H},children:a})}const Fv=kt.createContext(null);function fc(){return kt.useContext(Fv)}function Bb({children:a}){const[e,i]=kt.useState(!1);return k.jsx(Fv.Provider,{value:{modalIsActive:e,setModalIsActive:i},children:a})}function Pb(){return k.jsx("div",{className:"titleBox",children:k.jsx("div",{className:"container",children:k.jsx("h1",{children:"📺 Streaming Favorites 🎬"})})})}function dc({parentClass:a="",childClass:e="",handleClick:i=()=>{},btnText:s="Click Me"}){return a?k.jsx("div",{className:a,children:k.jsx("button",{className:`btn ${e}`,onClick:i,children:s})}):k.jsx("button",{className:`btn ${e}`,onClick:i,children:s})}function $y(){const{setModalIsActive:a}=fc();return k.jsx(dc,{parentClass:"addItem",childClass:"add",handleClick:a,btnText:"Add"})}function mc({options:a,rootFilter:e,selectedValue:i,onChange:s}){const u=i!==e;return k.jsx("div",{children:k.jsx("select",{className:`${u?"filterActive":""}`,value:i,onChange:h=>s(h.target.value),children:a.map(h=>k.jsx("option",{value:h,children:h},h))})})}function Qv(){const{selectedGenre:a,setSelectedGenre:e,initialGenreList:i}=Vr();return k.jsx(mc,{options:i,selectedValue:a,onChange:e,rootFilter:"All Genres"})}function Yv(){const{selectedBrowseBy:a,setSelectedBrowseBy:e,initialBrowseByList:i}=Vr();return k.jsx(mc,{options:i,selectedValue:a,onChange:e,rootFilter:"Browse All"})}function Kv(){const{initialServiceList:a,selectedService:e,setSelectedService:i}=Vr();return k.jsx(mc,{options:a,selectedValue:e,onChange:i,rootFilter:"All Services"})}function Xv(){const{updatedUserList:a,selectedUser:e,setSelectedUser:i}=Vr();return k.jsx(mc,{options:a,selectedValue:e,onChange:i,rootFilter:"All Users"})}function Jy(){const{setSelectedBrowseBy:a,setSelectedGenre:e,setSelectedRating:i,setSelectedService:s,setSelectedUser:u}=Vr();function h(){a("Browse All"),e("All Genres"),i("All Ratings"),s("All Services"),u("All Users")}return k.jsx(dc,{parentClass:"addItem",childClass:"reset",handleClick:h,btnText:"Reset Filters"})}function jb({onClick:a}){return k.jsx("button",{onClick:a,className:"close",children:"X"})}function Zv({children:a,onClose:e}){const{setNewStreamingItem:i}=eu(),{setModalIsActive:s}=fc();return kt.useEffect(()=>{function u(h){h.key==="Escape"&&s(!1)}return document.addEventListener("keydown",u),()=>{document.removeEventListener("keydown",u)}},[e]),k.jsx("div",{className:"modalWrapper",children:k.jsxs("div",{className:"inner",children:[k.jsx(jb,{onClick:()=>{s(!1)}}),a]})})}function Vo({label:a,children:e}){return k.jsxs("div",{className:"labelBox",children:[k.jsx("label",{className:"labelText",children:a}),k.jsx("div",{className:"inputBox",children:e})]})}function kb(){return k.jsx("div",{className:"labelBox",children:k.jsx("div",{className:"inputBox",children:k.jsx(dc,{parentClass:"addItem",childClass:"reset",btnText:"Apply Filters"})})})}function qb({closeModal:a}){return k.jsxs("form",{className:"form",onSubmit:e=>{e.preventDefault(),a()},"aria-labelledby":"filter-form-title",children:[k.jsx("h2",{id:"filter-form-title",className:"addTitle",children:"Filter Streaming Items:"}),k.jsx(Vo,{label:"Browse By:",children:k.jsx(Yv,{})}),k.jsx(Vo,{label:"Genres:",children:k.jsx(Qv,{})}),k.jsx(Vo,{label:"Streaming Services:",children:k.jsx(Kv,{})}),k.jsx(Vo,{label:"User:",children:k.jsx(Xv,{})}),k.jsx(kb,{})]})}function Hb({closeModal:a}){return kt.useEffect(()=>{function e(i){i.key==="Escape"&&a()}return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a]),k.jsx(Zv,{onClose:a,children:k.jsx(qb,{closeModal:a})})}function Gb(){const[a,e]=kt.useState(window.innerWidth<1130),[i,s]=kt.useState(!1),{selectedBrowseBy:u,selectedGenre:h,selectedService:d,selectedUser:g}=Vr(),_=u!=="Browse All"||h!=="All Genres"||d!=="All Services"||g!=="All Users";return kt.useEffect(()=>{function v(){e(window.innerWidth<1130)}return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),k.jsx("div",{className:"divFlex container",children:k.jsx("div",{className:"filterContainer",children:a?k.jsxs(k.Fragment,{children:[k.jsx(dc,{parentClass:"addItem",childClass:`filter ${_?"filterActive":""}`,handleClick:()=>s(!0),btnText:"Filters"}),k.jsx(Jy,{}),k.jsx($y,{}),i&&k.jsx(Hb,{closeModal:()=>s(!1)})]}):k.jsxs(k.Fragment,{children:[k.jsx(Yv,{}),k.jsx(Qv,{}),k.jsx(Kv,{}),k.jsx(Xv,{}),k.jsx(Jy,{}),k.jsx($y,{})]})})})}function Fb({onDelete:a}){return k.jsx("div",{className:"btnCorner",children:k.jsx("button",{className:"deleteBtn",onClick:a,children:"X"})})}function Qb({poster:a,title:e}){return a?k.jsx("img",{src:a,alt:`${e} Poster`,className:"streamingPoster"}):null}function Yb({name:a,mediaType:e,genres:i,user:s,comment:u,providers:h}){return k.jsxs("div",{className:"streamingDetailsContainer",children:[k.jsx("h2",{className:"streamingTitle",children:a}),k.jsx("h3",{className:"streamingType",children:e==="movie"?"🎬 Movie On:":e==="tv"?"📺 TV Show On:":"Unknown"}),h&&h.length>0&&k.jsx("div",{className:"providerLogos",children:h.map(d=>k.jsx("img",{src:d.logo,alt:d.name,title:d.name,className:"providerLogo"},d.id))}),(i||[]).length>0&&k.jsxs("p",{className:"streamingGenres",children:[k.jsx("strong",{children:"Genres:"})," ",i.join(", ")," "]}),k.jsxs("div",{className:"userInfoBox",children:[k.jsxs("p",{className:"addedBy",children:[k.jsx("strong",{children:"Added By:"})," ",k.jsx("span",{className:"userName",children:s})]}),k.jsxs("p",{children:[k.jsx("strong",{children:`${s}'s Comments: `}),k.jsx("span",{className:"userComments",children:u})]})]})]})}function Kb({streamingItem:a,onDelete:e}){return k.jsxs("div",{className:"streamingItemBox",children:[k.jsx(Fb,{onDelete:()=>e(a.id)}),k.jsx(Qb,{poster:a.poster,title:a.title}),k.jsx(Yb,{name:a.name,mediaType:a.mediaType,genres:a.genres,user:a.user,comment:a.comment,providers:a.providers})]})}function Xb(){return k.jsx("div",{className:"section-loader",children:k.jsx("div",{className:"lds-dual-ring"})})}function Zb(){const{streamingList:a,dispatch:e,isLoading:i}=eu(),{selectedBrowseBy:s,selectedGenre:u,selectedUser:h,selectedService:d,initialServiceList:g}=Vr();async function _(S){if(confirm("Are you sure you want to delete this item?"))try{await bb(Vv(Nd,"streamingItems",S)),e({type:"DELETE",id:S})}catch(V){console.error("Error deleting item:",V)}}if(i)return k.jsx("div",{className:"streamingListBox container",children:k.jsx(Xb,{})});const v=a.filter(S=>{var J,Z;const V=s==="Browse All"||s==="Movies"&&S.mediaType==="movie"||s==="TV Shows"&&S.mediaType==="tv",P=u==="All Genres"||S.genres.includes(u),H=h==="All Users"||S.user===h,$=d==="All Services"||(d==="Other"?(J=S.providers)==null?void 0:J.some(ct=>!g.includes(ct.name)):(Z=S.providers)==null?void 0:Z.some(ct=>ct.name===d));return V&&P&&H&&$});return k.jsx("div",{className:"streamingListBox container",children:k.jsx("ul",{children:v.length>0?v.map(S=>k.jsx("li",{children:k.jsx(Kb,{streamingItem:S,onDelete:_})},S.id)):k.jsx("p",{className:"noResults",children:"No streaming items to show!"})})})}function Vf({id:a,label:e,placeholder:i,value:s,onChange:u,required:h,autoFocus:d}){return k.jsxs("div",{className:"labelBox",children:[k.jsx("label",{className:"labelText",htmlFor:a,children:e}),k.jsx("div",{className:"inputBox",children:k.jsx("input",{id:a,type:"text",placeholder:i,value:s,onChange:u,required:h,"aria-required":h?"true":void 0,autoFocus:d})})]})}function $b({id:a,label:e,value:i,onChange:s}){const u=["I thought about this movie for days!","This one is INTENSE","I laughed so much!","Kind of scary!","This one made me cry!"],[h,d]=kt.useState(u[0]);return kt.useEffect(()=>{let g=0;const _=setInterval(()=>{g=(g+1)%u.length,d(u[g])},2e3);return()=>clearInterval(_)},[]),k.jsxs("div",{className:"labelBox",children:[k.jsx("label",{className:"labelText",htmlFor:a,children:e}),k.jsx("div",{className:"inputBox",children:k.jsx("textarea",{placeholder:h,value:i,onChange:s})})]})}function Jb({type:a="button"}){return k.jsx("div",{className:"btnFlex",children:k.jsx("button",{className:"btn add",type:a,children:"Add Item"})})}function Wb({id:a,label:e,required:i}){const{selectedMediaType:s,setSelectedMediaType:u}=eu();return k.jsxs("div",{className:"labelBox",children:[k.jsxs("label",{htmlFor:a,className:"labelText",children:[e," "]}),k.jsx("div",{className:"inputBox",children:k.jsxs("select",{id:a,value:s,onChange:h=>u(h.target.value),required:i,children:[k.jsx("option",{value:"selectType",children:"Select Type"}),k.jsx("option",{value:"movie",children:"Movie"}),k.jsx("option",{value:"tv",children:"TV Show"})]})})]})}function Wy(a){return a.charAt(0).toUpperCase()+a.slice(1)}function tR(){const{newItemName:a,setNewItemName:e,newUserName:i,setNewUserName:s,newComment:u,setNewComment:h,fetchTitles:d,selectedMediaType:g,setSelectedMediaType:_,fetchStreamingProviders:v,newYearInput:S,setNewYearInput:V}=eu(),{setUpdatedUserList:P}=Vr(),{setModalIsActive:H}=fc();async function $(J){if(J.preventDefault(),!a.trim()||!i.trim()){alert("Please fill out the title and your name!"),e(""),s("");return}try{const Z=await d(a,g,S);if(Z.length===0){alert("No matching titles found. Please try again.");return}const ct=Z[0],gt=await v(ct.id,g);await Rb(Cv(Nd,"streamingItems"),{title:ct.title,user:Wy(i),comment:u,mediaType:g,poster:ct.poster||"",genres:ct.genres||[],providers:gt,year:S||"",timestamp:new Date}),e(""),s(""),V(""),h(""),_("Select Type"),H(!1),P(ft=>ft.includes(i)?ft:[...ft,Wy(i)])}catch(Z){console.error("Error adding item",Z)}}return k.jsxs("form",{className:"form",onSubmit:$,"aria-labelledby":"add-item-form-title",children:[k.jsx("h2",{id:"add-item-form-title",className:"addTitle",children:"Add a New Streaming Item"}),k.jsxs("div",{className:"labelBoxFlex",children:[k.jsx(Vf,{id:"streaming-title",label:"*Streaming Title:",placeholder:"Enter a title...",onChange:J=>e(J.target.value),value:a,required:!0,"aria-required":"true",autoFocus:!0}),k.jsx(Wb,{id:"media-type",label:"*Streaming Type:",required:!0}),k.jsx(Vf,{id:"release-year",label:"Release Year:",placeholder:"e.g., 2020 (optional)",value:S,onChange:J=>V(J.target.value)}),k.jsx("div",{className:"lineBarrier"}),k.jsx(Vf,{id:"user-name",label:"*Your Name:",value:i,placeholder:"Enter your name...",onChange:J=>s(J.target.value),required:!0,"aria-required":"true"}),k.jsx($b,{id:"user-comment",label:"Comments:",value:u,onChange:J=>h(J.target.value)})]}),k.jsx(Jb,{type:"submit"}),k.jsx("p",{className:"helperText",children:" Didn't get the right title? Try deleting it and re-adding with the release year! "})]})}function eR(){const{modalIsActive:a,setModalIsActive:e}=fc();function i(){e(!1)}return k.jsx(k.Fragment,{children:a&&k.jsx(Zv,{onClose:i,children:k.jsx(tR,{})})})}function nR(){return k.jsx("div",{className:"footerBox",children:k.jsxs("div",{className:"footerFlex",children:[k.jsx("p",{children:"Data and images provided by"}),k.jsx("a",{href:"https://www.themoviedb.org/",target:"_blank",rel:"noopener noreferrer",children:k.jsx("img",{src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg",alt:"TMDB logo"})})]})})}function iR(){return k.jsxs(k.Fragment,{children:[k.jsx(Pb,{}),k.jsx(Ob,{children:k.jsx(zb,{children:k.jsxs(Bb,{children:[k.jsx(Gb,{}),k.jsx(eR,{}),k.jsx(Zb,{})]})})}),k.jsx(nR,{})]})}V0.createRoot(document.getElementById("root")).render(k.jsx(kt.StrictMode,{children:k.jsx(iR,{})}));
